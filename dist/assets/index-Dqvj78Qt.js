(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Qd={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function bb(){if(Jv)return kl;Jv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:f,ref:o!==void 0?o:null,props:u}}return kl.Fragment=e,kl.jsx=n,kl.jsxs=n,kl}var e_;function Ab(){return e_||(e_=1,Qd.exports=bb()),Qd.exports}var Se=Ab(),Kd={exports:{}},Ul={},$d={exports:{}},Yd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function Rb(){return t_||(t_=1,function(i){function e(ue,De){var Te=ue.length;ue.push(De);e:for(;0<Te;){var je=Te-1>>>1,x=ue[je];if(0<o(x,De))ue[je]=De,ue[Te]=x,Te=je;else break e}}function n(ue){return ue.length===0?null:ue[0]}function a(ue){if(ue.length===0)return null;var De=ue[0],Te=ue.pop();if(Te!==De){ue[0]=Te;e:for(var je=0,x=ue.length,se=x>>>1;je<se;){var me=2*(je+1)-1,he=ue[me],de=me+1,Ve=ue[de];if(0>o(he,Te))de<x&&0>o(Ve,he)?(ue[je]=Ve,ue[de]=Te,je=de):(ue[je]=he,ue[me]=Te,je=me);else if(de<x&&0>o(Ve,Te))ue[je]=Ve,ue[de]=Te,je=de;else break e}}return De}function o(ue,De){var Te=ue.sortIndex-De.sortIndex;return Te!==0?Te:ue.id-De.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],p=[],E=1,w=null,A=3,C=!1,M=!1,K=!1,z=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ae(ue){for(var De=n(p);De!==null;){if(De.callback===null)a(p);else if(De.startTime<=ue)a(p),De.sortIndex=De.expirationTime,e(g,De);else break;De=n(p)}}function ge(ue){if(K=!1,ae(ue),!M)if(n(g)!==null)M=!0,bt();else{var De=n(p);De!==null&&qe(ge,De.startTime-ue)}}var k=!1,oe=-1,O=5,R=-1;function b(){return!(i.unstable_now()-R<O)}function D(){if(k){var ue=i.unstable_now();R=ue;var De=!0;try{e:{M=!1,K&&(K=!1,X(oe),oe=-1),C=!0;var Te=A;try{t:{for(ae(ue),w=n(g);w!==null&&!(w.expirationTime>ue&&b());){var je=w.callback;if(typeof je=="function"){w.callback=null,A=w.priorityLevel;var x=je(w.expirationTime<=ue);if(ue=i.unstable_now(),typeof x=="function"){w.callback=x,ae(ue),De=!0;break t}w===n(g)&&a(g),ae(ue)}else a(g);w=n(g)}if(w!==null)De=!0;else{var se=n(p);se!==null&&qe(ge,se.startTime-ue),De=!1}}break e}finally{w=null,A=Te,C=!1}De=void 0}}finally{De?L():k=!1}}}var L;if(typeof J=="function")L=function(){J(D)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,N=j.port2;j.port1.onmessage=D,L=function(){N.postMessage(null)}}else L=function(){z(D,0)};function bt(){k||(k=!0,L())}function qe(ue,De){oe=z(function(){ue(i.unstable_now())},De)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ue){ue.callback=null},i.unstable_continueExecution=function(){M||C||(M=!0,bt())},i.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ue?Math.floor(1e3/ue):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(ue){switch(A){case 1:case 2:case 3:var De=3;break;default:De=A}var Te=A;A=De;try{return ue()}finally{A=Te}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ue,De){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var Te=A;A=ue;try{return De()}finally{A=Te}},i.unstable_scheduleCallback=function(ue,De,Te){var je=i.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?je+Te:je):Te=je,ue){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=Te+x,ue={id:E++,callback:De,priorityLevel:ue,startTime:Te,expirationTime:x,sortIndex:-1},Te>je?(ue.sortIndex=Te,e(p,ue),n(g)===null&&ue===n(p)&&(K?(X(oe),oe=-1):K=!0,qe(ge,Te-je))):(ue.sortIndex=x,e(g,ue),M||C||(M=!0,bt())),ue},i.unstable_shouldYield=b,i.unstable_wrapCallback=function(ue){var De=A;return function(){var Te=A;A=De;try{return ue.apply(this,arguments)}finally{A=Te}}}}(Yd)),Yd}var n_;function Cb(){return n_||(n_=1,$d.exports=Rb()),$d.exports}var Xd={exports:{}},Be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function Ib(){if(r_)return Be;r_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function A(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,K={};function z(x,se,me){this.props=x,this.context=se,this.refs=K,this.updater=me||C}z.prototype.isReactComponent={},z.prototype.setState=function(x,se){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,se,"setState")},z.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function X(){}X.prototype=z.prototype;function J(x,se,me){this.props=x,this.context=se,this.refs=K,this.updater=me||C}var ae=J.prototype=new X;ae.constructor=J,M(ae,z.prototype),ae.isPureReactComponent=!0;var ge=Array.isArray,k={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function O(x,se,me,he,de,Ve){return me=Ve.ref,{$$typeof:i,type:x,key:se,ref:me!==void 0?me:null,props:Ve}}function R(x,se){return O(x.type,se,void 0,void 0,void 0,x.props)}function b(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function D(x){var se={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(me){return se[me]})}var L=/\/+/g;function j(x,se){return typeof x=="object"&&x!==null&&x.key!=null?D(""+x.key):se.toString(36)}function N(){}function bt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(N,N):(x.status="pending",x.then(function(se){x.status==="pending"&&(x.status="fulfilled",x.value=se)},function(se){x.status==="pending"&&(x.status="rejected",x.reason=se)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function qe(x,se,me,he,de){var Ve=typeof x;(Ve==="undefined"||Ve==="boolean")&&(x=null);var ze=!1;if(x===null)ze=!0;else switch(Ve){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(x.$$typeof){case i:case e:ze=!0;break;case E:return ze=x._init,qe(ze(x._payload),se,me,he,de)}}if(ze)return de=de(x),ze=he===""?"."+j(x,0):he,ge(de)?(me="",ze!=null&&(me=ze.replace(L,"$&/")+"/"),qe(de,se,me,"",function(Qe){return Qe})):de!=null&&(b(de)&&(de=R(de,me+(de.key==null||x&&x.key===de.key?"":(""+de.key).replace(L,"$&/")+"/")+ze)),se.push(de)),1;ze=0;var Dt=he===""?".":he+":";if(ge(x))for(var et=0;et<x.length;et++)he=x[et],Ve=Dt+j(he,et),ze+=qe(he,se,me,Ve,de);else if(et=A(x),typeof et=="function")for(x=et.call(x),et=0;!(he=x.next()).done;)he=he.value,Ve=Dt+j(he,et++),ze+=qe(he,se,me,Ve,de);else if(Ve==="object"){if(typeof x.then=="function")return qe(bt(x),se,me,he,de);throw se=String(x),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return ze}function ue(x,se,me){if(x==null)return x;var he=[],de=0;return qe(x,he,"","",function(Ve){return se.call(me,Ve,de++)}),he}function De(x){if(x._status===-1){var se=x._result;se=se(),se.then(function(me){(x._status===0||x._status===-1)&&(x._status=1,x._result=me)},function(me){(x._status===0||x._status===-1)&&(x._status=2,x._result=me)}),x._status===-1&&(x._status=0,x._result=se)}if(x._status===1)return x._result.default;throw x._result}var Te=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function je(){}return Be.Children={map:ue,forEach:function(x,se,me){ue(x,function(){se.apply(this,arguments)},me)},count:function(x){var se=0;return ue(x,function(){se++}),se},toArray:function(x){return ue(x,function(se){return se})||[]},only:function(x){if(!b(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Be.Component=z,Be.Fragment=n,Be.Profiler=o,Be.PureComponent=J,Be.StrictMode=a,Be.Suspense=g,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Be.act=function(){throw Error("act(...) is not supported in production builds of React.")},Be.cache=function(x){return function(){return x.apply(null,arguments)}},Be.cloneElement=function(x,se,me){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var he=M({},x.props),de=x.key,Ve=void 0;if(se!=null)for(ze in se.ref!==void 0&&(Ve=void 0),se.key!==void 0&&(de=""+se.key),se)!oe.call(se,ze)||ze==="key"||ze==="__self"||ze==="__source"||ze==="ref"&&se.ref===void 0||(he[ze]=se[ze]);var ze=arguments.length-2;if(ze===1)he.children=me;else if(1<ze){for(var Dt=Array(ze),et=0;et<ze;et++)Dt[et]=arguments[et+2];he.children=Dt}return O(x.type,de,void 0,void 0,Ve,he)},Be.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Be.createElement=function(x,se,me){var he,de={},Ve=null;if(se!=null)for(he in se.key!==void 0&&(Ve=""+se.key),se)oe.call(se,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(de[he]=se[he]);var ze=arguments.length-2;if(ze===1)de.children=me;else if(1<ze){for(var Dt=Array(ze),et=0;et<ze;et++)Dt[et]=arguments[et+2];de.children=Dt}if(x&&x.defaultProps)for(he in ze=x.defaultProps,ze)de[he]===void 0&&(de[he]=ze[he]);return O(x,Ve,void 0,void 0,null,de)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(x){return{$$typeof:m,render:x}},Be.isValidElement=b,Be.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:De}},Be.memo=function(x,se){return{$$typeof:p,type:x,compare:se===void 0?null:se}},Be.startTransition=function(x){var se=k.T,me={};k.T=me;try{var he=x(),de=k.S;de!==null&&de(me,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(je,Te)}catch(Ve){Te(Ve)}finally{k.T=se}},Be.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Be.use=function(x){return k.H.use(x)},Be.useActionState=function(x,se,me){return k.H.useActionState(x,se,me)},Be.useCallback=function(x,se){return k.H.useCallback(x,se)},Be.useContext=function(x){return k.H.useContext(x)},Be.useDebugValue=function(){},Be.useDeferredValue=function(x,se){return k.H.useDeferredValue(x,se)},Be.useEffect=function(x,se){return k.H.useEffect(x,se)},Be.useId=function(){return k.H.useId()},Be.useImperativeHandle=function(x,se,me){return k.H.useImperativeHandle(x,se,me)},Be.useInsertionEffect=function(x,se){return k.H.useInsertionEffect(x,se)},Be.useLayoutEffect=function(x,se){return k.H.useLayoutEffect(x,se)},Be.useMemo=function(x,se){return k.H.useMemo(x,se)},Be.useOptimistic=function(x,se){return k.H.useOptimistic(x,se)},Be.useReducer=function(x,se,me){return k.H.useReducer(x,se,me)},Be.useRef=function(x){return k.H.useRef(x)},Be.useState=function(x){return k.H.useState(x)},Be.useSyncExternalStore=function(x,se,me){return k.H.useSyncExternalStore(x,se,me)},Be.useTransition=function(){return k.H.useTransition()},Be.version="19.0.0",Be}var i_;function Hm(){return i_||(i_=1,Xd.exports=Ib()),Xd.exports}var Wd={exports:{}},En={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function Db(){if(a_)return En;a_=1;var i=Hm();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:p,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,En.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},En.flushSync=function(g){var p=f.T,E=a.p;try{if(f.T=null,a.p=2,g)return g()}finally{f.T=p,a.p=E,a.d.f()}},En.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(g,p))},En.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},En.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,w=m(E,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?a.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:C}):E==="script"&&a.d.X(g,{crossOrigin:w,integrity:A,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},En.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);a.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(g)},En.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,w=m(E,p.crossOrigin);a.d.L(g,E,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},En.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);a.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(g)},En.requestFormReset=function(g){a.d.r(g)},En.unstable_batchedUpdates=function(g,p){return g(p)},En.useFormState=function(g,p,E){return f.H.useFormState(g,p,E)},En.useFormStatus=function(){return f.H.useHostTransitionStatus()},En.version="19.0.0",En}var s_;function aE(){if(s_)return Wd.exports;s_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Wd.exports=Db(),Wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function Nb(){if(o_)return Ul;o_=1;var i=Cb(),e=Hm(),n=aE();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),C=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),ge=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function oe(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var O=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case g:return"Fragment";case m:return"Portal";case E:return"Profiler";case p:return"StrictMode";case K:return"Suspense";case z:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case C:return(t.displayName||"Context")+".Provider";case A:return(t._context.displayName||"Context")+".Consumer";case M:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X:return r=t.displayName||null,r!==null?r:R(t.type)||"Memo";case J:r=t._payload,t=t._init;try{return R(t(r))}catch{}}return null}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,L,j;function N(t){if(L===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);L=r&&r[1]||"",j=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L+t+j}var bt=!1;function qe(t,r){if(!t||bt)return"";bt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(W){var G=W}Reflect.construct(t,[],ie)}else{try{ie.call()}catch(W){G=W}t.call(ie.prototype)}}else{try{throw Error()}catch(W){G=W}(ie=t())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(W){if(W&&G&&typeof W.stack=="string")return[W.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var I=_.split(`
`),U=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===U.length)for(l=I.length-1,h=U.length-1;1<=l&&0<=h&&I[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==U[h]){var Z=`
`+I[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{bt=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?N(s):""}function ue(t){switch(t.tag){case 26:case 27:case 5:return N(t.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return t=qe(t.type,!1),t;case 11:return t=qe(t.type.render,!1),t;case 1:return t=qe(t.type,!0),t;default:return""}}function De(t){try{var r="";do r+=ue(t),t=t.return;while(t);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Te(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function je(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function x(t){if(Te(t)!==t)throw Error(a(188))}function se(t){var r=t.alternate;if(!r){if(r=Te(t),r===null)throw Error(a(188));return r!==t?null:t}for(var s=t,l=r;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return x(h),t;if(d===l)return x(h),r;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===s){_=!0,s=h,l=d;break}if(T===l){_=!0,l=h,s=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===s){_=!0,s=d,l=h;break}if(T===l){_=!0,l=d,s=h;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:r}function me(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=me(t),r!==null)return r;t=t.sibling}return null}var he=Array.isArray,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ve={pending:!1,data:null,method:null,action:null},ze=[],Dt=-1;function et(t){return{current:t}}function Qe(t){0>Dt||(t.current=ze[Dt],ze[Dt]=null,Dt--)}function Ye(t,r){Dt++,ze[Dt]=t.current,t.current=r}var Wt=et(null),gr=et(null),Ut=et(null),Nr=et(null);function Or(t,r){switch(Ye(Ut,r),Ye(gr,t),Ye(Wt,null),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?Iv(r):0;break;default:if(t=t===8?r.parentNode:r,r=t.tagName,t=t.namespaceURI)t=Iv(t),r=Dv(t,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Qe(Wt),Ye(Wt,r)}function Kn(){Qe(Wt),Qe(gr),Qe(Ut)}function xa(t){t.memoizedState!==null&&Ye(Nr,t);var r=Wt.current,s=Dv(r,t.type);r!==s&&(Ye(gr,t),Ye(Wt,s))}function zi(t){gr.current===t&&(Qe(Wt),Qe(gr)),Nr.current===t&&(Qe(Nr),Ml._currentValue=Ve)}var Bi=Object.prototype.hasOwnProperty,ri=i.unstable_scheduleCallback,Mn=i.unstable_cancelCallback,ii=i.unstable_shouldYield,ji=i.unstable_requestPaint,Zt=i.unstable_now,kn=i.unstable_getCurrentPriorityLevel,mt=i.unstable_ImmediatePriority,xt=i.unstable_UserBlockingPriority,Un=i.unstable_NormalPriority,Os=i.unstable_LowPriority,Vn=i.unstable_IdlePriority,Ms=i.log,Mr=i.unstable_setDisableYieldValue,pr=null,Jt=null;function Hi(t){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(pr,t,void 0,(t.current.flags&128)===128)}catch{}}function An(t){if(typeof Ms=="function"&&Mr(t),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(pr,t)}catch{}}var en=Math.clz32?Math.clz32:La,ai=Math.log,Vs=Math.LN2;function La(t){return t>>>=0,t===0?32:31-(ai(t)/Vs|0)|0}var $n=128,yr=4194304;function vn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function un(t,r){var s=t.pendingLanes;if(s===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,_=t.warmLanes;t=t.finishedLanes!==0;var T=s&134217727;return T!==0?(s=T&~h,s!==0?l=vn(s):(d&=T,d!==0?l=vn(d):t||(_=T&~_,_!==0&&(l=vn(_))))):(T=s&~h,T!==0?l=vn(T):d!==0?l=vn(d):t||(_=s&~_,_!==0&&(l=vn(_)))),l===0?0:r!==0&&r!==l&&(r&h)===0&&(h=l&-l,_=r&-r,h>=_||h===32&&(_&4194176)!==0)?r:l}function Vr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function qi(t,r){switch(t){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V(){var t=$n;return $n<<=1,($n&4194176)===0&&($n=128),t}function B(){var t=yr;return yr<<=1,(yr&62914560)===0&&(yr=4194304),t}function Q(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function ee(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ce(t,r,s,l,h,d){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,U=t.hiddenUpdates;for(s=_&~s;0<s;){var Z=31-en(s),ie=1<<Z;T[Z]=0,I[Z]=-1;var G=U[Z];if(G!==null)for(U[Z]=null,Z=0;Z<G.length;Z++){var W=G[Z];W!==null&&(W.lane&=-536870913)}s&=~ie}l!==0&&Ce(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function Ce(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-en(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194218}function Re(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var l=31-en(s),h=1<<l;h&r|t[l]&r&&(t[l]|=r),s&=~h}}function we(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function be(){var t=de.p;return t!==0?t:(t=window.event,t===void 0?32:Kv(t.type))}function fe(t,r){var s=de.p;try{return de.p=t,r()}finally{de.p=s}}var ye=Math.random().toString(36).slice(2),ve="__reactFiber$"+ye,Oe="__reactProps$"+ye,st="__reactContainer$"+ye,At="__reactEvents$"+ye,yt="__reactListeners$"+ye,at="__reactHandles$"+ye,wt="__reactResources$"+ye,Rn="__reactMarker$"+ye;function zn(t){delete t[ve],delete t[Oe],delete t[At],delete t[yt],delete t[at]}function Lt(t){var r=t[ve];if(r)return r;for(var s=t.parentNode;s;){if(r=s[st]||s[ve]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=Mv(t);t!==null;){if(s=t[ve])return s;t=Mv(t)}return r}t=s,s=t.parentNode}return null}function zt(t){if(t=t[ve]||t[st]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Yn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function xn(t){var r=t[wt];return r||(r=t[wt]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ct(t){t[Rn]=!0}var xr=new Set,vr={};function He(t,r){ht(t,r),ht(t+"Capture",r)}function ht(t,r){for(vr[t]=r,t=0;t<r.length;t++)xr.add(r[t])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),si=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_t={},Xn={};function Pa(t){return Bi.call(Xn,t)?!0:Bi.call(_t,t)?!1:si.test(t)?Xn[t]=!0:(_t[t]=!0,!1)}function Lr(t,r,s){if(Pa(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function Fi(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function Wn(t,r,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+l)}}function Cn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Au(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Xh(t){var r=Au(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ka(t){t._valueTracker||(t._valueTracker=Xh(t))}function Ho(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return t&&(l=Au(t)?t.checked?"true":"false":t.value),t=l,t!==s?(r.setValue(t),!0):!1}function xs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var oi=/[\n"\\]/g;function Nt(t){return t.replace(oi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Gi(t,r,s,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Cn(r)):t.value!==""+Cn(r)&&(t.value=""+Cn(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?Ls(t,_,Cn(r)):s!=null?Ls(t,_,Cn(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Cn(T):t.removeAttribute("name")}function Ua(t,r,s,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;s=s!=null?""+Cn(s):"",r=r!=null?""+Cn(r):s,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Ls(t,r,s){r==="number"&&xs(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ot(t,r,s,l){if(t=t.options,r){r={};for(var h=0;h<s.length;h++)r["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=r.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Cn(s),r=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function za(t,r,s){if(r!=null&&(r=""+Cn(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+Cn(s):""}function Qi(t,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(he(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=Cn(r),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function Zn(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var Wh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(t,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,s):typeof s!="number"||s===0||Wh.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function Ru(t,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&s[h]!==l&&qo(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&qo(t,d,r[d])}function Fo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pr(t){return Jh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Jn=null;function Ps(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var li=null,ui=null;function ci(t){var r=zt(t);if(r&&(t=r.stateNode)){var s=t[Oe]||null;e:switch(t=r.stateNode,r.type){case"input":if(Gi(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Nt(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==t&&l.form===t.form){var h=l[Oe]||null;if(!h)throw Error(a(90));Gi(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===t.form&&Ho(l)}break e;case"textarea":za(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&ot(t,!!s.multiple,r,!1)}}}var Go=!1;function Cu(t,r,s){if(Go)return t(r,s);Go=!0;try{var l=t(r);return l}finally{if(Go=!1,(li!==null||ui!==null)&&(vc(),li&&(r=li,t=ui,ui=li=null,ci(r),t)))for(r=0;r<t.length;r++)ci(t[r])}}function Ba(t,r){var s=t.stateNode;if(s===null)return null;var l=s[Oe]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var er=!1;if(tn)try{var ja={};Object.defineProperty(ja,"passive",{get:function(){er=!0}}),window.addEventListener("test",ja,ja),window.removeEventListener("test",ja,ja)}catch{er=!1}var kr=null,Ki=null,hi=null;function Qo(){if(hi)return hi;var t,r=Ki,s=r.length,l,h="value"in kr?kr.value:kr.textContent,d=h.length;for(t=0;t<s&&r[t]===h[t];t++);var _=s-t;for(l=1;l<=_&&r[s-l]===h[d-l];l++);return hi=h.slice(t,1<l?1-l:void 0)}function Ur(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function zr(){return!0}function Ko(){return!1}function nn(t){function r(s,l,h,d,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?zr:Ko,this.isPropagationStopped=Ko,this}return D(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),r}var ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ks=nn(ft),Ha=D({},ft,{view:0,detail:0}),Iu=nn(Ha),Us,zs,Br,qa=D({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Br&&(Br&&t.type==="mousemove"?(Us=t.screenX-Br.screenX,zs=t.screenY-Br.screenY):zs=Us=0,Br=t),Us)},movementY:function(t){return"movementY"in t?t.movementY:zs}}),tr=nn(qa),Du=D({},qa,{dataTransfer:0}),ef=nn(Du),Fa=D({},Ha,{relatedTarget:0}),Bs=nn(Fa),$o=D({},ft,{animationName:0,elapsedTime:0,pseudoElement:0}),js=nn($o),Nu=D({},ft,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hs=nn(Nu),tf=D({},ft,{data:0}),Yo=nn(tf),Ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Mu[t])?!!r[t]:!1}function Qa(){return Xo}var Vu=D({},Ha,{key:function(t){if(t.key){var r=Ga[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ur(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qa,charCode:function(t){return t.type==="keypress"?Ur(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ur(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qs=nn(Vu),xu=D({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wo=nn(xu),fi=D({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qa}),Lu=nn(fi),Pu=D({},ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),ku=nn(Pu),Uu=D({},qa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Fs=nn(Uu),In=D({},ft,{newState:0,oldState:0}),zu=nn(In),Bu=[9,13,27,32],jr=tn&&"CompositionEvent"in window,c=null;tn&&"documentMode"in document&&(c=document.documentMode);var y=tn&&"TextEvent"in window&&!c,v=tn&&(!jr||c&&8<c&&11>=c),S=" ",q=!1;function Y(t,r){switch(t){case"keyup":return Bu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tt=!1;function Gt(t,r){switch(t){case"compositionend":return le(r);case"keypress":return r.which!==32?null:(q=!0,S);case"textInput":return t=r.data,t===S&&q?null:t;default:return null}}function nt(t,r){if(tt)return t==="compositionend"||!jr&&Y(t,r)?(t=Qo(),hi=Ki=kr=null,tt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!rn[t.type]:r==="textarea"}function di(t,r,s,l){li?ui?ui.push(l):ui=[l]:li=l,r=Sc(r,"onChange"),0<r.length&&(s=new ks("onChange","change",null,s,l),t.push({event:s,listeners:r}))}var cn=null,Hr=null;function Zo(t){Sv(t,0)}function ju(t){var r=Yn(t);if(Ho(r))return t}function Zg(t,r){if(t==="change")return r}var Jg=!1;if(tn){var nf;if(tn){var rf="oninput"in document;if(!rf){var ep=document.createElement("div");ep.setAttribute("oninput","return;"),rf=typeof ep.oninput=="function"}nf=rf}else nf=!1;Jg=nf&&(!document.documentMode||9<document.documentMode)}function tp(){cn&&(cn.detachEvent("onpropertychange",np),Hr=cn=null)}function np(t){if(t.propertyName==="value"&&ju(Hr)){var r=[];di(r,Hr,t,Ps(t)),Cu(Zo,r)}}function eS(t,r,s){t==="focusin"?(tp(),cn=r,Hr=s,cn.attachEvent("onpropertychange",np)):t==="focusout"&&tp()}function tS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ju(Hr)}function nS(t,r){if(t==="click")return ju(r)}function rS(t,r){if(t==="input"||t==="change")return ju(r)}function iS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Bn=typeof Object.is=="function"?Object.is:iS;function Jo(t,r){if(Bn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Bi.call(r,h)||!Bn(t[h],r[h]))return!1}return!0}function rp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ip(t,r){var s=rp(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=r&&l>=r)return{node:s,offset:r-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=rp(s)}}function ap(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ap(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function sp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=xs(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=xs(t.document)}return r}function af(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function aS(t,r){var s=sp(r);r=t.focusedElem;var l=t.selectionRange;if(s!==r&&r&&r.ownerDocument&&ap(r.ownerDocument.documentElement,r)){if(l!==null&&af(r)){if(t=l.start,s=l.end,s===void 0&&(s=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(s,r.value.length);else if(s=(t=r.ownerDocument||document)&&t.defaultView||window,s.getSelection){s=s.getSelection();var h=r.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!s.extend&&d>l&&(h=l,l=d,d=h),h=ip(r,d);var _=ip(r,l);h&&_&&(s.rangeCount!==1||s.anchorNode!==h.node||s.anchorOffset!==h.offset||s.focusNode!==_.node||s.focusOffset!==_.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),s.removeAllRanges(),d>l?(s.addRange(t),s.extend(_.node,_.offset)):(t.setEnd(_.node,_.offset),s.addRange(t)))}}for(t=[],s=r;s=s.parentNode;)s.nodeType===1&&t.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)s=t[r],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var sS=tn&&"documentMode"in document&&11>=document.documentMode,Gs=null,sf=null,el=null,of=!1;function op(t,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;of||Gs==null||Gs!==xs(l)||(l=Gs,"selectionStart"in l&&af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&Jo(el,l)||(el=l,l=Sc(sf,"onSelect"),0<l.length&&(r=new ks("onSelect","select",null,r,s),t.push({event:r,listeners:l}),r.target=Gs)))}function Ka(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var Qs={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionrun:Ka("Transition","TransitionRun"),transitionstart:Ka("Transition","TransitionStart"),transitioncancel:Ka("Transition","TransitionCancel"),transitionend:Ka("Transition","TransitionEnd")},lf={},lp={};tn&&(lp=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function $a(t){if(lf[t])return lf[t];if(!Qs[t])return t;var r=Qs[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in lp)return lf[t]=r[s];return t}var up=$a("animationend"),cp=$a("animationiteration"),hp=$a("animationstart"),oS=$a("transitionrun"),lS=$a("transitionstart"),uS=$a("transitioncancel"),fp=$a("transitionend"),dp=new Map,mp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function _r(t,r){dp.set(t,r),He(r,[t])}var nr=[],Ks=0,uf=0;function Hu(){for(var t=Ks,r=uf=Ks=0;r<t;){var s=nr[r];nr[r++]=null;var l=nr[r];nr[r++]=null;var h=nr[r];nr[r++]=null;var d=nr[r];if(nr[r++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&gp(s,h,d)}}function qu(t,r,s,l){nr[Ks++]=t,nr[Ks++]=r,nr[Ks++]=s,nr[Ks++]=l,uf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function cf(t,r,s,l){return qu(t,r,s,l),Fu(t)}function $i(t,r){return qu(t,null,null,r),Fu(t)}function gp(t,r,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&r!==null&&t.tag===3&&(d=t.stateNode,h=31-en(s),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[r]:t.push(r),r.lane=s|536870912)}function Fu(t){if(50<Al)throw Al=0,pd=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var $s={},pp=new WeakMap;function rr(t,r){if(typeof t=="object"&&t!==null){var s=pp.get(t);return s!==void 0?s:(r={value:t,source:r,stack:De(r)},pp.set(t,r),r)}return{value:t,source:r,stack:De(r)}}var Ys=[],Xs=0,Gu=null,Qu=0,ir=[],ar=0,Ya=null,mi=1,gi="";function Xa(t,r){Ys[Xs++]=Qu,Ys[Xs++]=Gu,Gu=t,Qu=r}function yp(t,r,s){ir[ar++]=mi,ir[ar++]=gi,ir[ar++]=Ya,Ya=t;var l=mi;t=gi;var h=32-en(l)-1;l&=~(1<<h),s+=1;var d=32-en(r)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,mi=1<<32-en(r)+h|s<<h|l,gi=d+t}else mi=1<<d|s<<h|l,gi=t}function hf(t){t.return!==null&&(Xa(t,1),yp(t,1,0))}function ff(t){for(;t===Gu;)Gu=Ys[--Xs],Ys[Xs]=null,Qu=Ys[--Xs],Ys[Xs]=null;for(;t===Ya;)Ya=ir[--ar],ir[ar]=null,gi=ir[--ar],ir[ar]=null,mi=ir[--ar],ir[ar]=null}var Dn=null,hn=null,lt=!1,Er=null,qr=!1,df=Error(a(519));function Wa(t){var r=Error(a(418,""));throw rl(rr(r,t)),df}function vp(t){var r=t.stateNode,s=t.type,l=t.memoizedProps;switch(r[ve]=t,r[Oe]=l,s){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(s=0;s<Cl.length;s++)Ze(Cl[s],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":Ze("invalid",r),Ua(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ka(r);break;case"select":Ze("invalid",r);break;case"textarea":Ze("invalid",r),Qi(r,l.value,l.defaultValue,l.children),ka(r)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||Cv(r.textContent,s)?(l.popover!=null&&(Ze("beforetoggle",r),Ze("toggle",r)),l.onScroll!=null&&Ze("scroll",r),l.onScrollEnd!=null&&Ze("scrollend",r),l.onClick!=null&&(r.onclick=bc),r=!0):r=!1,r||Wa(t)}function _p(t){for(Dn=t.return;Dn;)switch(Dn.tag){case 3:case 27:qr=!0;return;case 5:case 13:qr=!1;return;default:Dn=Dn.return}}function tl(t){if(t!==Dn)return!1;if(!lt)return _p(t),lt=!0,!1;var r=!1,s;if((s=t.tag!==3&&t.tag!==27)&&((s=t.tag===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Vd(t.type,t.memoizedProps)),s=!s),s&&(r=!0),r&&hn&&Wa(t),_p(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(r===0){hn=wr(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;t=t.nextSibling}hn=null}}else hn=Dn?wr(t.stateNode.nextSibling):null;return!0}function nl(){hn=Dn=null,lt=!1}function rl(t){Er===null?Er=[t]:Er.push(t)}var il=Error(a(460)),Ep=Error(a(474)),mf={then:function(){}};function Tp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ku(){}function wp(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(Ku,Ku),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===il?Error(a(483)):t;default:if(typeof r.status=="string")r.then(Ku,Ku);else{if(t=Et,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===il?Error(a(483)):t}throw al=r,il}}var al=null;function Sp(){if(al===null)throw Error(a(459));var t=al;return al=null,t}var Ws=null,sl=0;function $u(t){var r=sl;return sl+=1,Ws===null&&(Ws=[]),wp(Ws,t,r)}function ol(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Yu(t,r){throw r.$$typeof===u?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function bp(t){var r=t._init;return r(t._payload)}function Ap(t){function r(H,P){if(t){var F=H.deletions;F===null?(H.deletions=[P],H.flags|=16):F.push(P)}}function s(H,P){if(!t)return null;for(;P!==null;)r(H,P),P=P.sibling;return null}function l(H){for(var P=new Map;H!==null;)H.key!==null?P.set(H.key,H):P.set(H.index,H),H=H.sibling;return P}function h(H,P){return H=sa(H,P),H.index=0,H.sibling=null,H}function d(H,P,F){return H.index=F,t?(F=H.alternate,F!==null?(F=F.index,F<P?(H.flags|=33554434,P):F):(H.flags|=33554434,P)):(H.flags|=1048576,P)}function _(H){return t&&H.alternate===null&&(H.flags|=33554434),H}function T(H,P,F,te){return P===null||P.tag!==6?(P=ld(F,H.mode,te),P.return=H,P):(P=h(P,F),P.return=H,P)}function I(H,P,F,te){var Ee=F.type;return Ee===g?Z(H,P,F.props.children,te,F.key):P!==null&&(P.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===J&&bp(Ee)===P.type)?(P=h(P,F.props),ol(P,F),P.return=H,P):(P=dc(F.type,F.key,F.props,null,H.mode,te),ol(P,F),P.return=H,P)}function U(H,P,F,te){return P===null||P.tag!==4||P.stateNode.containerInfo!==F.containerInfo||P.stateNode.implementation!==F.implementation?(P=ud(F,H.mode,te),P.return=H,P):(P=h(P,F.children||[]),P.return=H,P)}function Z(H,P,F,te,Ee){return P===null||P.tag!==7?(P=os(F,H.mode,te,Ee),P.return=H,P):(P=h(P,F),P.return=H,P)}function ie(H,P,F){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=ld(""+P,H.mode,F),P.return=H,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case f:return F=dc(P.type,P.key,P.props,null,H.mode,F),ol(F,P),F.return=H,F;case m:return P=ud(P,H.mode,F),P.return=H,P;case J:var te=P._init;return P=te(P._payload),ie(H,P,F)}if(he(P)||oe(P))return P=os(P,H.mode,F,null),P.return=H,P;if(typeof P.then=="function")return ie(H,$u(P),F);if(P.$$typeof===C)return ie(H,cc(H,P),F);Yu(H,P)}return null}function G(H,P,F,te){var Ee=P!==null?P.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Ee!==null?null:T(H,P,""+F,te);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case f:return F.key===Ee?I(H,P,F,te):null;case m:return F.key===Ee?U(H,P,F,te):null;case J:return Ee=F._init,F=Ee(F._payload),G(H,P,F,te)}if(he(F)||oe(F))return Ee!==null?null:Z(H,P,F,te,null);if(typeof F.then=="function")return G(H,P,$u(F),te);if(F.$$typeof===C)return G(H,P,cc(H,F),te);Yu(H,F)}return null}function W(H,P,F,te,Ee){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return H=H.get(F)||null,T(P,H,""+te,Ee);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case f:return H=H.get(te.key===null?F:te.key)||null,I(P,H,te,Ee);case m:return H=H.get(te.key===null?F:te.key)||null,U(P,H,te,Ee);case J:var Ke=te._init;return te=Ke(te._payload),W(H,P,F,te,Ee)}if(he(te)||oe(te))return H=H.get(F)||null,Z(P,H,te,Ee,null);if(typeof te.then=="function")return W(H,P,F,$u(te),Ee);if(te.$$typeof===C)return W(H,P,F,cc(P,te),Ee);Yu(P,te)}return null}function Ae(H,P,F,te){for(var Ee=null,Ke=null,Ie=P,Me=P=0,on=null;Ie!==null&&Me<F.length;Me++){Ie.index>Me?(on=Ie,Ie=null):on=Ie.sibling;var ut=G(H,Ie,F[Me],te);if(ut===null){Ie===null&&(Ie=on);break}t&&Ie&&ut.alternate===null&&r(H,Ie),P=d(ut,P,Me),Ke===null?Ee=ut:Ke.sibling=ut,Ke=ut,Ie=on}if(Me===F.length)return s(H,Ie),lt&&Xa(H,Me),Ee;if(Ie===null){for(;Me<F.length;Me++)Ie=ie(H,F[Me],te),Ie!==null&&(P=d(Ie,P,Me),Ke===null?Ee=Ie:Ke.sibling=Ie,Ke=Ie);return lt&&Xa(H,Me),Ee}for(Ie=l(Ie);Me<F.length;Me++)on=W(Ie,H,Me,F[Me],te),on!==null&&(t&&on.alternate!==null&&Ie.delete(on.key===null?Me:on.key),P=d(on,P,Me),Ke===null?Ee=on:Ke.sibling=on,Ke=on);return t&&Ie.forEach(function(da){return r(H,da)}),lt&&Xa(H,Me),Ee}function ke(H,P,F,te){if(F==null)throw Error(a(151));for(var Ee=null,Ke=null,Ie=P,Me=P=0,on=null,ut=F.next();Ie!==null&&!ut.done;Me++,ut=F.next()){Ie.index>Me?(on=Ie,Ie=null):on=Ie.sibling;var da=G(H,Ie,ut.value,te);if(da===null){Ie===null&&(Ie=on);break}t&&Ie&&da.alternate===null&&r(H,Ie),P=d(da,P,Me),Ke===null?Ee=da:Ke.sibling=da,Ke=da,Ie=on}if(ut.done)return s(H,Ie),lt&&Xa(H,Me),Ee;if(Ie===null){for(;!ut.done;Me++,ut=F.next())ut=ie(H,ut.value,te),ut!==null&&(P=d(ut,P,Me),Ke===null?Ee=ut:Ke.sibling=ut,Ke=ut);return lt&&Xa(H,Me),Ee}for(Ie=l(Ie);!ut.done;Me++,ut=F.next())ut=W(Ie,H,Me,ut.value,te),ut!==null&&(t&&ut.alternate!==null&&Ie.delete(ut.key===null?Me:ut.key),P=d(ut,P,Me),Ke===null?Ee=ut:Ke.sibling=ut,Ke=ut);return t&&Ie.forEach(function(Sb){return r(H,Sb)}),lt&&Xa(H,Me),Ee}function Vt(H,P,F,te){if(typeof F=="object"&&F!==null&&F.type===g&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case f:e:{for(var Ee=F.key;P!==null;){if(P.key===Ee){if(Ee=F.type,Ee===g){if(P.tag===7){s(H,P.sibling),te=h(P,F.props.children),te.return=H,H=te;break e}}else if(P.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===J&&bp(Ee)===P.type){s(H,P.sibling),te=h(P,F.props),ol(te,F),te.return=H,H=te;break e}s(H,P);break}else r(H,P);P=P.sibling}F.type===g?(te=os(F.props.children,H.mode,te,F.key),te.return=H,H=te):(te=dc(F.type,F.key,F.props,null,H.mode,te),ol(te,F),te.return=H,H=te)}return _(H);case m:e:{for(Ee=F.key;P!==null;){if(P.key===Ee)if(P.tag===4&&P.stateNode.containerInfo===F.containerInfo&&P.stateNode.implementation===F.implementation){s(H,P.sibling),te=h(P,F.children||[]),te.return=H,H=te;break e}else{s(H,P);break}else r(H,P);P=P.sibling}te=ud(F,H.mode,te),te.return=H,H=te}return _(H);case J:return Ee=F._init,F=Ee(F._payload),Vt(H,P,F,te)}if(he(F))return Ae(H,P,F,te);if(oe(F)){if(Ee=oe(F),typeof Ee!="function")throw Error(a(150));return F=Ee.call(F),ke(H,P,F,te)}if(typeof F.then=="function")return Vt(H,P,$u(F),te);if(F.$$typeof===C)return Vt(H,P,cc(H,F),te);Yu(H,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,P!==null&&P.tag===6?(s(H,P.sibling),te=h(P,F),te.return=H,H=te):(s(H,P),te=ld(F,H.mode,te),te.return=H,H=te),_(H)):s(H,P)}return function(H,P,F,te){try{sl=0;var Ee=Vt(H,P,F,te);return Ws=null,Ee}catch(Ie){if(Ie===il)throw Ie;var Ke=ur(29,Ie,null,H.mode);return Ke.lanes=te,Ke.return=H,Ke}finally{}}}var Za=Ap(!0),Rp=Ap(!1),Zs=et(null),Xu=et(0);function Cp(t,r){t=Ri,Ye(Xu,t),Ye(Zs,r),Ri=t|r.baseLanes}function gf(){Ye(Xu,Ri),Ye(Zs,Zs.current)}function pf(){Ri=Xu.current,Qe(Zs),Qe(Xu)}var sr=et(null),Fr=null;function Yi(t){var r=t.alternate;Ye(Kt,Kt.current&1),Ye(sr,t),Fr===null&&(r===null||Zs.current!==null||r.memoizedState!==null)&&(Fr=t)}function Ip(t){if(t.tag===22){if(Ye(Kt,Kt.current),Ye(sr,t),Fr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(Fr=t)}}else Xi()}function Xi(){Ye(Kt,Kt.current),Ye(sr,sr.current)}function pi(t){Qe(sr),Fr===t&&(Fr=null),Qe(Kt)}var Kt=et(0);function Wu(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var cS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},hS=i.unstable_scheduleCallback,fS=i.unstable_NormalPriority,$t={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yf(){return{controller:new cS,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&hS(fS,function(){t.controller.abort()})}var ul=null,vf=0,Js=0,eo=null;function dS(t,r){if(ul===null){var s=ul=[];vf=0,Js=bd(),eo={status:"pending",value:void 0,then:function(l){s.push(l)}}}return vf++,r.then(Dp,Dp),r}function Dp(){if(--vf===0&&ul!==null){eo!==null&&(eo.status="fulfilled");var t=ul;ul=null,Js=0,eo=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function mS(t,r){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<s.length;h++)(0,s[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Np=b.S;b.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&dS(t,r),Np!==null&&Np(t,r)};var Ja=et(null);function _f(){var t=Ja.current;return t!==null?t:Et.pooledCache}function Zu(t,r){r===null?Ye(Ja,Ja.current):Ye(Ja,r.pool)}function Op(){var t=_f();return t===null?null:{parent:$t._currentValue,pool:t}}var Wi=0,Fe=null,gt=null,Bt=null,Ju=!1,to=!1,es=!1,ec=0,cl=0,no=null,gS=0;function Pt(){throw Error(a(321))}function Ef(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!Bn(t[s],r[s]))return!1;return!0}function Tf(t,r,s,l,h,d){return Wi=d,Fe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,b.H=t===null||t.memoizedState===null?ts:Zi,es=!1,d=s(l,h),es=!1,to&&(d=Vp(r,s,l,h)),Mp(t),d}function Mp(t){b.H=Gr;var r=gt!==null&&gt.next!==null;if(Wi=0,Bt=gt=Fe=null,Ju=!1,cl=0,no=null,r)throw Error(a(300));t===null||an||(t=t.dependencies,t!==null&&uc(t)&&(an=!0))}function Vp(t,r,s,l){Fe=t;var h=0;do{if(to&&(no=null),cl=0,to=!1,25<=h)throw Error(a(301));if(h+=1,Bt=gt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}b.H=ns,d=r(s,l)}while(to);return d}function pS(){var t=b.H,r=t.useState()[0];return r=typeof r.then=="function"?hl(r):r,t=t.useState()[0],(gt!==null?gt.memoizedState:null)!==t&&(Fe.flags|=1024),r}function wf(){var t=ec!==0;return ec=0,t}function Sf(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function bf(t){if(Ju){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Ju=!1}Wi=0,Bt=gt=Fe=null,to=!1,cl=ec=0,no=null}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Fe.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function jt(){if(gt===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var r=Bt===null?Fe.memoizedState:Bt.next;if(r!==null)Bt=r,gt=t;else{if(t===null)throw Fe.alternate===null?Error(a(467)):Error(a(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Bt===null?Fe.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}var tc;tc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function hl(t){var r=cl;return cl+=1,no===null&&(no=[]),t=wp(no,t,r),r=Fe,(Bt===null?r.memoizedState:Bt.next)===null&&(r=r.alternate,b.H=r===null||r.memoizedState===null?ts:Zi),t}function nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===C)return _n(t)}throw Error(a(438,String(t)))}function Af(t){var r=null,s=Fe.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=Fe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=tc(),Fe.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),l=0;l<t;l++)s[l]=ge;return r.index++,s}function yi(t,r){return typeof r=="function"?r(t):r}function rc(t){var r=jt();return Rf(r,gt,t)}function Rf(t,r,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=_=null,I=null,U=r,Z=!1;do{var ie=U.lane&-536870913;if(ie!==U.lane?(rt&ie)===ie:(Wi&ie)===ie){var G=U.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),ie===Js&&(Z=!0);else if((Wi&G)===G){U=U.next,G===Js&&(Z=!0);continue}else ie={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(T=I=ie,_=d):I=I.next=ie,Fe.lanes|=G,oa|=G;ie=U.action,es&&s(d,ie),d=U.hasEagerState?U.eagerState:s(d,ie)}else G={lane:ie,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(T=I=G,_=d):I=I.next=G,Fe.lanes|=ie,oa|=ie;U=U.next}while(U!==null&&U!==r);if(I===null?_=d:I.next=T,!Bn(d,t.memoizedState)&&(an=!0,Z&&(s=eo,s!==null)))throw s;t.memoizedState=d,t.baseState=_,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Cf(t){var r=jt(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=r.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Bn(d,r.memoizedState)||(an=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),s.lastRenderedState=d}return[d,l]}function xp(t,r,s){var l=Fe,h=jt(),d=lt;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=r();var _=!Bn((gt||h).memoizedState,s);if(_&&(h.memoizedState=s,an=!0),h=h.queue,Nf(kp.bind(null,l,h,t),[t]),h.getSnapshot!==r||_||Bt!==null&&Bt.memoizedState.tag&1){if(l.flags|=2048,ro(9,Pp.bind(null,l,h,s,r),{destroy:void 0},null),Et===null)throw Error(a(349));d||(Wi&60)!==0||Lp(l,r,s)}return s}function Lp(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Fe.updateQueue,r===null?(r=tc(),Fe.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function Pp(t,r,s,l){r.value=s,r.getSnapshot=l,Up(r)&&zp(t)}function kp(t,r,s){return s(function(){Up(r)&&zp(t)})}function Up(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!Bn(t,s)}catch{return!0}}function zp(t){var r=$i(t,2);r!==null&&Nn(r,t,2)}function If(t){var r=Ln();if(typeof t=="function"){var s=t;if(t=s(),es){An(!0);try{s()}finally{An(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:t},r}function Bp(t,r,s,l){return t.baseState=s,Rf(t,gt,typeof l=="function"?l:yi)}function yS(t,r,s,l,h){if(sc(t))throw Error(a(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};b.T!==null?s(!0):d.isTransition=!1,l(d),s=r.pending,s===null?(d.next=r.pending=d,jp(r,d)):(d.next=s.next,r.pending=s.next=d)}}function jp(t,r){var s=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=b.T,_={};b.T=_;try{var T=s(h,l),I=b.S;I!==null&&I(_,T),Hp(t,r,T)}catch(U){Df(t,r,U)}finally{b.T=d}}else try{d=s(h,l),Hp(t,r,d)}catch(U){Df(t,r,U)}}function Hp(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){qp(t,r,l)},function(l){return Df(t,r,l)}):qp(t,r,s)}function qp(t,r,s){r.status="fulfilled",r.value=s,Fp(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,jp(t,s)))}function Df(t,r,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,Fp(r),r=r.next;while(r!==l)}t.action=null}function Fp(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Gp(t,r){return r}function Qp(t,r){if(lt){var s=Et.formState;if(s!==null){e:{var l=Fe;if(lt){if(hn){t:{for(var h=hn,d=qr;h.nodeType!==8;){if(!d){h=null;break t}if(h=wr(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){hn=wr(h.nextSibling),l=h.data==="F!";break e}}Wa(l)}l=!1}l&&(r=s[0])}}return s=Ln(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gp,lastRenderedState:r},s.queue=l,s=cy.bind(null,Fe,l),l.dispatch=s,l=If(!1),d=Lf.bind(null,Fe,!1,l.queue),l=Ln(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,s=yS.bind(null,Fe,h,d,s),h.dispatch=s,l.memoizedState=t,[r,s,!1]}function Kp(t){var r=jt();return $p(r,gt,t)}function $p(t,r,s){r=Rf(t,r,Gp)[0],t=rc(yi)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?hl(r):r;var l=jt(),h=l.queue,d=h.dispatch;return s!==l.memoizedState&&(Fe.flags|=2048,ro(9,vS.bind(null,h,s),{destroy:void 0},null)),[r,d,t]}function vS(t,r){t.action=r}function Yp(t){var r=jt(),s=gt;if(s!==null)return $p(r,s,t);jt(),r=r.memoizedState,s=jt();var l=s.queue.dispatch;return s.memoizedState=t,[r,l,!1]}function ro(t,r,s,l){return t={tag:t,create:r,inst:s,deps:l,next:null},r=Fe.updateQueue,r===null&&(r=tc(),Fe.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,r.lastEffect=t),t}function Xp(){return jt().memoizedState}function ic(t,r,s,l){var h=Ln();Fe.flags|=t,h.memoizedState=ro(1|r,s,{destroy:void 0},l===void 0?null:l)}function ac(t,r,s,l){var h=jt();l=l===void 0?null:l;var d=h.memoizedState.inst;gt!==null&&l!==null&&Ef(l,gt.memoizedState.deps)?h.memoizedState=ro(r,s,d,l):(Fe.flags|=t,h.memoizedState=ro(1|r,s,d,l))}function Wp(t,r){ic(8390656,8,t,r)}function Nf(t,r){ac(2048,8,t,r)}function Zp(t,r){return ac(4,2,t,r)}function Jp(t,r){return ac(4,4,t,r)}function ey(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ty(t,r,s){s=s!=null?s.concat([t]):null,ac(4,4,ey.bind(null,r,t),s)}function Of(){}function ny(t,r){var s=jt();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&Ef(r,l[1])?l[0]:(s.memoizedState=[t,r],t)}function ry(t,r){var s=jt();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&Ef(r,l[1]))return l[0];if(l=t(),es){An(!0);try{t()}finally{An(!1)}}return s.memoizedState=[l,r],l}function Mf(t,r,s){return s===void 0||(Wi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=s,t=av(),Fe.lanes|=t,oa|=t,s)}function iy(t,r,s,l){return Bn(s,r)?s:Zs.current!==null?(t=Mf(t,s,l),Bn(t,r)||(an=!0),t):(Wi&42)===0?(an=!0,t.memoizedState=s):(t=av(),Fe.lanes|=t,oa|=t,r)}function ay(t,r,s,l,h){var d=de.p;de.p=d!==0&&8>d?d:8;var _=b.T,T={};b.T=T,Lf(t,!1,r,s);try{var I=h(),U=b.S;if(U!==null&&U(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Z=mS(I,l);fl(t,r,Z,Fn(t))}else fl(t,r,l,Fn(t))}catch(ie){fl(t,r,{then:function(){},status:"rejected",reason:ie},Fn())}finally{de.p=d,b.T=_}}function _S(){}function Vf(t,r,s,l){if(t.tag!==5)throw Error(a(476));var h=sy(t).queue;ay(t,h,r,Ve,s===null?_S:function(){return oy(t),s(l)})}function sy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Ve,baseState:Ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:Ve},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function oy(t){var r=sy(t).next.queue;fl(t,r,{},Fn())}function xf(){return _n(Ml)}function ly(){return jt().memoizedState}function uy(){return jt().memoizedState}function ES(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=Fn();t=ta(s);var l=na(r,t,s);l!==null&&(Nn(l,r,s),gl(l,r,s)),r={cache:yf()},t.payload=r;return}r=r.return}}function TS(t,r,s){var l=Fn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},sc(t)?hy(r,s):(s=cf(t,r,s,l),s!==null&&(Nn(s,t,l),fy(s,r,l)))}function cy(t,r,s){var l=Fn();fl(t,r,s,l)}function fl(t,r,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(sc(t))hy(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,T=d(_,s);if(h.hasEagerState=!0,h.eagerState=T,Bn(T,_))return qu(t,r,h,0),Et===null&&Hu(),!1}catch{}finally{}if(s=cf(t,r,h,l),s!==null)return Nn(s,t,l),fy(s,r,l),!0}return!1}function Lf(t,r,s,l){if(l={lane:2,revertLane:bd(),action:l,hasEagerState:!1,eagerState:null,next:null},sc(t)){if(r)throw Error(a(479))}else r=cf(t,s,l,2),r!==null&&Nn(r,t,2)}function sc(t){var r=t.alternate;return t===Fe||r!==null&&r===Fe}function hy(t,r){to=Ju=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function fy(t,r,s){if((s&4194176)!==0){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Re(t,s)}}var Gr={readContext:_n,use:nc,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt};Gr.useCacheRefresh=Pt,Gr.useMemoCache=Pt,Gr.useHostTransitionStatus=Pt,Gr.useFormState=Pt,Gr.useActionState=Pt,Gr.useOptimistic=Pt;var ts={readContext:_n,use:nc,useCallback:function(t,r){return Ln().memoizedState=[t,r===void 0?null:r],t},useContext:_n,useEffect:Wp,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,ic(4194308,4,ey.bind(null,r,t),s)},useLayoutEffect:function(t,r){return ic(4194308,4,t,r)},useInsertionEffect:function(t,r){ic(4,2,t,r)},useMemo:function(t,r){var s=Ln();r=r===void 0?null:r;var l=t();if(es){An(!0);try{t()}finally{An(!1)}}return s.memoizedState=[l,r],l},useReducer:function(t,r,s){var l=Ln();if(s!==void 0){var h=s(r);if(es){An(!0);try{s(r)}finally{An(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=TS.bind(null,Fe,t),[l.memoizedState,t]},useRef:function(t){var r=Ln();return t={current:t},r.memoizedState=t},useState:function(t){t=If(t);var r=t.queue,s=cy.bind(null,Fe,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:Of,useDeferredValue:function(t,r){var s=Ln();return Mf(s,t,r)},useTransition:function(){var t=If(!1);return t=ay.bind(null,Fe,t.queue,!0,!1),Ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var l=Fe,h=Ln();if(lt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),Et===null)throw Error(a(349));(rt&60)!==0||Lp(l,r,s)}h.memoizedState=s;var d={value:s,getSnapshot:r};return h.queue=d,Wp(kp.bind(null,l,d,t),[t]),l.flags|=2048,ro(9,Pp.bind(null,l,d,s,r),{destroy:void 0},null),s},useId:function(){var t=Ln(),r=Et.identifierPrefix;if(lt){var s=gi,l=mi;s=(l&~(1<<32-en(l)-1)).toString(32)+s,r=":"+r+"R"+s,s=ec++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=gS++,r=":"+r+"r"+s.toString(32)+":";return t.memoizedState=r},useCacheRefresh:function(){return Ln().memoizedState=ES.bind(null,Fe)}};ts.useMemoCache=Af,ts.useHostTransitionStatus=xf,ts.useFormState=Qp,ts.useActionState=Qp,ts.useOptimistic=function(t){var r=Ln();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=Lf.bind(null,Fe,!0,s),s.dispatch=r,[t,r]};var Zi={readContext:_n,use:nc,useCallback:ny,useContext:_n,useEffect:Nf,useImperativeHandle:ty,useInsertionEffect:Zp,useLayoutEffect:Jp,useMemo:ry,useReducer:rc,useRef:Xp,useState:function(){return rc(yi)},useDebugValue:Of,useDeferredValue:function(t,r){var s=jt();return iy(s,gt.memoizedState,t,r)},useTransition:function(){var t=rc(yi)[0],r=jt().memoizedState;return[typeof t=="boolean"?t:hl(t),r]},useSyncExternalStore:xp,useId:ly};Zi.useCacheRefresh=uy,Zi.useMemoCache=Af,Zi.useHostTransitionStatus=xf,Zi.useFormState=Kp,Zi.useActionState=Kp,Zi.useOptimistic=function(t,r){var s=jt();return Bp(s,gt,t,r)};var ns={readContext:_n,use:nc,useCallback:ny,useContext:_n,useEffect:Nf,useImperativeHandle:ty,useInsertionEffect:Zp,useLayoutEffect:Jp,useMemo:ry,useReducer:Cf,useRef:Xp,useState:function(){return Cf(yi)},useDebugValue:Of,useDeferredValue:function(t,r){var s=jt();return gt===null?Mf(s,t,r):iy(s,gt.memoizedState,t,r)},useTransition:function(){var t=Cf(yi)[0],r=jt().memoizedState;return[typeof t=="boolean"?t:hl(t),r]},useSyncExternalStore:xp,useId:ly};ns.useCacheRefresh=uy,ns.useMemoCache=Af,ns.useHostTransitionStatus=xf,ns.useFormState=Yp,ns.useActionState=Yp,ns.useOptimistic=function(t,r){var s=jt();return gt!==null?Bp(s,gt,t,r):(s.baseState=t,[t,s.queue.dispatch])};function Pf(t,r,s,l){r=t.memoizedState,s=s(l,r),s=s==null?r:D({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var kf={isMounted:function(t){return(t=t._reactInternals)?Te(t)===t:!1},enqueueSetState:function(t,r,s){t=t._reactInternals;var l=Fn(),h=ta(l);h.payload=r,s!=null&&(h.callback=s),r=na(t,h,l),r!==null&&(Nn(r,t,l),gl(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var l=Fn(),h=ta(l);h.tag=1,h.payload=r,s!=null&&(h.callback=s),r=na(t,h,l),r!==null&&(Nn(r,t,l),gl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=Fn(),l=ta(s);l.tag=2,r!=null&&(l.callback=r),r=na(t,l,s),r!==null&&(Nn(r,t,s),gl(r,t,s))}};function dy(t,r,s,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!Jo(s,l)||!Jo(h,d):!0}function my(t,r,s,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==t&&kf.enqueueReplaceState(r,r.state,null)}function rs(t,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(t=t.defaultProps){s===r&&(s=D({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var oc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function gy(t){oc(t)}function py(t){console.error(t)}function yy(t){oc(t)}function lc(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function vy(t,r,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uf(t,r,s){return s=ta(s),s.tag=3,s.payload={element:null},s.callback=function(){lc(t,r)},s}function _y(t){return t=ta(t),t.tag=3,t}function Ey(t,r,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){vy(r,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){vy(r,s,l),typeof h!="function"&&(la===null?la=new Set([this]):la.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function wS(t,r,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&ml(r,s,h,!0),s=sr.current,s!==null){switch(s.tag){case 13:return Fr===null?_d():s.alternate===null&&Mt===0&&(Mt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===mf?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),Td(t,l,h)),!1;case 22:return s.flags|=65536,l===mf?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),Td(t,l,h)),!1}throw Error(a(435,s.tag))}return Td(t,l,h),_d(),!1}if(lt)return r=sr.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==df&&(t=Error(a(422),{cause:l}),rl(rr(t,s)))):(l!==df&&(r=Error(a(423),{cause:l}),rl(rr(r,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=rr(l,s),h=Uf(t.stateNode,l,h),Jf(t,h),Mt!==4&&(Mt=2)),!1;var d=Error(a(520),{cause:l});if(d=rr(d,s),Sl===null?Sl=[d]:Sl.push(d),Mt!==4&&(Mt=2),r===null)return!0;l=rr(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Uf(s.stateNode,l,t),Jf(s,t),!1;case 1:if(r=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(la===null||!la.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=_y(h),Ey(h,t,s,l),Jf(s,h),!1}s=s.return}while(s!==null);return!1}var Ty=Error(a(461)),an=!1;function fn(t,r,s,l){r.child=t===null?Rp(r,null,s,l):Za(r,t.child,s,l)}function wy(t,r,s,l,h){s=s.render;var d=r.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return as(r),l=Tf(t,r,s,_,d,h),T=wf(),t!==null&&!an?(Sf(t,r,h),vi(t,r,h)):(lt&&T&&hf(r),r.flags|=1,fn(t,r,l,h),r.child)}function Sy(t,r,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!od(d)&&d.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=d,by(t,r,d,l,h)):(t=dc(s.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Kf(t,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:Jo,s(_,l)&&t.ref===r.ref)return vi(t,r,h)}return r.flags|=1,t=sa(d,l),t.ref=r.ref,t.return=r,r.child=t}function by(t,r,s,l,h){if(t!==null){var d=t.memoizedProps;if(Jo(d,l)&&t.ref===r.ref)if(an=!1,r.pendingProps=l=d,Kf(t,h))(t.flags&131072)!==0&&(an=!0);else return r.lanes=t.lanes,vi(t,r,h)}return zf(t,r,s,l,h)}function Ay(t,r,s){var l=r.pendingProps,h=l.children,d=(r.stateNode._pendingVisibility&2)!==0,_=t!==null?t.memoizedState:null;if(dl(t,r),l.mode==="hidden"||d){if((r.flags&128)!==0){if(l=_!==null?_.baseLanes|s:s,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Ry(t,r,l,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zu(r,_!==null?_.cachePool:null),_!==null?Cp(r,_):gf(),Ip(r);else return r.lanes=r.childLanes=536870912,Ry(t,r,_!==null?_.baseLanes|s:s,s)}else _!==null?(Zu(r,_.cachePool),Cp(r,_),Xi(),r.memoizedState=null):(t!==null&&Zu(r,null),gf(),Xi());return fn(t,r,h,s),r.child}function Ry(t,r,s,l){var h=_f();return h=h===null?null:{parent:$t._currentValue,pool:h},r.memoizedState={baseLanes:s,cachePool:h},t!==null&&Zu(r,null),gf(),Ip(r),t!==null&&ml(t,r,l,!0),null}function dl(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(r.flags|=2097664)}}function zf(t,r,s,l,h){return as(r),s=Tf(t,r,s,l,void 0,h),l=wf(),t!==null&&!an?(Sf(t,r,h),vi(t,r,h)):(lt&&l&&hf(r),r.flags|=1,fn(t,r,s,h),r.child)}function Cy(t,r,s,l,h,d){return as(r),r.updateQueue=null,s=Vp(r,l,s,h),Mp(t),l=wf(),t!==null&&!an?(Sf(t,r,d),vi(t,r,d)):(lt&&l&&hf(r),r.flags|=1,fn(t,r,s,d),r.child)}function Iy(t,r,s,l,h){if(as(r),r.stateNode===null){var d=$s,_=s.contextType;typeof _=="object"&&_!==null&&(d=_n(_)),d=new s(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=kf,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Wf(r),_=s.contextType,d.context=typeof _=="object"&&_!==null?_n(_):$s,d.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Pf(r,s,_,l),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&kf.enqueueReplaceState(d,d.state,null),yl(r,l,d,h),pl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,I=rs(s,T);d.props=I;var U=d.context,Z=s.contextType;_=$s,typeof Z=="object"&&Z!==null&&(_=_n(Z));var ie=s.getDerivedStateFromProps;Z=typeof ie=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||U!==_)&&my(r,d,l,_),ea=!1;var G=r.memoizedState;d.state=G,yl(r,l,d,h),pl(),U=r.memoizedState,T||G!==U||ea?(typeof ie=="function"&&(Pf(r,s,ie,l),U=r.memoizedState),(I=ea||dy(r,s,I,l,G,U,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=U),d.props=l,d.state=U,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Zf(t,r),_=r.memoizedProps,Z=rs(s,_),d.props=Z,ie=r.pendingProps,G=d.context,U=s.contextType,I=$s,typeof U=="object"&&U!==null&&(I=_n(U)),T=s.getDerivedStateFromProps,(U=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ie||G!==I)&&my(r,d,l,I),ea=!1,G=r.memoizedState,d.state=G,yl(r,l,d,h),pl();var W=r.memoizedState;_!==ie||G!==W||ea||t!==null&&t.dependencies!==null&&uc(t.dependencies)?(typeof T=="function"&&(Pf(r,s,T,l),W=r.memoizedState),(Z=ea||dy(r,s,Z,l,G,W,I)||t!==null&&t.dependencies!==null&&uc(t.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,W,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,W,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=W),d.props=l,d.state=W,d.context=I,l=Z):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,dl(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Za(r,t.child,null,h),r.child=Za(r,null,s,h)):fn(t,r,s,h),r.memoizedState=d.state,t=r.child):t=vi(t,r,h),t}function Dy(t,r,s,l){return nl(),r.flags|=256,fn(t,r,s,l),r.child}var Bf={dehydrated:null,treeContext:null,retryLane:0};function jf(t){return{baseLanes:t,cachePool:Op()}}function Hf(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=cr),t}function Ny(t,r,s){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Kt.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(lt){if(h?Yi(r):Xi(),lt){var T=hn,I;if(I=T){e:{for(I=T,T=qr;I.nodeType!==8;){if(!T){T=null;break e}if(I=wr(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(r.memoizedState={dehydrated:T,treeContext:Ya!==null?{id:mi,overflow:gi}:null,retryLane:536870912},I=ur(18,null,null,0),I.stateNode=T,I.return=r,r.child=I,Dn=r,hn=null,I=!0):I=!1}I||Wa(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?r.lanes=16:r.lanes=536870912,null;pi(r)}return T=l.children,l=l.fallback,h?(Xi(),h=r.mode,T=Ff({mode:"hidden",children:T},h),l=os(l,h,s,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=jf(s),h.childLanes=Hf(t,_,s),r.memoizedState=Bf,l):(Yi(r),qf(r,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)r.flags&256?(Yi(r),r.flags&=-257,r=Gf(t,r,s)):r.memoizedState!==null?(Xi(),r.child=t.child,r.flags|=128,r=null):(Xi(),h=l.fallback,T=r.mode,l=Ff({mode:"visible",children:l.children},T),h=os(h,T,s,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Za(r,t.child,null,s),l=r.child,l.memoizedState=jf(s),l.childLanes=Hf(t,_,s),r.memoizedState=Bf,r=h);else if(Yi(r),T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var U=_.dgst;_=U,l=Error(a(419)),l.stack="",l.digest=_,rl({value:l,source:null,stack:null}),r=Gf(t,r,s)}else if(an||ml(t,r,s,!1),_=(s&t.childLanes)!==0,an||_){if(_=Et,_!==null){if(l=s&-s,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(_.suspendedLanes|s))!==0?0:l,l!==0&&l!==I.retryLane)throw I.retryLane=l,$i(t,l),Nn(_,t,l),Ty}T.data==="$?"||_d(),r=Gf(t,r,s)}else T.data==="$?"?(r.flags|=128,r.child=t.child,r=kS.bind(null,t),T._reactRetry=r,r=null):(t=I.treeContext,hn=wr(T.nextSibling),Dn=r,lt=!0,Er=null,qr=!1,t!==null&&(ir[ar++]=mi,ir[ar++]=gi,ir[ar++]=Ya,mi=t.id,gi=t.overflow,Ya=r),r=qf(r,l.children),r.flags|=4096);return r}return h?(Xi(),h=l.fallback,T=r.mode,I=t.child,U=I.sibling,l=sa(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&31457280,U!==null?h=sa(U,h):(h=os(h,T,s,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=jf(s):(I=T.cachePool,I!==null?(U=$t._currentValue,I=I.parent!==U?{parent:U,pool:U}:I):I=Op(),T={baseLanes:T.baseLanes|s,cachePool:I}),h.memoizedState=T,h.childLanes=Hf(t,_,s),r.memoizedState=Bf,l):(Yi(r),s=t.child,t=s.sibling,s=sa(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=s,r.memoizedState=null,s)}function qf(t,r){return r=Ff({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Ff(t,r){return nv(t,r,0,null)}function Gf(t,r,s){return Za(r,t.child,null,s),t=qf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Oy(t,r,s){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Yf(t.return,r,s)}function Qf(t,r,s,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function My(t,r,s){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(fn(t,r,l.children,s),l=Kt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Oy(t,s,r);else if(t.tag===19)Oy(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ye(Kt,l),h){case"forwards":for(s=r.child,h=null;s!==null;)t=s.alternate,t!==null&&Wu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=r.child,r.child=null):(h=s.sibling,s.sibling=null),Qf(r,!1,h,s,d);break;case"backwards":for(s=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Wu(t)===null){r.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Qf(r,!0,s,null,d);break;case"together":Qf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function vi(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),oa|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(ml(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,s=sa(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=sa(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function Kf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&uc(t)))}function SS(t,r,s){switch(r.tag){case 3:Or(r,r.stateNode.containerInfo),Ji(r,$t,t.memoizedState.cache),nl();break;case 27:case 5:xa(r);break;case 4:Or(r,r.stateNode.containerInfo);break;case 10:Ji(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Yi(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Ny(t,r,s):(Yi(r),t=vi(t,r,s),t!==null?t.sibling:null);Yi(r);break;case 19:var h=(t.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(ml(t,r,s,!1),l=(s&r.childLanes)!==0),h){if(l)return My(t,r,s);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ye(Kt,Kt.current),l)break;return null;case 22:case 23:return r.lanes=0,Ay(t,r,s);case 24:Ji(r,$t,t.memoizedState.cache)}return vi(t,r,s)}function Vy(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)an=!0;else{if(!Kf(t,s)&&(r.flags&128)===0)return an=!1,SS(t,r,s);an=(t.flags&131072)!==0}else an=!1,lt&&(r.flags&1048576)!==0&&yp(r,Qu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")od(l)?(t=rs(l,t),r.tag=1,r=Iy(null,r,l,t,s)):(r.tag=0,r=zf(null,r,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===M){r.tag=11,r=wy(null,r,l,t,s);break e}else if(h===X){r.tag=14,r=Sy(null,r,l,t,s);break e}}throw r=R(l)||l,Error(a(306,r,""))}}return r;case 0:return zf(t,r,r.type,r.pendingProps,s);case 1:return l=r.type,h=rs(l,r.pendingProps),Iy(t,r,l,h,s);case 3:e:{if(Or(r,r.stateNode.containerInfo),t===null)throw Error(a(387));var d=r.pendingProps;h=r.memoizedState,l=h.element,Zf(t,r),yl(r,d,null,s);var _=r.memoizedState;if(d=_.cache,Ji(r,$t,d),d!==h.cache&&Xf(r,[$t],s,!0),pl(),d=_.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=Dy(t,r,d,s);break e}else if(d!==l){l=rr(Error(a(424)),r),rl(l),r=Dy(t,r,d,s);break e}else for(hn=wr(r.stateNode.containerInfo.firstChild),Dn=r,lt=!0,Er=null,qr=!0,s=Rp(r,null,d,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(nl(),d===l){r=vi(t,r,s);break e}fn(t,r,d,s)}r=r.child}return r;case 26:return dl(t,r),t===null?(s=Pv(r.type,null,r.pendingProps,null))?r.memoizedState=s:lt||(s=r.type,t=r.pendingProps,l=Ac(Ut.current).createElement(s),l[ve]=r,l[Oe]=t,dn(l,s,t),ct(l),r.stateNode=l):r.memoizedState=Pv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return xa(r),t===null&&lt&&(l=r.stateNode=Vv(r.type,r.pendingProps,Ut.current),Dn=r,qr=!0,hn=wr(l.firstChild)),l=r.pendingProps.children,t!==null||lt?fn(t,r,l,s):r.child=Za(r,null,l,s),dl(t,r),r.child;case 5:return t===null&&lt&&((h=l=hn)&&(l=JS(l,r.type,r.pendingProps,qr),l!==null?(r.stateNode=l,Dn=r,hn=wr(l.firstChild),qr=!1,h=!0):h=!1),h||Wa(r)),xa(r),h=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Vd(h,d)?l=null:_!==null&&Vd(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=Tf(t,r,pS,null,null,s),Ml._currentValue=h),dl(t,r),fn(t,r,l,s),r.child;case 6:return t===null&&lt&&((t=s=hn)&&(s=eb(s,r.pendingProps,qr),s!==null?(r.stateNode=s,Dn=r,hn=null,t=!0):t=!1),t||Wa(r)),null;case 13:return Ny(t,r,s);case 4:return Or(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Za(r,null,l,s):fn(t,r,l,s),r.child;case 11:return wy(t,r,r.type,r.pendingProps,s);case 7:return fn(t,r,r.pendingProps,s),r.child;case 8:return fn(t,r,r.pendingProps.children,s),r.child;case 12:return fn(t,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,Ji(r,r.type,l.value),fn(t,r,l.children,s),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,as(r),h=_n(h),l=l(h),r.flags|=1,fn(t,r,l,s),r.child;case 14:return Sy(t,r,r.type,r.pendingProps,s);case 15:return by(t,r,r.type,r.pendingProps,s);case 19:return My(t,r,s);case 22:return Ay(t,r,s);case 24:return as(r),l=_n($t),t===null?(h=_f(),h===null&&(h=Et,d=yf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),r.memoizedState={parent:l,cache:h},Wf(r),Ji(r,$t,h)):((t.lanes&s)!==0&&(Zf(t,r),yl(r,null,null,s),pl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Ji(r,$t,l)):(l=d.cache,Ji(r,$t,l),l!==h.cache&&Xf(r,[$t],s,!0))),fn(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}var $f=et(null),is=null,_i=null;function Ji(t,r,s){Ye($f,r._currentValue),r._currentValue=s}function Ei(t){t._currentValue=$f.current,Qe($f)}function Yf(t,r,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===s)break;t=t.return}}function Xf(t,r,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<r.length;I++)if(T.context===r[I]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),Yf(d.return,s,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),Yf(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ml(t,r,s,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=h.type;Bn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Nr.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}h=h.return}t!==null&&Xf(r,t,s,l),r.flags|=262144}function uc(t){for(t=t.firstContext;t!==null;){if(!Bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function as(t){is=t,_i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function _n(t){return xy(is,t)}function cc(t,r){return is===null&&as(t),xy(t,r)}function xy(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},_i===null){if(t===null)throw Error(a(308));_i=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else _i=_i.next=r;return s}var ea=!1;function Wf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ta(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function na(t,r,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ct&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Fu(t),gp(t,null,s),r}return qu(t,l,r,s),Fu(t)}function gl(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194176)!==0)){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Re(t,s)}}function Jf(t,r){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=r:d=d.next=r}else h=d=r;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var ed=!1;function pl(){if(ed){var t=eo;if(t!==null)throw t}}function yl(t,r,s,l){ed=!1;var h=t.updateQueue;ea=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,U=I.next;I.next=null,_===null?d=U:_.next=U,_=I;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==_&&(T===null?Z.firstBaseUpdate=U:T.next=U,Z.lastBaseUpdate=I))}if(d!==null){var ie=h.baseState;_=0,Z=U=I=null,T=d;do{var G=T.lane&-536870913,W=G!==T.lane;if(W?(rt&G)===G:(l&G)===G){G!==0&&G===Js&&(ed=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ae=t,ke=T;G=r;var Vt=s;switch(ke.tag){case 1:if(Ae=ke.payload,typeof Ae=="function"){ie=Ae.call(Vt,ie,G);break e}ie=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=ke.payload,G=typeof Ae=="function"?Ae.call(Vt,ie,G):Ae,G==null)break e;ie=D({},ie,G);break e;case 2:ea=!0}}G=T.callback,G!==null&&(t.flags|=64,W&&(t.flags|=8192),W=h.callbacks,W===null?h.callbacks=[G]:W.push(G))}else W={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(U=Z=W,I=ie):Z=Z.next=W,_|=G;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;W=T,T=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);Z===null&&(I=ie),h.baseState=I,h.firstBaseUpdate=U,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),oa|=_,t.lanes=_,t.memoizedState=ie}}function Ly(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function Py(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Ly(s[t],r)}function vl(t,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==h)}}catch(T){vt(r,r.return,T)}}function ra(t,r,s){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=r;var I=s;try{T()}catch(U){vt(h,I,U)}}}l=l.next}while(l!==d)}}catch(U){vt(r,r.return,U)}}function ky(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{Py(r,s)}catch(l){vt(t,t.return,l)}}}function Uy(t,r,s){s.props=rs(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){vt(t,r,l)}}function ss(t,r){try{var s=t.ref;if(s!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof s=="function"?t.refCleanup=s(h):s.current=h}}catch(d){vt(t,r,d)}}function jn(t,r){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){vt(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){vt(t,r,h)}else s.current=null}function zy(t){var r=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){vt(t,t.return,h)}}function By(t,r,s){try{var l=t.stateNode;$S(l,t.type,s,r),l[Oe]=r}catch(h){vt(t,t.return,h)}}function jy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nd(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(t,r):s.insertBefore(t,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(t,s)):(r=s,r.appendChild(t)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=bc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(nd(t,r,s),t=t.sibling;t!==null;)nd(t,r,s),t=t.sibling}function hc(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(hc(t,r,s),t=t.sibling;t!==null;)hc(t,r,s),t=t.sibling}var Ti=!1,Ot=!1,rd=!1,Hy=typeof WeakSet=="function"?WeakSet:Set,sn=null,qy=!1;function bS(t,r){if(t=t.containerInfo,Od=Oc,t=sp(t),af(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,T=-1,I=-1,U=0,Z=0,ie=t,G=null;t:for(;;){for(var W;ie!==s||h!==0&&ie.nodeType!==3||(T=_+h),ie!==d||l!==0&&ie.nodeType!==3||(I=_+l),ie.nodeType===3&&(_+=ie.nodeValue.length),(W=ie.firstChild)!==null;)G=ie,ie=W;for(;;){if(ie===t)break t;if(G===s&&++U===h&&(T=_),G===d&&++Z===l&&(I=_),(W=ie.nextSibling)!==null)break;ie=G,G=ie.parentNode}ie=W}s=T===-1||I===-1?null:{start:T,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Md={focusedElem:t,selectionRange:s},Oc=!1,sn=r;sn!==null;)if(r=sn,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,sn=t;else for(;sn!==null;){switch(r=sn,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=r,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Ae=rs(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Ae,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ke){vt(s,s.return,ke)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)Pd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,sn=t;break}sn=r.return}return Ae=qy,qy=!1,Ae}function Fy(t,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Si(t,s),l&4&&vl(5,s);break;case 1:if(Si(t,s),l&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(T){vt(s,s.return,T)}else{var h=rs(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(T){vt(s,s.return,T)}}l&64&&ky(s),l&512&&ss(s,s.return);break;case 3:if(Si(t,s),l&64&&(l=s.updateQueue,l!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{Py(l,t)}catch(T){vt(s,s.return,T)}}break;case 26:Si(t,s),l&512&&ss(s,s.return);break;case 27:case 5:Si(t,s),r===null&&l&4&&zy(s),l&512&&ss(s,s.return);break;case 12:Si(t,s);break;case 13:Si(t,s),l&4&&Ky(t,s);break;case 22:if(h=s.memoizedState!==null||Ti,!h){r=r!==null&&r.memoizedState!==null||Ot;var d=Ti,_=Ot;Ti=h,(Ot=r)&&!_?ia(t,s,(s.subtreeFlags&8772)!==0):Si(t,s),Ti=d,Ot=_}l&512&&(s.memoizedProps.mode==="manual"?ss(s,s.return):jn(s,s.return));break;default:Si(t,s)}}function Gy(t){var r=t.alternate;r!==null&&(t.alternate=null,Gy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&zn(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ht=null,Hn=!1;function wi(t,r,s){for(s=s.child;s!==null;)Qy(t,r,s),s=s.sibling}function Qy(t,r,s){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(pr,s)}catch{}switch(s.tag){case 26:Ot||jn(s,r),wi(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ot||jn(s,r);var l=Ht,h=Hn;for(Ht=s.stateNode,wi(t,r,s),s=s.stateNode,r=s.attributes;r.length;)s.removeAttributeNode(r[0]);zn(s),Ht=l,Hn=h;break;case 5:Ot||jn(s,r);case 6:h=Ht;var d=Hn;if(Ht=null,wi(t,r,s),Ht=h,Hn=d,Ht!==null)if(Hn)try{t=Ht,l=s.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(_){vt(s,r,_)}else try{Ht.removeChild(s.stateNode)}catch(_){vt(s,r,_)}break;case 18:Ht!==null&&(Hn?(r=Ht,s=s.stateNode,r.nodeType===8?Ld(r.parentNode,s):r.nodeType===1&&Ld(r,s),Pl(r)):Ld(Ht,s.stateNode));break;case 4:l=Ht,h=Hn,Ht=s.stateNode.containerInfo,Hn=!0,wi(t,r,s),Ht=l,Hn=h;break;case 0:case 11:case 14:case 15:Ot||ra(2,s,r),Ot||ra(4,s,r),wi(t,r,s);break;case 1:Ot||(jn(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Uy(s,r,l)),wi(t,r,s);break;case 21:wi(t,r,s);break;case 22:Ot||jn(s,r),Ot=(l=Ot)||s.memoizedState!==null,wi(t,r,s),Ot=l;break;default:wi(t,r,s)}}function Ky(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Pl(t)}catch(s){vt(r,r.return,s)}}function AS(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Hy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Hy),r;default:throw Error(a(435,t.tag))}}function id(t,r){var s=AS(t);r.forEach(function(l){var h=US.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function or(t,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 27:case 5:Ht=T.stateNode,Hn=!1;break e;case 3:Ht=T.stateNode.containerInfo,Hn=!0;break e;case 4:Ht=T.stateNode.containerInfo,Hn=!0;break e}T=T.return}if(Ht===null)throw Error(a(160));Qy(d,_,h),Ht=null,Hn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)$y(r,t),r=r.sibling}var Tr=null;function $y(t,r){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:or(r,t),lr(t),l&4&&(ra(3,t,t.return),vl(3,t),ra(5,t,t.return));break;case 1:or(r,t),lr(t),l&512&&(Ot||s===null||jn(s,s.return)),l&64&&Ti&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Tr;if(or(r,t),lr(t),l&512&&(Ot||s===null||jn(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Rn]||d[ve]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),dn(d,l,s),d[ve]=t,ct(d),l=d;break e;case"link":var _=zv("link","href",h).get(l+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(s.href==null?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),dn(d,l,s),h.head.appendChild(d);break;case"meta":if(_=zv("meta","content",h).get(l+(s.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break t}}d=h.createElement(l),dn(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[ve]=t,ct(d),l=d}t.stateNode=l}else Bv(h,t.type,t.stateNode);else t.stateNode=Uv(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?Bv(h,t.type,t.stateNode):Uv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&By(t,t.memoizedProps,s.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var I=h.firstChild;I;){var U=I.nextSibling,Z=I.nodeName;I[Rn]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&I.rel.toLowerCase()==="stylesheet"||h.removeChild(I),I=U}for(var ie=t.type,G=h.attributes;G.length;)h.removeAttributeNode(G[0]);dn(h,ie,d),h[ve]=t,h[Oe]=d}catch(Ae){vt(t,t.return,Ae)}}case 5:if(or(r,t),lr(t),l&512&&(Ot||s===null||jn(s,s.return)),t.flags&32){h=t.stateNode;try{Zn(h,"")}catch(Ae){vt(t,t.return,Ae)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,By(t,h,s!==null?s.memoizedProps:h)),l&1024&&(rd=!0);break;case 6:if(or(r,t),lr(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(Ae){vt(t,t.return,Ae)}}break;case 3:if(Ic=null,h=Tr,Tr=Rc(r.containerInfo),or(r,t),Tr=h,lr(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Pl(r.containerInfo)}catch(Ae){vt(t,t.return,Ae)}rd&&(rd=!1,Yy(t));break;case 4:l=Tr,Tr=Rc(t.stateNode.containerInfo),or(r,t),lr(t),Tr=l;break;case 12:or(r,t),lr(t);break;case 13:or(r,t),lr(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(dd=Zt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,id(t,l)));break;case 22:if(l&512&&(Ot||s===null||jn(s,s.return)),I=t.memoizedState!==null,U=s!==null&&s.memoizedState!==null,Z=Ti,ie=Ot,Ti=Z||I,Ot=ie||U,or(r,t),Ot=ie,Ti=Z,lr(t),r=t.stateNode,r._current=t,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=I?r._visibility&-2:r._visibility|1,I&&(r=Ti||Ot,s===null||U||r||io(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(s=null,r=t;;){if(r.tag===5||r.tag===26||r.tag===27){if(s===null){U=s=r;try{if(h=U.stateNode,I)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=U.stateNode,T=U.memoizedProps.style;var W=T!=null&&T.hasOwnProperty("display")?T.display:null;_.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Ae){vt(U,U.return,Ae)}}}else if(r.tag===6){if(s===null){U=r;try{U.stateNode.nodeValue=I?"":U.memoizedProps}catch(Ae){vt(U,U.return,Ae)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,id(t,s))));break;case 19:or(r,t),lr(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,id(t,l)));break;case 21:break;default:or(r,t),lr(t)}}function lr(t){var r=t.flags;if(r&2){try{if(t.tag!==27){e:{for(var s=t.return;s!==null;){if(jy(s)){var l=s;break e}s=s.return}throw Error(a(160))}switch(l.tag){case 27:var h=l.stateNode,d=td(t);hc(t,d,h);break;case 5:var _=l.stateNode;l.flags&32&&(Zn(_,""),l.flags&=-33);var T=td(t);hc(t,T,_);break;case 3:case 4:var I=l.stateNode.containerInfo,U=td(t);nd(t,U,I);break;default:throw Error(a(161))}}}catch(Z){vt(t,t.return,Z)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Yy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Yy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Si(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Fy(t,r.alternate,r),r=r.sibling}function io(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:ra(4,r,r.return),io(r);break;case 1:jn(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&Uy(r,r.return,s),io(r);break;case 26:case 27:case 5:jn(r,r.return),io(r);break;case 22:jn(r,r.return),r.memoizedState===null&&io(r);break;default:io(r)}t=t.sibling}}function ia(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:ia(h,d,s),vl(4,d);break;case 1:if(ia(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){vt(l,l.return,U)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Ly(I[h],T)}catch(U){vt(l,l.return,U)}}s&&_&64&&ky(d),ss(d,d.return);break;case 26:case 27:case 5:ia(h,d,s),s&&l===null&&_&4&&zy(d),ss(d,d.return);break;case 12:ia(h,d,s);break;case 13:ia(h,d,s),s&&_&4&&Ky(h,d);break;case 22:d.memoizedState===null&&ia(h,d,s),ss(d,d.return);break;default:ia(h,d,s)}r=r.sibling}}function ad(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ll(s))}function sd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ll(t))}function aa(t,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Xy(t,r,s,l),r=r.sibling}function Xy(t,r,s,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:aa(t,r,s,l),h&2048&&vl(9,r);break;case 3:aa(t,r,s,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ll(t)));break;case 12:if(h&2048){aa(t,r,s,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){vt(r,r.return,I)}}else aa(t,r,s,l);break;case 23:break;case 22:d=r.stateNode,r.memoizedState!==null?d._visibility&4?aa(t,r,s,l):_l(t,r):d._visibility&4?aa(t,r,s,l):(d._visibility|=4,ao(t,r,s,l,(r.subtreeFlags&10256)!==0)),h&2048&&ad(r.alternate,r);break;case 24:aa(t,r,s,l),h&2048&&sd(r.alternate,r);break;default:aa(t,r,s,l)}}function ao(t,r,s,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,_=r,T=s,I=l,U=_.flags;switch(_.tag){case 0:case 11:case 15:ao(d,_,T,I,h),vl(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&4?ao(d,_,T,I,h):_l(d,_):(Z._visibility|=4,ao(d,_,T,I,h)),h&&U&2048&&ad(_.alternate,_);break;case 24:ao(d,_,T,I,h),h&&U&2048&&sd(_.alternate,_);break;default:ao(d,_,T,I,h)}r=r.sibling}}function _l(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,l=r,h=l.flags;switch(l.tag){case 22:_l(s,l),h&2048&&ad(l.alternate,l);break;case 24:_l(s,l),h&2048&&sd(l.alternate,l);break;default:_l(s,l)}r=r.sibling}}var El=8192;function so(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)Wy(t),t=t.sibling}function Wy(t){switch(t.tag){case 26:so(t),t.flags&El&&t.memoizedState!==null&&db(Tr,t.memoizedState,t.memoizedProps);break;case 5:so(t);break;case 3:case 4:var r=Tr;Tr=Rc(t.stateNode.containerInfo),so(t),Tr=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=El,El=16777216,so(t),El=r):so(t));break;default:so(t)}}function Zy(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Tl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];sn=l,ev(l,t)}Zy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jy(t),t=t.sibling}function Jy(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&ra(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&4&&(t.return===null||t.return.tag!==13)?(r._visibility&=-5,fc(t)):Tl(t);break;default:Tl(t)}}function fc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];sn=l,ev(l,t)}Zy(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:ra(8,r,r.return),fc(r);break;case 22:s=r.stateNode,s._visibility&4&&(s._visibility&=-5,fc(r));break;default:fc(r)}t=t.sibling}}function ev(t,r){for(;sn!==null;){var s=sn;switch(s.tag){case 0:case 11:case 15:ra(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,sn=l;else e:for(s=t;sn!==null;){l=sn;var h=l.sibling,d=l.return;if(Gy(l),l===s){sn=null;break e}if(h!==null){h.return=d,sn=h;break e}sn=d}}}function RS(t,r,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(t,r,s,l){return new RS(t,r,s,l)}function od(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sa(t,r){var s=t.alternate;return s===null?(s=ur(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&31457280,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function tv(t,r){t.flags&=31457282;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function dc(t,r,s,l,h,d){var _=0;if(l=t,typeof t=="function")od(t)&&(_=1);else if(typeof t=="string")_=hb(t,s,Wt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case g:return os(s.children,h,d,r);case p:_=8,h|=24;break;case E:return t=ur(12,s,r,h|2),t.elementType=E,t.lanes=d,t;case K:return t=ur(13,s,r,h),t.elementType=K,t.lanes=d,t;case z:return t=ur(19,s,r,h),t.elementType=z,t.lanes=d,t;case ae:return nv(s,h,d,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w:case C:_=10;break e;case A:_=9;break e;case M:_=11;break e;case X:_=14;break e;case J:_=16,l=null;break e}_=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return r=ur(_,s,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function os(t,r,s,l){return t=ur(7,t,l,r),t.lanes=s,t}function nv(t,r,s,l){t=ur(22,t,l,r),t.elementType=ae,t.lanes=s;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(a(456));if((h._pendingVisibility&2)===0){var _=$i(d,2);_!==null&&(h._pendingVisibility|=2,Nn(_,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(a(456));if((h._pendingVisibility&2)!==0){var _=$i(d,2);_!==null&&(h._pendingVisibility&=-3,Nn(_,d,2))}}};return t.stateNode=h,t}function ld(t,r,s){return t=ur(6,t,null,r),t.lanes=s,t}function ud(t,r,s){return r=ur(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function bi(t){t.flags|=4}function rv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!jv(r)){if(r=sr.current,r!==null&&((rt&4194176)===rt?Fr!==null:(rt&62914560)!==rt&&(rt&536870912)===0||r!==Fr))throw al=mf,Ep;t.flags|=8192}}function mc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?B():536870912,t.lanes|=r,lo|=r)}function wl(t,r){if(!lt)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Rt(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(r)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,r}function CS(t,r,s){var l=r.pendingProps;switch(ff(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(r),null;case 1:return Rt(r),null;case 3:return s=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ei($t),Kn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(tl(r)?bi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Er!==null&&(yd(Er),Er=null))),Rt(r),null;case 26:return s=r.memoizedState,t===null?(bi(r),s!==null?(Rt(r),rv(r,s)):(Rt(r),r.flags&=-16777217)):s?s!==t.memoizedState?(bi(r),Rt(r),rv(r,s)):(Rt(r),r.flags&=-16777217):(t.memoizedProps!==l&&bi(r),Rt(r),r.flags&=-16777217),null;case 27:zi(r),s=Ut.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&bi(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return Rt(r),null}t=Wt.current,tl(r)?vp(r):(t=Vv(h,l,s),r.stateNode=t,bi(r))}return Rt(r),null;case 5:if(zi(r),s=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&bi(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return Rt(r),null}if(t=Wt.current,tl(r))vp(r);else{switch(h=Ac(Ut.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[ve]=r,t[Oe]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(dn(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&bi(r)}}return Rt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&bi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(t=Ut.current,tl(r)){if(t=r.stateNode,s=r.memoizedProps,l=null,h=Dn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[ve]=r,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Cv(t.nodeValue,s)),t||Wa(r)}else t=Ac(t).createTextNode(l),t[ve]=r,r.stateNode=t}return Rt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=tl(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ve]=r}else nl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Rt(r),h=!1}else Er!==null&&(yd(Er),Er=null),h=!0;if(!h)return r.flags&256?(pi(r),r):(pi(r),null)}if(pi(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==t&&s&&(r.child.flags|=8192),mc(r,r.updateQueue),Rt(r),null;case 4:return Kn(),t===null&&Id(r.stateNode.containerInfo),Rt(r),null;case 10:return Ei(r.type),Rt(r),null;case 19:if(Qe(Kt),h=r.memoizedState,h===null)return Rt(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)wl(h,!1);else{if(Mt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Wu(t),d!==null){for(r.flags|=128,wl(h,!1),t=d.updateQueue,r.updateQueue=t,mc(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)tv(s,t),s=s.sibling;return Ye(Kt,Kt.current&1|2),r.child}t=t.sibling}h.tail!==null&&Zt()>gc&&(r.flags|=128,l=!0,wl(h,!1),r.lanes=4194304)}else{if(!l)if(t=Wu(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,mc(r,t),wl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!lt)return Rt(r),null}else 2*Zt()-h.renderingStartTime>gc&&s!==536870912&&(r.flags|=128,l=!0,wl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Zt(),r.sibling=null,t=Kt.current,Ye(Kt,l?t&1|2:t&1),r):(Rt(r),null);case 22:case 23:return pi(r),pf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(Rt(r),r.subtreeFlags&6&&(r.flags|=8192)):Rt(r),s=r.updateQueue,s!==null&&mc(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),t!==null&&Qe(Ja),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Ei($t),Rt(r),null;case 25:return null}throw Error(a(156,r.tag))}function IS(t,r){switch(ff(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ei($t),Kn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return zi(r),null;case 13:if(pi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));nl()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Qe(Kt),null;case 4:return Kn(),null;case 10:return Ei(r.type),null;case 22:case 23:return pi(r),pf(),t!==null&&Qe(Ja),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Ei($t),null;case 25:return null;default:return null}}function iv(t,r){switch(ff(r),r.tag){case 3:Ei($t),Kn();break;case 26:case 27:case 5:zi(r);break;case 4:Kn();break;case 13:pi(r);break;case 19:Qe(Kt);break;case 10:Ei(r.type);break;case 22:case 23:pi(r),pf(),t!==null&&Qe(Ja);break;case 24:Ei($t)}}var DS={getCacheForType:function(t){var r=_n($t),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s}},NS=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Et=null,$e=null,rt=0,Tt=0,qn=null,Ai=!1,oo=!1,cd=!1,Ri=0,Mt=0,oa=0,ls=0,hd=0,cr=0,lo=0,Sl=null,Qr=null,fd=!1,dd=0,gc=1/0,pc=null,la=null,yc=!1,us=null,bl=0,md=0,gd=null,Al=0,pd=null;function Fn(){if((Ct&2)!==0&&rt!==0)return rt&-rt;if(b.T!==null){var t=Js;return t!==0?t:bd()}return be()}function av(){cr===0&&(cr=(rt&536870912)===0||lt?V():536870912);var t=sr.current;return t!==null&&(t.flags|=32),cr}function Nn(t,r,s){(t===Et&&Tt===2||t.cancelPendingCommit!==null)&&(uo(t,0),Ci(t,rt,cr,!1)),ee(t,s),((Ct&2)===0||t!==Et)&&(t===Et&&((Ct&2)===0&&(ls|=s),Mt===4&&Ci(t,rt,cr,!1)),Kr(t))}function sv(t,r,s){if((Ct&6)!==0)throw Error(a(327));var l=!s&&(r&60)===0&&(r&t.expiredLanes)===0||Vr(t,r),h=l?VS(t,r):Ed(t,r,!0),d=l;do{if(h===0){oo&&!l&&Ci(t,r,0,!1);break}else if(h===6)Ci(t,r,0,!Ai);else{if(s=t.current.alternate,d&&!OS(s)){h=Ed(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var T=t;h=Sl;var I=T.current.memoizedState.isDehydrated;if(I&&(uo(T,_).flags|=256),_=Ed(T,_,!1),_!==2){if(cd&&!I){T.errorRecoveryDisabledLanes|=d,ls|=d,h=4;break e}d=Qr,Qr=h,d!==null&&yd(d)}h=_}if(d=!1,h!==2)continue}}if(h===1){uo(t,0),Ci(t,r,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(a(345));case 4:if((r&4194176)===r){Ci(l,r,cr,!Ai);break e}break;case 2:Qr=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=s,l.finishedLanes=r,(r&62914560)===r&&(d=dd+300-Zt(),10<d)){if(Ci(l,r,cr,!Ai),un(l,0)!==0)break e;l.timeoutHandle=Nv(ov.bind(null,l,s,Qr,pc,fd,r,cr,ls,lo,Ai,2,-0,0),d);break e}ov(l,s,Qr,pc,fd,r,cr,ls,lo,Ai,0,-0,0)}}break}while(!0);Kr(t)}function yd(t){Qr===null?Qr=t:Qr.push.apply(Qr,t)}function ov(t,r,s,l,h,d,_,T,I,U,Z,ie,G){var W=r.subtreeFlags;if((W&8192||(W&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:fb},Wy(r),r=mb(),r!==null)){t.cancelPendingCommit=r(mv.bind(null,t,s,l,h,_,T,I,1,ie,G)),Ci(t,d,_,!U);return}mv(t,s,l,h,_,T,I,Z,ie,G)}function OS(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!Bn(d(),h))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ci(t,r,s,l){r&=~hd,r&=~ls,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-en(h),_=1<<d;l[d]=-1,h&=~_}s!==0&&Ce(t,s,r)}function vc(){return(Ct&6)===0?(Rl(0),!1):!0}function vd(){if($e!==null){if(Tt===0)var t=$e.return;else t=$e,_i=is=null,bf(t),Ws=null,sl=0,t=$e;for(;t!==null;)iv(t.alternate,t),t=t.return;$e=null}}function uo(t,r){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,XS(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),vd(),Et=t,$e=s=sa(t.current,null),rt=r,Tt=0,qn=null,Ai=!1,oo=Vr(t,r),cd=!1,lo=cr=hd=ls=oa=Mt=0,Qr=Sl=null,fd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-en(l),d=1<<h;r|=t[h],l&=~d}return Ri=r,Hu(),s}function lv(t,r){Fe=null,b.H=Gr,r===il?(r=Sp(),Tt=3):r===Ep?(r=Sp(),Tt=4):Tt=r===Ty?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,qn=r,$e===null&&(Mt=1,lc(t,rr(r,t.current)))}function uv(){var t=b.H;return b.H=Gr,t===null?Gr:t}function cv(){var t=b.A;return b.A=DS,t}function _d(){Mt=4,Ai||(rt&4194176)!==rt&&sr.current!==null||(oo=!0),(oa&134217727)===0&&(ls&134217727)===0||Et===null||Ci(Et,rt,cr,!1)}function Ed(t,r,s){var l=Ct;Ct|=2;var h=uv(),d=cv();(Et!==t||rt!==r)&&(pc=null,uo(t,r)),r=!1;var _=Mt;e:do try{if(Tt!==0&&$e!==null){var T=$e,I=qn;switch(Tt){case 8:vd(),_=6;break e;case 3:case 2:case 6:sr.current===null&&(r=!0);var U=Tt;if(Tt=0,qn=null,co(t,T,I,U),s&&oo){_=0;break e}break;default:U=Tt,Tt=0,qn=null,co(t,T,I,U)}}MS(),_=Mt;break}catch(Z){lv(t,Z)}while(!0);return r&&t.shellSuspendCounter++,_i=is=null,Ct=l,b.H=h,b.A=d,$e===null&&(Et=null,rt=0,Hu()),_}function MS(){for(;$e!==null;)hv($e)}function VS(t,r){var s=Ct;Ct|=2;var l=uv(),h=cv();Et!==t||rt!==r?(pc=null,gc=Zt()+500,uo(t,r)):oo=Vr(t,r);e:do try{if(Tt!==0&&$e!==null){r=$e;var d=qn;t:switch(Tt){case 1:Tt=0,qn=null,co(t,r,d,1);break;case 2:if(Tp(d)){Tt=0,qn=null,fv(r);break}r=function(){Tt===2&&Et===t&&(Tt=7),Kr(t)},d.then(r,r);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:Tp(d)?(Tt=0,qn=null,fv(r)):(Tt=0,qn=null,co(t,r,d,7));break;case 5:var _=null;switch($e.tag){case 26:_=$e.memoizedState;case 5:case 27:var T=$e;if(!_||jv(_)){Tt=0,qn=null;var I=T.sibling;if(I!==null)$e=I;else{var U=T.return;U!==null?($e=U,_c(U)):$e=null}break t}}Tt=0,qn=null,co(t,r,d,5);break;case 6:Tt=0,qn=null,co(t,r,d,6);break;case 8:vd(),Mt=6;break e;default:throw Error(a(462))}}xS();break}catch(Z){lv(t,Z)}while(!0);return _i=is=null,b.H=l,b.A=h,Ct=s,$e!==null?0:(Et=null,rt=0,Hu(),Mt)}function xS(){for(;$e!==null&&!ii();)hv($e)}function hv(t){var r=Vy(t.alternate,t,Ri);t.memoizedProps=t.pendingProps,r===null?_c(t):$e=r}function fv(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=Cy(s,r,r.pendingProps,r.type,void 0,rt);break;case 11:r=Cy(s,r,r.pendingProps,r.type.render,r.ref,rt);break;case 5:bf(r);default:iv(s,r),r=$e=tv(r,Ri),r=Vy(s,r,Ri)}t.memoizedProps=t.pendingProps,r===null?_c(t):$e=r}function co(t,r,s,l){_i=is=null,bf(r),Ws=null,sl=0;var h=r.return;try{if(wS(t,h,r,s,rt)){Mt=1,lc(t,rr(s,t.current)),$e=null;return}}catch(d){if(h!==null)throw $e=h,d;Mt=1,lc(t,rr(s,t.current)),$e=null;return}r.flags&32768?(lt||l===1?t=!0:oo||(rt&536870912)!==0?t=!1:(Ai=t=!0,(l===2||l===3||l===6)&&(l=sr.current,l!==null&&l.tag===13&&(l.flags|=16384))),dv(r,t)):_c(r)}function _c(t){var r=t;do{if((r.flags&32768)!==0){dv(r,Ai);return}t=r.return;var s=CS(r.alternate,r,Ri);if(s!==null){$e=s;return}if(r=r.sibling,r!==null){$e=r;return}$e=r=t}while(r!==null);Mt===0&&(Mt=5)}function dv(t,r){do{var s=IS(t.alternate,t);if(s!==null){s.flags&=32767,$e=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){$e=t;return}$e=t=s}while(t!==null);Mt=6,$e=null}function mv(t,r,s,l,h,d,_,T,I,U){var Z=b.T,ie=de.p;try{de.p=2,b.T=null,LS(t,r,s,l,ie,h,d,_,T,I,U)}finally{b.T=Z,de.p=ie}}function LS(t,r,s,l,h,d,_,T){do ho();while(us!==null);if((Ct&6)!==0)throw Error(a(327));var I=t.finishedWork;if(l=t.finishedLanes,I===null)return null;if(t.finishedWork=null,t.finishedLanes=0,I===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var U=I.lanes|I.childLanes;if(U|=uf,ce(t,l,U,d,_,T),t===Et&&($e=Et=null,rt=0),(I.subtreeFlags&10256)===0&&(I.flags&10256)===0||yc||(yc=!0,md=U,gd=s,zS(Un,function(){return ho(),null})),s=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||s?(s=b.T,b.T=null,d=de.p,de.p=2,_=Ct,Ct|=4,bS(t,I),$y(I,t),aS(Md,t.containerInfo),Oc=!!Od,Md=Od=null,t.current=I,Fy(t,I.alternate,I),ji(),Ct=_,de.p=d,b.T=s):t.current=I,yc?(yc=!1,us=t,bl=l):gv(t,U),U=t.pendingLanes,U===0&&(la=null),Hi(I.stateNode),Kr(t),r!==null)for(h=t.onRecoverableError,I=0;I<r.length;I++)U=r[I],h(U.value,{componentStack:U.stack});return(bl&3)!==0&&ho(),U=t.pendingLanes,(l&4194218)!==0&&(U&42)!==0?t===pd?Al++:(Al=0,pd=t):Al=0,Rl(0),null}function gv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ll(r)))}function ho(){if(us!==null){var t=us,r=md;md=0;var s=we(bl),l=b.T,h=de.p;try{if(de.p=32>s?32:s,b.T=null,us===null)var d=!1;else{s=gd,gd=null;var _=us,T=bl;if(us=null,bl=0,(Ct&6)!==0)throw Error(a(331));var I=Ct;if(Ct|=4,Jy(_.current),Xy(_,_.current,T,s),Ct=I,Rl(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(pr,_)}catch{}d=!0}return d}finally{de.p=h,b.T=l,gv(t,r)}}return!1}function pv(t,r,s){r=rr(s,r),r=Uf(t.stateNode,r,2),t=na(t,r,2),t!==null&&(ee(t,2),Kr(t))}function vt(t,r,s){if(t.tag===3)pv(t,t,s);else for(;r!==null;){if(r.tag===3){pv(r,t,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(la===null||!la.has(l))){t=rr(s,t),s=_y(2),l=na(r,s,2),l!==null&&(Ey(s,l,r,t),ee(l,2),Kr(l));break}}r=r.return}}function Td(t,r,s){var l=t.pingCache;if(l===null){l=t.pingCache=new NS;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(s)||(cd=!0,h.add(s),t=PS.bind(null,t,r,s),r.then(t,t))}function PS(t,r,s){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Et===t&&(rt&s)===s&&(Mt===4||Mt===3&&(rt&62914560)===rt&&300>Zt()-dd?(Ct&2)===0&&uo(t,0):hd|=s,lo===rt&&(lo=0)),Kr(t)}function yv(t,r){r===0&&(r=B()),t=$i(t,r),t!==null&&(ee(t,r),Kr(t))}function kS(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),yv(t,s)}function US(t,r){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),yv(t,s)}function zS(t,r){return ri(t,r)}var Ec=null,fo=null,wd=!1,Tc=!1,Sd=!1,cs=0;function Kr(t){t!==fo&&t.next===null&&(fo===null?Ec=fo=t:fo=fo.next=t),Tc=!0,wd||(wd=!0,jS(BS))}function Rl(t,r){if(!Sd&&Tc){Sd=!0;do for(var s=!1,l=Ec;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-en(42|t)+1)-1,d&=h&~(_&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(s=!0,Ev(l,d))}else d=rt,d=un(l,l===Et?d:0),(d&3)===0||Vr(l,d)||(s=!0,Ev(l,d));l=l.next}while(s);Sd=!1}}function BS(){Tc=wd=!1;var t=0;cs!==0&&(YS()&&(t=cs),cs=0);for(var r=Zt(),s=null,l=Ec;l!==null;){var h=l.next,d=vv(l,r);d===0?(l.next=null,s===null?Ec=h:s.next=h,h===null&&(fo=s)):(s=l,(t!==0||(d&3)!==0)&&(Tc=!0)),l=h}Rl(t)}function vv(t,r){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-en(d),T=1<<_,I=h[_];I===-1?((T&s)===0||(T&l)!==0)&&(h[_]=qi(T,r)):I<=r&&(t.expiredLanes|=T),d&=~T}if(r=Et,s=rt,s=un(t,t===r?s:0),l=t.callbackNode,s===0||t===r&&Tt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Mn(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Vr(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(l!==null&&Mn(l),we(s)){case 2:case 8:s=xt;break;case 32:s=Un;break;case 268435456:s=Vn;break;default:s=Un}return l=_v.bind(null,t),s=ri(s,l),t.callbackPriority=r,t.callbackNode=s,r}return l!==null&&l!==null&&Mn(l),t.callbackPriority=2,t.callbackNode=null,2}function _v(t,r){var s=t.callbackNode;if(ho()&&t.callbackNode!==s)return null;var l=rt;return l=un(t,t===Et?l:0),l===0?null:(sv(t,l,r),vv(t,Zt()),t.callbackNode!=null&&t.callbackNode===s?_v.bind(null,t):null)}function Ev(t,r){if(ho())return null;sv(t,r,!0)}function jS(t){WS(function(){(Ct&6)!==0?ri(mt,t):t()})}function bd(){return cs===0&&(cs=V()),cs}function Tv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pr(""+t)}function wv(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function HS(t,r,s,l,h){if(r==="submit"&&s&&s.stateNode===h){var d=Tv((h[Oe]||null).action),_=l.submitter;_&&(r=(r=_[Oe]||null)?Tv(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var T=new ks("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(cs!==0){var I=_?wv(h,_):new FormData(h);Vf(s,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=_?wv(h,_):new FormData(h),Vf(s,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Ad=0;Ad<mp.length;Ad++){var Rd=mp[Ad],qS=Rd.toLowerCase(),FS=Rd[0].toUpperCase()+Rd.slice(1);_r(qS,"on"+FS)}_r(up,"onAnimationEnd"),_r(cp,"onAnimationIteration"),_r(hp,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(oS,"onTransitionRun"),_r(lS,"onTransitionStart"),_r(uS,"onTransitionCancel"),_r(fp,"onTransitionEnd"),ht("onMouseEnter",["mouseout","mouseover"]),ht("onMouseLeave",["mouseout","mouseover"]),ht("onPointerEnter",["pointerout","pointerover"]),ht("onPointerLeave",["pointerout","pointerover"]),He("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),He("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),He("onBeforeInput",["compositionend","keypress","textInput","paste"]),He("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),He("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),He("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function Sv(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,U=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=U;try{d(h)}catch(Z){oc(Z)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,U=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=U;try{d(h)}catch(Z){oc(Z)}h.currentTarget=null,d=I}}}}function Ze(t,r){var s=r[At];s===void 0&&(s=r[At]=new Set);var l=t+"__bubble";s.has(l)||(bv(r,t,2,!1),s.add(l))}function Cd(t,r,s){var l=0;r&&(l|=4),bv(s,t,l,r)}var wc="_reactListening"+Math.random().toString(36).slice(2);function Id(t){if(!t[wc]){t[wc]=!0,xr.forEach(function(s){s!=="selectionchange"&&(GS.has(s)||Cd(s,!1,t),Cd(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[wc]||(r[wc]=!0,Cd("selectionchange",!1,r))}}function bv(t,r,s,l){switch(Kv(r)){case 2:var h=yb;break;case 8:h=vb;break;default:h=jd}s=h.bind(null,r,s,t),h=void 0,!er||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,s,{capture:!0,passive:h}):t.addEventListener(r,s,!0):h!==void 0?t.addEventListener(r,s,{passive:h}):t.addEventListener(r,s,!1)}function Dd(t,r,s,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&(I=_.stateNode.containerInfo,I===h||I.nodeType===8&&I.parentNode===h))return;_=_.return}for(;T!==null;){if(_=Lt(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Cu(function(){var U=d,Z=Ps(s),ie=[];e:{var G=dp.get(t);if(G!==void 0){var W=ks,Ae=t;switch(t){case"keypress":if(Ur(s)===0)break e;case"keydown":case"keyup":W=qs;break;case"focusin":Ae="focus",W=Bs;break;case"focusout":Ae="blur",W=Bs;break;case"beforeblur":case"afterblur":W=Bs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=tr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=ef;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Lu;break;case up:case cp:case hp:W=js;break;case fp:W=ku;break;case"scroll":case"scrollend":W=Iu;break;case"wheel":W=Fs;break;case"copy":case"cut":case"paste":W=Hs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Wo;break;case"toggle":case"beforetoggle":W=zu}var ke=(r&4)!==0,Vt=!ke&&(t==="scroll"||t==="scrollend"),H=ke?G!==null?G+"Capture":null:G;ke=[];for(var P=U,F;P!==null;){var te=P;if(F=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||F===null||H===null||(te=Ba(P,H),te!=null&&ke.push(Il(P,te,F))),Vt)break;P=P.return}0<ke.length&&(G=new W(G,Ae,null,s,Z),ie.push({event:G,listeners:ke}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",G&&s!==Jn&&(Ae=s.relatedTarget||s.fromElement)&&(Lt(Ae)||Ae[st]))break e;if((W||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,W?(Ae=s.relatedTarget||s.toElement,W=U,Ae=Ae?Lt(Ae):null,Ae!==null&&(Vt=Te(Ae),ke=Ae.tag,Ae!==Vt||ke!==5&&ke!==27&&ke!==6)&&(Ae=null)):(W=null,Ae=U),W!==Ae)){if(ke=tr,te="onMouseLeave",H="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(ke=Wo,te="onPointerLeave",H="onPointerEnter",P="pointer"),Vt=W==null?G:Yn(W),F=Ae==null?G:Yn(Ae),G=new ke(te,P+"leave",W,s,Z),G.target=Vt,G.relatedTarget=F,te=null,Lt(Z)===U&&(ke=new ke(H,P+"enter",Ae,s,Z),ke.target=F,ke.relatedTarget=Vt,te=ke),Vt=te,W&&Ae)t:{for(ke=W,H=Ae,P=0,F=ke;F;F=mo(F))P++;for(F=0,te=H;te;te=mo(te))F++;for(;0<P-F;)ke=mo(ke),P--;for(;0<F-P;)H=mo(H),F--;for(;P--;){if(ke===H||H!==null&&ke===H.alternate)break t;ke=mo(ke),H=mo(H)}ke=null}else ke=null;W!==null&&Av(ie,G,W,ke,!1),Ae!==null&&Vt!==null&&Av(ie,Vt,Ae,ke,!0)}}e:{if(G=U?Yn(U):window,W=G.nodeName&&G.nodeName.toLowerCase(),W==="select"||W==="input"&&G.type==="file")var Ee=Zg;else if(Qt(G))if(Jg)Ee=rS;else{Ee=tS;var Ke=eS}else W=G.nodeName,!W||W.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?U&&Fo(U.elementType)&&(Ee=Zg):Ee=nS;if(Ee&&(Ee=Ee(t,U))){di(ie,Ee,s,Z);break e}Ke&&Ke(t,G,U),t==="focusout"&&U&&G.type==="number"&&U.memoizedProps.value!=null&&Ls(G,"number",G.value)}switch(Ke=U?Yn(U):window,t){case"focusin":(Qt(Ke)||Ke.contentEditable==="true")&&(Gs=Ke,sf=U,el=null);break;case"focusout":el=sf=Gs=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,op(ie,s,Z);break;case"selectionchange":if(sS)break;case"keydown":case"keyup":op(ie,s,Z)}var Ie;if(jr)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else tt?Y(t,s)&&(Me="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Me="onCompositionStart");Me&&(v&&s.locale!=="ko"&&(tt||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&tt&&(Ie=Qo()):(kr=Z,Ki="value"in kr?kr.value:kr.textContent,tt=!0)),Ke=Sc(U,Me),0<Ke.length&&(Me=new Yo(Me,t,null,s,Z),ie.push({event:Me,listeners:Ke}),Ie?Me.data=Ie:(Ie=le(s),Ie!==null&&(Me.data=Ie)))),(Ie=y?Gt(t,s):nt(t,s))&&(Me=Sc(U,"onBeforeInput"),0<Me.length&&(Ke=new Yo("onBeforeInput","beforeinput",null,s,Z),ie.push({event:Ke,listeners:Me}),Ke.data=Ie)),HS(ie,t,U,s,Z)}Sv(ie,r)})}function Il(t,r,s){return{instance:t,listener:r,currentTarget:s}}function Sc(t,r){for(var s=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ba(t,s),h!=null&&l.unshift(Il(t,h,d)),h=Ba(t,r),h!=null&&l.push(Il(t,h,d))),t=t.return}return l}function mo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Av(t,r,s,l,h){for(var d=r._reactName,_=[];s!==null&&s!==l;){var T=s,I=T.alternate,U=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||U===null||(I=U,h?(U=Ba(s,d),U!=null&&_.unshift(Il(s,U,I))):h||(U=Ba(s,d),U!=null&&_.push(Il(s,U,I)))),s=s.return}_.length!==0&&t.push({event:r,listeners:_})}var QS=/\r\n?/g,KS=/\u0000|\uFFFD/g;function Rv(t){return(typeof t=="string"?t:""+t).replace(QS,`
`).replace(KS,"")}function Cv(t,r){return r=Rv(r),Rv(t)===r}function bc(){}function pt(t,r,s,l,h,d){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Zn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Zn(t,""+l);break;case"className":Fi(t,"class",l);break;case"tabIndex":Fi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Fi(t,s,l);break;case"style":Ru(t,l,d);break;case"data":if(r!=="object"){Fi(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Pr(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(r!=="input"&&pt(t,r,"name",h.name,h,null),pt(t,r,"formEncType",h.formEncType,h,null),pt(t,r,"formMethod",h.formMethod,h,null),pt(t,r,"formTarget",h.formTarget,h,null)):(pt(t,r,"encType",h.encType,h,null),pt(t,r,"method",h.method,h,null),pt(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Pr(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=bc);break;case"onScroll":l!=null&&Ze("scroll",t);break;case"onScrollEnd":l!=null&&Ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Pr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ze("beforetoggle",t),Ze("toggle",t),Lr(t,"popover",l);break;case"xlinkActuate":Wn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Wn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Wn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Wn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Wn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Wn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Wn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Wn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Wn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Lr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Zh.get(s)||s,Lr(t,s,l))}}function Nd(t,r,s,l,h,d){switch(s){case"style":Ru(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Zn(t,l):(typeof l=="number"||typeof l=="bigint")&&Zn(t,""+l);break;case"onScroll":l!=null&&Ze("scroll",t);break;case"onScrollEnd":l!=null&&Ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=bc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vr.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),r=s.slice(2,h?s.length-7:void 0),d=t[Oe]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Lr(t,s,l)}}}function dn(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",t),Ze("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:pt(t,r,d,_,s,null)}}h&&pt(t,r,"srcSet",s.srcSet,s,null),l&&pt(t,r,"src",s.src,s,null);return;case"input":Ze("invalid",t);var T=d=_=h=null,I=null,U=null;for(l in s)if(s.hasOwnProperty(l)){var Z=s[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":_=Z;break;case"checked":I=Z;break;case"defaultChecked":U=Z;break;case"value":d=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,r));break;default:pt(t,r,l,Z,s,null)}}Ua(t,d,T,I,U,_,h,!1),ka(t);return;case"select":Ze("invalid",t),l=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:pt(t,r,h,T,s,null)}r=d,s=_,t.multiple=!!l,r!=null?ot(t,!!l,r,!1):s!=null&&ot(t,!!l,s,!0);return;case"textarea":Ze("invalid",t),d=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:pt(t,r,_,T,s,null)}Qi(t,l,h,d),ka(t);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:pt(t,r,I,l,s,null)}return;case"dialog":Ze("cancel",t),Ze("close",t);break;case"iframe":case"object":Ze("load",t);break;case"video":case"audio":for(l=0;l<Cl.length;l++)Ze(Cl[l],t);break;case"image":Ze("error",t),Ze("load",t);break;case"details":Ze("toggle",t);break;case"embed":case"source":case"link":Ze("error",t),Ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in s)if(s.hasOwnProperty(U)&&(l=s[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:pt(t,r,U,l,s,null)}return;default:if(Fo(r)){for(Z in s)s.hasOwnProperty(Z)&&(l=s[Z],l!==void 0&&Nd(t,r,Z,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&pt(t,r,T,l,s,null))}function $S(t,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,I=null,U=null,Z=null;for(W in s){var ie=s[W];if(s.hasOwnProperty(W)&&ie!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":I=ie;default:l.hasOwnProperty(W)||pt(t,r,W,null,l,ie)}}for(var G in l){var W=l[G];if(ie=s[G],l.hasOwnProperty(G)&&(W!=null||ie!=null))switch(G){case"type":d=W;break;case"name":h=W;break;case"checked":U=W;break;case"defaultChecked":Z=W;break;case"value":_=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,r));break;default:W!==ie&&pt(t,r,G,W,l,ie)}}Gi(t,_,T,I,U,Z,d,h);return;case"select":W=_=T=G=null;for(d in s)if(I=s[d],s.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":W=I;default:l.hasOwnProperty(d)||pt(t,r,d,null,l,I)}for(h in l)if(d=l[h],I=s[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":G=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==I&&pt(t,r,h,d,l,I)}r=T,s=_,l=W,G!=null?ot(t,!!s,G,!1):!!l!=!!s&&(r!=null?ot(t,!!s,r,!0):ot(t,!!s,s?[]:"",!1));return;case"textarea":W=G=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:pt(t,r,T,null,l,h)}for(_ in l)if(h=l[_],d=s[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":G=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&pt(t,r,_,h,l,d)}za(t,G,W);return;case"option":for(var Ae in s)if(G=s[Ae],s.hasOwnProperty(Ae)&&G!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":t.selected=!1;break;default:pt(t,r,Ae,null,l,G)}for(I in l)if(G=l[I],W=s[I],l.hasOwnProperty(I)&&G!==W&&(G!=null||W!=null))switch(I){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:pt(t,r,I,G,l,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in s)G=s[ke],s.hasOwnProperty(ke)&&G!=null&&!l.hasOwnProperty(ke)&&pt(t,r,ke,null,l,G);for(U in l)if(G=l[U],W=s[U],l.hasOwnProperty(U)&&G!==W&&(G!=null||W!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,r));break;default:pt(t,r,U,G,l,W)}return;default:if(Fo(r)){for(var Vt in s)G=s[Vt],s.hasOwnProperty(Vt)&&G!==void 0&&!l.hasOwnProperty(Vt)&&Nd(t,r,Vt,void 0,l,G);for(Z in l)G=l[Z],W=s[Z],!l.hasOwnProperty(Z)||G===W||G===void 0&&W===void 0||Nd(t,r,Z,G,l,W);return}}for(var H in s)G=s[H],s.hasOwnProperty(H)&&G!=null&&!l.hasOwnProperty(H)&&pt(t,r,H,null,l,G);for(ie in l)G=l[ie],W=s[ie],!l.hasOwnProperty(ie)||G===W||G==null&&W==null||pt(t,r,ie,G,l,W)}var Od=null,Md=null;function Ac(t){return t.nodeType===9?t:t.ownerDocument}function Iv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Vd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var xd=null;function YS(){var t=window.event;return t&&t.type==="popstate"?t===xd?!1:(xd=t,!0):(xd=null,!1)}var Nv=typeof setTimeout=="function"?setTimeout:void 0,XS=typeof clearTimeout=="function"?clearTimeout:void 0,Ov=typeof Promise=="function"?Promise:void 0,WS=typeof queueMicrotask=="function"?queueMicrotask:typeof Ov<"u"?function(t){return Ov.resolve(null).then(t).catch(ZS)}:Nv;function ZS(t){setTimeout(function(){throw t})}function Ld(t,r){var s=r,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(l===0){t.removeChild(h),Pl(r);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=h}while(s);Pl(r)}function Pd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Pd(s),zn(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function JS(t,r,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Rn])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=wr(t.nextSibling),t===null)break}return null}function eb(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=wr(t.nextSibling),t===null))return null;return t}function wr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}function Mv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}function Vv(t,r,s){switch(r=Ac(s),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var hr=new Map,xv=new Set;function Rc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ii=de.d;de.d={f:tb,r:nb,D:rb,C:ib,L:ab,m:sb,X:lb,S:ob,M:ub};function tb(){var t=Ii.f(),r=vc();return t||r}function nb(t){var r=zt(t);r!==null&&r.tag===5&&r.type==="form"?oy(r):Ii.r(t)}var go=typeof document>"u"?null:document;function Lv(t,r,s){var l=go;if(l&&typeof r=="string"&&r){var h=Nt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),xv.has(h)||(xv.add(h),t={rel:t,crossOrigin:s,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),dn(r,"link",t),ct(r),l.head.appendChild(r)))}}function rb(t){Ii.D(t),Lv("dns-prefetch",t,null)}function ib(t,r){Ii.C(t,r),Lv("preconnect",t,r)}function ab(t,r,s){Ii.L(t,r,s);var l=go;if(l&&t&&r){var h='link[rel="preload"][as="'+Nt(r)+'"]';r==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Nt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Nt(s.imageSizes)+'"]')):h+='[href="'+Nt(t)+'"]';var d=h;switch(r){case"style":d=po(t);break;case"script":d=yo(t)}hr.has(d)||(t=D({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),hr.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Dl(d))||r==="script"&&l.querySelector(Nl(d))||(r=l.createElement("link"),dn(r,"link",t),ct(r),l.head.appendChild(r)))}}function sb(t,r){Ii.m(t,r);var s=go;if(s&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Nt(l)+'"][href="'+Nt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=yo(t)}if(!hr.has(d)&&(t=D({rel:"modulepreload",href:t},r),hr.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Nl(d)))return}l=s.createElement("link"),dn(l,"link",t),ct(l),s.head.appendChild(l)}}}function ob(t,r,s){Ii.S(t,r,s);var l=go;if(l&&t){var h=xn(l).hoistableStyles,d=po(t);r=r||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Dl(d)))T.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":r},s),(s=hr.get(d))&&kd(t,s);var I=_=l.createElement("link");ct(I),dn(I,"link",t),I._p=new Promise(function(U,Z){I.onload=U,I.onerror=Z}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Cc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function lb(t,r){Ii.X(t,r);var s=go;if(s&&t){var l=xn(s).hoistableScripts,h=yo(t),d=l.get(h);d||(d=s.querySelector(Nl(h)),d||(t=D({src:t,async:!0},r),(r=hr.get(h))&&Ud(t,r),d=s.createElement("script"),ct(d),dn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ub(t,r){Ii.M(t,r);var s=go;if(s&&t){var l=xn(s).hoistableScripts,h=yo(t),d=l.get(h);d||(d=s.querySelector(Nl(h)),d||(t=D({src:t,async:!0,type:"module"},r),(r=hr.get(h))&&Ud(t,r),d=s.createElement("script"),ct(d),dn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Pv(t,r,s,l){var h=(h=Ut.current)?Rc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=po(s.href),s=xn(h).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=po(s.href);var d=xn(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Dl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),hr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},hr.set(t,s),d||cb(h,t,s,_.state))),r&&l===null)throw Error(a(528,""));return _}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=yo(s),s=xn(h).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function po(t){return'href="'+Nt(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function kv(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function cb(t,r,s,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),dn(r,"link",s),ct(r),t.head.appendChild(r))}function yo(t){return'[src="'+Nt(t)+'"]'}function Nl(t){return"script[async]"+t}function Uv(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Nt(s.href)+'"]');if(l)return r.instance=l,ct(l),l;var h=D({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ct(l),dn(l,"style",h),Cc(l,s.precedence,t),r.instance=l;case"stylesheet":h=po(s.href);var d=t.querySelector(Dl(h));if(d)return r.state.loading|=4,r.instance=d,ct(d),d;l=kv(s),(h=hr.get(h))&&kd(l,h),d=(t.ownerDocument||t).createElement("link"),ct(d);var _=d;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),dn(d,"link",l),r.state.loading|=4,Cc(d,s.precedence,t),r.instance=d;case"script":return d=yo(s.src),(h=t.querySelector(Nl(d)))?(r.instance=h,ct(h),h):(l=s,(h=hr.get(d))&&(l=D({},s),Ud(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ct(h),dn(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Cc(l,s.precedence,t));return r.instance}function Cc(t,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function kd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Ud(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Ic=null;function zv(t,r,s){if(Ic===null){var l=new Map,h=Ic=new Map;h.set(s,l)}else h=Ic,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[Rn]||d[ve]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function Bv(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function hb(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function jv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ol=null;function fb(){}function db(t,r,s){if(Ol===null)throw Error(a(475));var l=Ol;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=po(s.href),d=t.querySelector(Dl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Dc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,ct(d);return}d=t.ownerDocument||t,s=kv(s),(h=hr.get(h))&&kd(s,h),d=d.createElement("link"),ct(d);var _=d;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),dn(d,"link",s),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Dc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function mb(){if(Ol===null)throw Error(a(475));var t=Ol;return t.stylesheets&&t.count===0&&zd(t,t.stylesheets),0<t.count?function(r){var s=setTimeout(function(){if(t.stylesheets&&zd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Dc(){if(this.count--,this.count===0){if(this.stylesheets)zd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Nc=null;function zd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Nc=new Map,r.forEach(gb,t),Nc=null,Dc.call(t))}function gb(t,r){if(!(r.state.loading&4)){var s=Nc.get(t);if(s)var l=s.get(null);else{s=new Map,Nc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=r.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,h),s.set(_,h),this.count++,l=Dc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Ml={$$typeof:C,Provider:null,Consumer:null,_currentValue:Ve,_currentValue2:Ve,_threadCount:0};function pb(t,r,s,l,h,d,_,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Q(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Q(0),this.hiddenUpdates=Q(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Hv(t,r,s,l,h,d,_,T,I,U,Z,ie){return t=new pb(t,r,s,_,T,I,U,ie),r=1,d===!0&&(r|=24),d=ur(3,null,null,r),t.current=d,d.stateNode=t,r=yf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:r},Wf(d),t}function qv(t){return t?(t=$s,t):$s}function Fv(t,r,s,l,h,d){h=qv(h),l.context===null?l.context=h:l.pendingContext=h,l=ta(r),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=na(t,l,r),s!==null&&(Nn(s,t,r),gl(s,t,r))}function Gv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function Bd(t,r){Gv(t,r),(t=t.alternate)&&Gv(t,r)}function Qv(t){if(t.tag===13){var r=$i(t,67108864);r!==null&&Nn(r,t,67108864),Bd(t,67108864)}}var Oc=!0;function yb(t,r,s,l){var h=b.T;b.T=null;var d=de.p;try{de.p=2,jd(t,r,s,l)}finally{de.p=d,b.T=h}}function vb(t,r,s,l){var h=b.T;b.T=null;var d=de.p;try{de.p=8,jd(t,r,s,l)}finally{de.p=d,b.T=h}}function jd(t,r,s,l){if(Oc){var h=Hd(l);if(h===null)Dd(t,r,l,Mc,s),$v(t,l);else if(Eb(h,t,r,s,l))l.stopPropagation();else if($v(t,l),r&4&&-1<_b.indexOf(t)){for(;h!==null;){var d=zt(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=vn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-en(_);T.entanglements[1]|=I,_&=~I}Kr(d),(Ct&6)===0&&(gc=Zt()+500,Rl(0))}}break;case 13:T=$i(d,2),T!==null&&Nn(T,d,2),vc(),Bd(d,2)}if(d=Hd(l),d===null&&Dd(t,r,l,Mc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else Dd(t,r,l,null,s)}}function Hd(t){return t=Ps(t),qd(t)}var Mc=null;function qd(t){if(Mc=null,t=Lt(t),t!==null){var r=Te(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=je(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Mc=t,null}function Kv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kn()){case mt:return 2;case xt:return 8;case Un:case Os:return 32;case Vn:return 268435456;default:return 32}default:return 32}}var Fd=!1,ua=null,ca=null,ha=null,Vl=new Map,xl=new Map,fa=[],_b="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $v(t,r){switch(t){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":Vl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(r.pointerId)}}function Ll(t,r,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=zt(r),r!==null&&Qv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Eb(t,r,s,l,h){switch(r){case"focusin":return ua=Ll(ua,t,r,s,l,h),!0;case"dragenter":return ca=Ll(ca,t,r,s,l,h),!0;case"mouseover":return ha=Ll(ha,t,r,s,l,h),!0;case"pointerover":var d=h.pointerId;return Vl.set(d,Ll(Vl.get(d)||null,t,r,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,xl.set(d,Ll(xl.get(d)||null,t,r,s,l,h)),!0}return!1}function Yv(t){var r=Lt(t.target);if(r!==null){var s=Te(r);if(s!==null){if(r=s.tag,r===13){if(r=je(s),r!==null){t.blockedOn=r,fe(t.priority,function(){if(s.tag===13){var l=Fn(),h=$i(s,l);h!==null&&Nn(h,s,l),Bd(s,l)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=Hd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Jn=l,s.target.dispatchEvent(l),Jn=null}else return r=zt(s),r!==null&&Qv(r),t.blockedOn=s,!1;r.shift()}return!0}function Xv(t,r,s){Vc(t)&&s.delete(r)}function Tb(){Fd=!1,ua!==null&&Vc(ua)&&(ua=null),ca!==null&&Vc(ca)&&(ca=null),ha!==null&&Vc(ha)&&(ha=null),Vl.forEach(Xv),xl.forEach(Xv)}function xc(t,r){t.blockedOn===r&&(t.blockedOn=null,Fd||(Fd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Tb)))}var Lc=null;function Wv(t){Lc!==t&&(Lc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Lc===t&&(Lc=null);for(var r=0;r<t.length;r+=3){var s=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(qd(l||s)===null)continue;break}var d=zt(s);d!==null&&(t.splice(r,3),r-=3,Vf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Pl(t){function r(I){return xc(I,t)}ua!==null&&xc(ua,t),ca!==null&&xc(ca,t),ha!==null&&xc(ha,t),Vl.forEach(r),xl.forEach(r);for(var s=0;s<fa.length;s++){var l=fa[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<fa.length&&(s=fa[0],s.blockedOn===null);)Yv(s),s.blockedOn===null&&fa.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],_=h[Oe]||null;if(typeof d=="function")_||Wv(s);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Oe]||null)T=_.formAction;else if(qd(h)!==null)continue}else T=_.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),Wv(s)}}}function Gd(t){this._internalRoot=t}Pc.prototype.render=Gd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=Fn();Fv(s,l,t,r,null,null)},Pc.prototype.unmount=Gd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;t.tag===0&&ho(),Fv(t.current,2,null,t,null,null),vc(),r[st]=null}};function Pc(t){this._internalRoot=t}Pc.prototype.unstable_scheduleHydration=function(t){if(t){var r=be();t={blockedOn:null,target:t,priority:r};for(var s=0;s<fa.length&&r!==0&&r<fa[s].priority;s++);fa.splice(s,0,t),s===0&&Yv(t)}};var Zv=e.version;if(Zv!=="19.0.0")throw Error(a(527,Zv,"19.0.0"));de.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=se(r),t=t!==null?me(t):null,t=t===null?null:t.stateNode,t};var wb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:Lt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{pr=kc.inject(wb),Jt=kc}catch{}}return Ul.createRoot=function(t,r){if(!o(t))throw Error(a(299));var s=!1,l="",h=gy,d=py,_=yy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=Hv(t,1,!1,null,null,s,l,h,d,_,T,null),t[st]=r.current,Id(t.nodeType===8?t.parentNode:t),new Gd(r)},Ul.hydrateRoot=function(t,r,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=gy,_=py,T=yy,I=null,U=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks),s.formState!==void 0&&(U=s.formState)),r=Hv(t,1,!0,r,s??null,l,h,d,_,T,I,U),r.context=qv(null),s=r.current,l=Fn(),h=ta(l),h.callback=null,na(s,h,l),r.current.lanes=l,ee(r,l),Kr(r),t[st]=r.current,Id(t),new Pc(r)},Ul.version="19.0.0",Ul}var l_;function Ob(){if(l_)return Kd.exports;l_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Kd.exports=Nb(),Kd.exports}var Mb=Ob(),$=Hm(),zl={},u_;function Vb(){if(u_)return zl;u_=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.parse=f,zl.serialize=p;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,C){const M=new u,K=A.length;if(K<2)return M;const z=(C==null?void 0:C.decode)||E;let X=0;do{const J=A.indexOf("=",X);if(J===-1)break;const ae=A.indexOf(";",X),ge=ae===-1?K:ae;if(J>ge){X=A.lastIndexOf(";",J-1)+1;continue}const k=m(A,X,J),oe=g(A,J,k),O=A.slice(k,oe);if(M[O]===void 0){let R=m(A,J+1,ge),b=g(A,ge,R);const D=z(A.slice(R,b));M[O]=D}X=ge+1}while(X<K);return M}function m(A,C,M){do{const K=A.charCodeAt(C);if(K!==32&&K!==9)return C}while(++C<M);return M}function g(A,C,M){for(;C>M;){const K=A.charCodeAt(--C);if(K!==32&&K!==9)return C+1}return M}function p(A,C,M){const K=(M==null?void 0:M.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const z=K(C);if(!e.test(z))throw new TypeError(`argument val is invalid: ${C}`);let X=A+"="+z;if(!M)return X;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);X+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);X+="; Domain="+M.domain}if(M.path){if(!a.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);X+="; Path="+M.path}if(M.expires){if(!w(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);X+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(X+="; HttpOnly"),M.secure&&(X+="; Secure"),M.partitioned&&(X+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":X+="; Priority=Low";break;case"medium":X+="; Priority=Medium";break;case"high":X+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":X+="; SameSite=Strict";break;case"lax":X+="; SameSite=Lax";break;case"none":X+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return X}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function w(A){return o.call(A)==="[object Date]"}return zl}Vb();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sE=i=>{throw TypeError(i)},xb=(i,e,n)=>e.has(i)||sE("Cannot "+n),Zd=(i,e,n)=>(xb(i,e,"read from private field"),n?n.call(i):e.get(i)),Lb=(i,e,n)=>e.has(i)?sE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,n),c_="popstate";function Pb(i={}){function e(a,o){let{pathname:u,search:f,hash:m}=a.location;return eu("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Ra(o)}return Ub(e,n,null,i)}function Je(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function pn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kb(){return Math.random().toString(36).substring(2,10)}function h_(i,e){return{usr:i.state,key:i.key,idx:e}}function eu(i,e,n=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Va(e):e,state:n,key:e&&e.key||a||kb()}}function Ra({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Va(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function Ub(i,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",g=null,p=E();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let z=E(),X=z==null?null:z-p;p=z,g&&g({action:m,location:K.location,delta:X})}function A(z,X){m="PUSH";let J=eu(K.location,z,X);p=E()+1;let ae=h_(J,p),ge=K.createHref(J);try{f.pushState(ae,"",ge)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;o.location.assign(ge)}u&&g&&g({action:m,location:K.location,delta:1})}function C(z,X){m="REPLACE";let J=eu(K.location,z,X);p=E();let ae=h_(J,p),ge=K.createHref(J);f.replaceState(ae,"",ge),u&&g&&g({action:m,location:K.location,delta:0})}function M(z){let X=o.location.origin!=="null"?o.location.origin:o.location.href,J=typeof z=="string"?z:Ra(z);return J=J.replace(/ $/,"%20"),Je(X,`No window.location.(origin|href) available to create URL for href: ${J}`),new URL(J,X)}let K={get action(){return m},get location(){return i(o,f)},listen(z){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(c_,w),g=z,()=>{o.removeEventListener(c_,w),g=null}},createHref(z){return e(o,z)},createURL:M,encodeLocation(z){let X=M(z);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:A,replace:C,go(z){return f.go(z)}};return K}var ql,f_=class{constructor(i){if(Lb(this,ql,new Map),i)for(let[e,n]of i)this.set(e,n)}get(i){if(Zd(this,ql).has(i))return Zd(this,ql).get(i);if(i.defaultValue!==void 0)return i.defaultValue;throw new Error("No value found for context")}set(i,e){Zd(this,ql).set(i,e)}};ql=new WeakMap;var zb=new Set(["lazy","caseSensitive","path","id","index","children"]);function Bb(i){return i.index===!0}function ah(i,e,n=[],a={}){return i.map((o,u)=>{let f=[...n,String(u)],m=typeof o.id=="string"?o.id:f.join("-");if(Je(o.index!==!0||!o.children,"Cannot specify children on an index route"),Je(!a[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),Bb(o)){let g={...o,...e(o),id:m};return a[m]=g,g}else{let g={...o,...e(o),id:m,children:void 0};return a[m]=g,o.children&&(g.children=ah(o.children,e,f,a)),g}})}function pa(i,e,n="/"){return Qc(i,e,n,!1)}function Qc(i,e,n,a){let o=typeof e=="string"?Va(e):e,u=mr(o.pathname||"/",n);if(u==null)return null;let f=oE(i);Hb(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=Jb(u);m=Wb(f[g],p,a)}return m}function jb(i,e){let{route:n,pathname:a,params:o}=i;return{id:n.id,pathname:a,params:o,data:e[n.id],handle:n.handle}}function oE(i,e=[],n=[],a=""){let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(Je(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length));let p=Yr([a,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),oE(u.children,e,E,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:Yb(p,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let g of lE(u.path))o(u,f,g)}),e}function lE(i){let e=i.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=lE(a.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function Hb(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Xb(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var qb=/^:[\w-]+$/,Fb=3,Gb=2,Qb=1,Kb=10,$b=-2,d_=i=>i==="*";function Yb(i,e){let n=i.split("/"),a=n.length;return n.some(d_)&&(a+=$b),e&&(a+=Gb),n.filter(o=>!d_(o)).reduce((o,u)=>o+(qb.test(u)?Fb:u===""?Qb:Kb),a)}function Xb(i,e){return i.length===e.length&&i.slice(0,-1).every((a,o)=>a===e[o])?i[i.length-1]-e[e.length-1]:0}function Wb(i,e,n=!1){let{routesMeta:a}=i,o={},u="/",f=[];for(let m=0;m<a.length;++m){let g=a[m],p=m===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=sh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),A=g.route;if(!w&&p&&n&&!a[a.length-1].route.index&&(w=sh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Yr([u,w.pathname]),pathnameBase:nA(Yr([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=Yr([u,w.pathnameBase]))}return f}function sh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=Zb(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((p,{paramName:E,isOptional:w},A)=>{if(E==="*"){let M=m[A]||"";f=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const C=m[A];return w&&!C?p[E]=void 0:p[E]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:i}}function Zb(i,e=!1,n=!0){pn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(a.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function Jb(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function mr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}function eA(i,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof i=="string"?Va(i):i;return{pathname:n?n.startsWith("/")?n:tA(n,e):e,search:rA(a),hash:iA(o)}}function tA(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Jd(i,e,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uE(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function qm(i){let e=uE(i);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Fm(i,e,n,a=!1){let o;typeof i=="string"?o=Va(i):(o={...i},Je(!o.pathname||!o.pathname.includes("?"),Jd("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),Jd("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),Jd("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!a&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let g=eA(o,m),p=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var Yr=i=>i.join("/").replace(/\/\/+/g,"/"),nA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),rA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,iA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,oh=class{constructor(i,e,n,a=!1){this.status=i,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function tu(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var cE=["POST","PUT","PATCH","DELETE"],aA=new Set(cE),sA=["GET",...cE],oA=new Set(sA),lA=new Set([301,302,303,307,308]),uA=new Set([307,308]),em={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},cA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Bl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Gm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hA=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),hE="remix-router-transitions",fE=Symbol("ResetLoaderData");function fA(i){const e=i.window?i.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Je(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=i.mapRouteProperties||hA,o={},u=ah(i.routes,a,void 0,o),f,m=i.basename||"/",g=i.dataStrategy||yA,p={unstable_middleware:!1,...i.future},E=null,w=new Set,A=null,C=null,M=null,K=i.hydrationData!=null,z=pa(u,i.history.location,m),X=!1,J=null;if(z==null&&!i.patchRoutesOnNavigation){let V=fr(404,{pathname:i.history.location.pathname}),{matches:B,route:Q}=A_(u);z=B,J={[Q.id]:V}}z&&!i.hydrationData&&vn(z,u,i.history.location.pathname).active&&(z=null);let ae;if(z)if(z.some(V=>V.route.lazy))ae=!1;else if(!z.some(V=>V.route.loader))ae=!0;else{let V=i.hydrationData?i.hydrationData.loaderData:null,B=i.hydrationData?i.hydrationData.errors:null;if(B){let Q=z.findIndex(ee=>B[ee.route.id]!==void 0);ae=z.slice(0,Q+1).every(ee=>!gm(ee.route,V,B))}else ae=z.every(Q=>!gm(Q.route,V,B))}else{ae=!1,z=[];let V=vn(null,u,i.history.location.pathname);V.active&&V.matches&&(X=!0,z=V.matches)}let ge,k={historyAction:i.history.action,location:i.history.location,matches:z,initialized:ae,navigation:em,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||J,fetchers:new Map,blockers:new Map},oe="POP",O=!1,R,b=!1,D=new Map,L=null,j=!1,N=!1,bt=new Set,qe=new Map,ue=0,De=-1,Te=new Map,je=new Set,x=new Map,se=new Map,me=new Set,he=new Map,de,Ve=null;function ze(){if(E=i.history.listen(({action:V,location:B,delta:Q})=>{if(de){de(),de=void 0;return}pn(he.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ee=en({currentLocation:k.location,nextLocation:B,historyAction:V});if(ee&&Q!=null){let ce=new Promise(Ce=>{de=Ce});i.history.go(Q*-1),An(ee,{state:"blocked",location:B,proceed(){An(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),ce.then(()=>i.history.go(Q))},reset(){let Ce=new Map(k.blockers);Ce.set(ee,Bl),Qe({blockers:Ce})}});return}return Ut(V,B)}),n){DA(e,D);let V=()=>NA(e,D);e.addEventListener("pagehide",V),L=()=>e.removeEventListener("pagehide",V)}return k.initialized||Ut("POP",k.location,{initialHydration:!0}),ge}function Dt(){E&&E(),L&&L(),w.clear(),R&&R.abort(),k.fetchers.forEach((V,B)=>Un(B)),k.blockers.forEach((V,B)=>Hi(B))}function et(V){return w.add(V),()=>w.delete(V)}function Qe(V,B={}){k={...k,...V};let Q=[],ee=[];k.fetchers.forEach((ce,Ce)=>{ce.state==="idle"&&(me.has(Ce)?Q.push(Ce):ee.push(Ce))}),me.forEach(ce=>{!k.fetchers.has(ce)&&!qe.has(ce)&&Q.push(ce)}),[...w].forEach(ce=>ce(k,{deletedFetchers:Q,viewTransitionOpts:B.viewTransitionOpts,flushSync:B.flushSync===!0})),Q.forEach(ce=>Un(ce)),ee.forEach(ce=>k.fetchers.delete(ce))}function Ye(V,B,{flushSync:Q}={}){var fe,ye;let ee=k.actionData!=null&&k.navigation.formMethod!=null&&Sr(k.navigation.formMethod)&&k.navigation.state==="loading"&&((fe=V.state)==null?void 0:fe._isRedirect)!==!0,ce;B.actionData?Object.keys(B.actionData).length>0?ce=B.actionData:ce=null:ee?ce=k.actionData:ce=null;let Ce=B.loaderData?S_(k.loaderData,B.loaderData,B.matches||[],B.errors):k.loaderData,Re=k.blockers;Re.size>0&&(Re=new Map(Re),Re.forEach((ve,Oe)=>Re.set(Oe,Bl)));let we=O===!0||k.navigation.formMethod!=null&&Sr(k.navigation.formMethod)&&((ye=V.state)==null?void 0:ye._isRedirect)!==!0;f&&(u=f,f=void 0),j||oe==="POP"||(oe==="PUSH"?i.history.push(V,V.state):oe==="REPLACE"&&i.history.replace(V,V.state));let be;if(oe==="POP"){let ve=D.get(k.location.pathname);ve&&ve.has(V.pathname)?be={currentLocation:k.location,nextLocation:V}:D.has(V.pathname)&&(be={currentLocation:V,nextLocation:k.location})}else if(b){let ve=D.get(k.location.pathname);ve?ve.add(V.pathname):(ve=new Set([V.pathname]),D.set(k.location.pathname,ve)),be={currentLocation:k.location,nextLocation:V}}Qe({...B,actionData:ce,loaderData:Ce,historyAction:oe,location:V,initialized:!0,navigation:em,revalidation:"idle",restoreScrollPosition:yr(V,B.matches||k.matches),preventScrollReset:we,blockers:Re},{viewTransitionOpts:be,flushSync:Q===!0}),oe="POP",O=!1,b=!1,j=!1,N=!1,Ve==null||Ve.resolve(),Ve=null}async function Wt(V,B){if(typeof V=="number"){i.history.go(V);return}let Q=mm(k.location,k.matches,m,V,B==null?void 0:B.fromRouteId,B==null?void 0:B.relative),{path:ee,submission:ce,error:Ce}=m_(!1,Q,B),Re=k.location,we=eu(k.location,ee,B&&B.state);we={...we,...i.history.encodeLocation(we)};let be=B&&B.replace!=null?B.replace:void 0,fe="PUSH";be===!0?fe="REPLACE":be===!1||ce!=null&&Sr(ce.formMethod)&&ce.formAction===k.location.pathname+k.location.search&&(fe="REPLACE");let ye=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,ve=(B&&B.flushSync)===!0,Oe=en({currentLocation:Re,nextLocation:we,historyAction:fe});if(Oe){An(Oe,{state:"blocked",location:we,proceed(){An(Oe,{state:"proceeding",proceed:void 0,reset:void 0,location:we}),Wt(V,B)},reset(){let st=new Map(k.blockers);st.set(Oe,Bl),Qe({blockers:st})}});return}await Ut(fe,we,{submission:ce,pendingError:Ce,preventScrollReset:ye,replace:B&&B.replace,enableViewTransition:B&&B.viewTransition,flushSync:ve})}function gr(){Ve||(Ve=OA()),Zt(),Qe({revalidation:"loading"});let V=Ve.promise;return k.navigation.state==="submitting"?V:k.navigation.state==="idle"?(Ut(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),V):(Ut(oe||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:b===!0}),V)}async function Ut(V,B,Q){R&&R.abort(),R=null,oe=V,j=(Q&&Q.startUninterruptedRevalidation)===!0,$n(k.location,k.matches),O=(Q&&Q.preventScrollReset)===!0,b=(Q&&Q.enableViewTransition)===!0;let ee=f||u,ce=Q&&Q.overrideNavigation,Ce=Q!=null&&Q.initialHydration&&k.matches&&k.matches.length>0&&!X?k.matches:pa(ee,B,m),Re=(Q&&Q.flushSync)===!0;if(Ce&&k.initialized&&!N&&bA(k.location,B)&&!(Q&&Q.submission&&Sr(Q.submission.formMethod))){Ye(B,{matches:Ce},{flushSync:Re});return}let we=vn(Ce,ee,B.pathname);if(we.active&&we.matches&&(Ce=we.matches),!Ce){let{error:yt,notFoundMatches:at,route:wt}=ai(B.pathname);Ye(B,{matches:at,loaderData:{},errors:{[wt.id]:yt}},{flushSync:Re});return}R=new AbortController;let be=vo(i.history,B,R.signal,Q&&Q.submission),fe=new f_(i.unstable_getContext?await i.unstable_getContext():void 0),ye;if(Q&&Q.pendingError)ye=[fs(Ce).route.id,{type:"error",error:Q.pendingError}];else if(Q&&Q.submission&&Sr(Q.submission.formMethod)){let yt=await Nr(be,B,Q.submission,Ce,fe,we.active,{replace:Q.replace,flushSync:Re});if(yt.shortCircuited)return;if(yt.pendingActionResult){let[at,wt]=yt.pendingActionResult;if(Gn(wt)&&tu(wt.error)&&wt.error.status===404){R=null,Ye(B,{matches:yt.matches,loaderData:{},errors:{[at]:wt.error}});return}}Ce=yt.matches||Ce,ye=yt.pendingActionResult,ce=tm(B,Q.submission),Re=!1,we.active=!1,be=vo(i.history,be.url,be.signal)}let{shortCircuited:ve,matches:Oe,loaderData:st,errors:At}=await Or(be,B,Ce,fe,we.active,ce,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,Re,ye);ve||(R=null,Ye(B,{matches:Oe||Ce,...b_(ye),loaderData:st,errors:At}))}async function Nr(V,B,Q,ee,ce,Ce,Re={}){Zt();let we=CA(B,Q);if(Qe({navigation:we},{flushSync:Re.flushSync===!0}),Ce){let ye=await un(ee,B.pathname,V.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){let ve=fs(ye.partialMatches).route.id;return{matches:ye.partialMatches,pendingActionResult:[ve,{type:"error",error:ye.error}]}}else if(ye.matches)ee=ye.matches;else{let{notFoundMatches:ve,error:Oe,route:st}=ai(B.pathname);return{matches:ve,pendingActionResult:[st.id,{type:"error",error:Oe}]}}}let be,fe=Fl(ee,B);if(!fe.route.action&&!fe.route.lazy)be={type:"error",error:fr(405,{method:V.method,pathname:B.pathname,routeId:fe.route.id})};else{let ye=await ii("action",V,[fe],ee,ce,null);if(be=ye[fe.route.id],!be){for(let ve of ee)if(ye[ve.route.id]){be=ye[ve.route.id];break}}if(V.signal.aborted)return{shortCircuited:!0}}if(ds(be)){let ye;return Re&&Re.replace!=null?ye=Re.replace:ye=E_(be.response.headers.get("Location"),new URL(V.url),m)===k.location.pathname+k.location.search,await Mn(V,be,!0,{submission:Q,replace:ye}),{shortCircuited:!0}}if(Gn(be)){let ye=fs(ee,fe.route.id);return(Re&&Re.replace)!==!0&&(oe="PUSH"),{matches:ee,pendingActionResult:[ye.route.id,be]}}return{matches:ee,pendingActionResult:[fe.route.id,be]}}async function Or(V,B,Q,ee,ce,Ce,Re,we,be,fe,ye,ve){let Oe=Ce||tm(B,Re),st=Re||we||C_(Oe),At=!j&&!fe;if(ce){if(At){let ht=Kn(ve);Qe({navigation:Oe,...ht!==void 0?{actionData:ht}:{}},{flushSync:ye})}let He=await un(Q,B.pathname,V.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){let ht=fs(He.partialMatches).route.id;return{matches:He.partialMatches,loaderData:{},errors:{[ht]:He.error}}}else if(He.matches)Q=He.matches;else{let{error:ht,notFoundMatches:tn,route:si}=ai(B.pathname);return{matches:tn,loaderData:{},errors:{[si.id]:ht}}}}let yt=f||u,[at,wt]=p_(i.history,k,Q,st,B,fe===!0,N,bt,me,x,je,yt,m,ve);if(De=++ue,at.length===0&&wt.length===0){let He=Mr();return Ye(B,{matches:Q,loaderData:{},errors:ve&&Gn(ve[1])?{[ve[0]]:ve[1].error}:null,...b_(ve),...He?{fetchers:new Map(k.fetchers)}:{}},{flushSync:ye}),{shortCircuited:!0}}if(At){let He={};if(!ce){He.navigation=Oe;let ht=Kn(ve);ht!==void 0&&(He.actionData=ht)}wt.length>0&&(He.fetchers=xa(wt)),Qe(He,{flushSync:ye})}wt.forEach(He=>{Vn(He.key),He.controller&&qe.set(He.key,He.controller)});let Rn=()=>wt.forEach(He=>Vn(He.key));R&&R.signal.addEventListener("abort",Rn);let{loaderResults:zn,fetcherResults:Lt}=await ji(Q,at,wt,V,ee);if(V.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Rn),wt.forEach(He=>qe.delete(He.key));let zt=Uc(zn);if(zt)return await Mn(V,zt.result,!0,{replace:be}),{shortCircuited:!0};if(zt=Uc(Lt),zt)return je.add(zt.key),await Mn(V,zt.result,!0,{replace:be}),{shortCircuited:!0};let{loaderData:Yn,errors:xn}=w_(k,Q,zn,ve,wt,Lt);fe&&k.errors&&(xn={...k.errors,...xn});let ct=Mr(),xr=pr(De),vr=ct||xr||wt.length>0;return{matches:Q,loaderData:Yn,errors:xn,...vr?{fetchers:new Map(k.fetchers)}:{}}}function Kn(V){if(V&&!Gn(V[1]))return{[V[0]]:V[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function xa(V){return V.forEach(B=>{let Q=k.fetchers.get(B.key),ee=jl(void 0,Q?Q.data:void 0);k.fetchers.set(B.key,ee)}),new Map(k.fetchers)}async function zi(V,B,Q,ee){Vn(V);let ce=(ee&&ee.flushSync)===!0,Ce=f||u,Re=mm(k.location,k.matches,m,Q,B,ee==null?void 0:ee.relative),we=pa(Ce,Re,m),be=vn(we,Ce,Re);if(be.active&&be.matches&&(we=be.matches),!we){mt(V,B,fr(404,{pathname:Re}),{flushSync:ce});return}let{path:fe,submission:ye,error:ve}=m_(!0,Re,ee);if(ve){mt(V,B,ve,{flushSync:ce});return}let Oe=Fl(we,fe),st=new f_(i.unstable_getContext?await i.unstable_getContext():void 0),At=(ee&&ee.preventScrollReset)===!0;if(ye&&Sr(ye.formMethod)){await Bi(V,B,fe,Oe,we,st,be.active,ce,At,ye);return}x.set(V,{routeId:B,path:fe}),await ri(V,B,fe,Oe,we,st,be.active,ce,At,ye)}async function Bi(V,B,Q,ee,ce,Ce,Re,we,be,fe){Zt(),x.delete(V);function ye(_t){if(!_t.route.action&&!_t.route.lazy){let Xn=fr(405,{method:fe.formMethod,pathname:Q,routeId:B});return mt(V,B,Xn,{flushSync:we}),!0}return!1}if(!Re&&ye(ee))return;let ve=k.fetchers.get(V);kn(V,IA(fe,ve),{flushSync:we});let Oe=new AbortController,st=vo(i.history,Q,Oe.signal,fe);if(Re){let _t=await un(ce,Q,st.signal,V);if(_t.type==="aborted")return;if(_t.type==="error"){mt(V,B,_t.error,{flushSync:we});return}else if(_t.matches){if(ce=_t.matches,ee=Fl(ce,Q),ye(ee))return}else{mt(V,B,fr(404,{pathname:Q}),{flushSync:we});return}}qe.set(V,Oe);let At=ue,at=(await ii("action",st,[ee],ce,Ce,V))[ee.route.id];if(st.signal.aborted){qe.get(V)===Oe&&qe.delete(V);return}if(me.has(V)){if(ds(at)||Gn(at)){kn(V,ga(void 0));return}}else{if(ds(at))if(qe.delete(V),De>At){kn(V,ga(void 0));return}else return je.add(V),kn(V,jl(fe)),Mn(st,at,!1,{fetcherSubmission:fe,preventScrollReset:be});if(Gn(at)){mt(V,B,at.error);return}}let wt=k.navigation.location||k.location,Rn=vo(i.history,wt,Oe.signal),zn=f||u,Lt=k.navigation.state!=="idle"?pa(zn,k.navigation.location,m):k.matches;Je(Lt,"Didn't find any matches after fetcher action");let zt=++ue;Te.set(V,zt);let Yn=jl(fe,at.data);k.fetchers.set(V,Yn);let[xn,ct]=p_(i.history,k,Lt,fe,wt,!1,N,bt,me,x,je,zn,m,[ee.route.id,at]);ct.filter(_t=>_t.key!==V).forEach(_t=>{let Xn=_t.key,Pa=k.fetchers.get(Xn),Lr=jl(void 0,Pa?Pa.data:void 0);k.fetchers.set(Xn,Lr),Vn(Xn),_t.controller&&qe.set(Xn,_t.controller)}),Qe({fetchers:new Map(k.fetchers)});let xr=()=>ct.forEach(_t=>Vn(_t.key));Oe.signal.addEventListener("abort",xr);let{loaderResults:vr,fetcherResults:He}=await ji(Lt,xn,ct,Rn,Ce);if(Oe.signal.aborted)return;Oe.signal.removeEventListener("abort",xr),Te.delete(V),qe.delete(V),ct.forEach(_t=>qe.delete(_t.key));let ht=Uc(vr);if(ht)return Mn(Rn,ht.result,!1,{preventScrollReset:be});if(ht=Uc(He),ht)return je.add(ht.key),Mn(Rn,ht.result,!1,{preventScrollReset:be});let{loaderData:tn,errors:si}=w_(k,Lt,vr,void 0,ct,He);if(k.fetchers.has(V)){let _t=ga(at.data);k.fetchers.set(V,_t)}pr(zt),k.navigation.state==="loading"&&zt>De?(Je(oe,"Expected pending action"),R&&R.abort(),Ye(k.navigation.location,{matches:Lt,loaderData:tn,errors:si,fetchers:new Map(k.fetchers)})):(Qe({errors:si,loaderData:S_(k.loaderData,tn,Lt,si),fetchers:new Map(k.fetchers)}),N=!1)}async function ri(V,B,Q,ee,ce,Ce,Re,we,be,fe){let ye=k.fetchers.get(V);kn(V,jl(fe,ye?ye.data:void 0),{flushSync:we});let ve=new AbortController,Oe=vo(i.history,Q,ve.signal);if(Re){let at=await un(ce,Q,Oe.signal,V);if(at.type==="aborted")return;if(at.type==="error"){mt(V,B,at.error,{flushSync:we});return}else if(at.matches)ce=at.matches,ee=Fl(ce,Q);else{mt(V,B,fr(404,{pathname:Q}),{flushSync:we});return}}qe.set(V,ve);let st=ue,yt=(await ii("loader",Oe,[ee],ce,Ce,V))[ee.route.id];if(qe.get(V)===ve&&qe.delete(V),!Oe.signal.aborted){if(me.has(V)){kn(V,ga(void 0));return}if(ds(yt))if(De>st){kn(V,ga(void 0));return}else{je.add(V),await Mn(Oe,yt,!1,{preventScrollReset:be});return}if(Gn(yt)){mt(V,B,yt.error);return}kn(V,ga(yt.data))}}async function Mn(V,B,Q,{submission:ee,fetcherSubmission:ce,preventScrollReset:Ce,replace:Re}={}){B.response.headers.has("X-Remix-Revalidate")&&(N=!0);let we=B.response.headers.get("Location");Je(we,"Expected a Location header on the redirect Response"),we=E_(we,new URL(V.url),m);let be=eu(k.location,we,{_isRedirect:!0});if(n){let At=!1;if(B.response.headers.has("X-Remix-Reload-Document"))At=!0;else if(Gm.test(we)){const yt=i.history.createURL(we);At=yt.origin!==e.location.origin||mr(yt.pathname,m)==null}if(At){Re?e.location.replace(we):e.location.assign(we);return}}R=null;let fe=Re===!0||B.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ye,formAction:ve,formEncType:Oe}=k.navigation;!ee&&!ce&&ye&&ve&&Oe&&(ee=C_(k.navigation));let st=ee||ce;if(uA.has(B.response.status)&&st&&Sr(st.formMethod))await Ut(fe,be,{submission:{...st,formAction:we},preventScrollReset:Ce||O,enableViewTransition:Q?b:void 0});else{let At=tm(be,ee);await Ut(fe,be,{overrideNavigation:At,fetcherSubmission:ce,preventScrollReset:Ce||O,enableViewTransition:Q?b:void 0})}}async function ii(V,B,Q,ee,ce,Ce){let Re,we={};try{Re=await _A(g,V,B,Q,ee,Ce,o,a,ce,p.unstable_middleware)}catch(be){return Q.forEach(fe=>{we[fe.route.id]={type:"error",error:be}}),we}for(let[be,fe]of Object.entries(Re))if(AA(fe)){let ye=fe.result;we[be]={type:"redirect",response:wA(ye,B,be,ee,m)}}else we[be]=await TA(fe);return we}async function ji(V,B,Q,ee,ce){let Ce=ii("loader",ee,B,V,ce,null),Re=Promise.all(Q.map(async fe=>{if(fe.matches&&fe.match&&fe.controller){let ve=(await ii("loader",vo(i.history,fe.path,fe.controller.signal),[fe.match],fe.matches,ce,fe.key))[fe.match.route.id];return{[fe.key]:ve}}else return Promise.resolve({[fe.key]:{type:"error",error:fr(404,{pathname:fe.path})}})})),we=await Ce,be=(await Re).reduce((fe,ye)=>Object.assign(fe,ye),{});return{loaderResults:we,fetcherResults:be}}function Zt(){N=!0,x.forEach((V,B)=>{qe.has(B)&&bt.add(B),Vn(B)})}function kn(V,B,Q={}){k.fetchers.set(V,B),Qe({fetchers:new Map(k.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function mt(V,B,Q,ee={}){let ce=fs(k.matches,B);Un(V),Qe({errors:{[ce.route.id]:Q},fetchers:new Map(k.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function xt(V){return se.set(V,(se.get(V)||0)+1),me.has(V)&&me.delete(V),k.fetchers.get(V)||cA}function Un(V){let B=k.fetchers.get(V);qe.has(V)&&!(B&&B.state==="loading"&&Te.has(V))&&Vn(V),x.delete(V),Te.delete(V),je.delete(V),me.delete(V),bt.delete(V),k.fetchers.delete(V)}function Os(V){let B=(se.get(V)||0)-1;B<=0?(se.delete(V),me.add(V)):se.set(V,B),Qe({fetchers:new Map(k.fetchers)})}function Vn(V){let B=qe.get(V);B&&(B.abort(),qe.delete(V))}function Ms(V){for(let B of V){let Q=xt(B),ee=ga(Q.data);k.fetchers.set(B,ee)}}function Mr(){let V=[],B=!1;for(let Q of je){let ee=k.fetchers.get(Q);Je(ee,`Expected fetcher: ${Q}`),ee.state==="loading"&&(je.delete(Q),V.push(Q),B=!0)}return Ms(V),B}function pr(V){let B=[];for(let[Q,ee]of Te)if(ee<V){let ce=k.fetchers.get(Q);Je(ce,`Expected fetcher: ${Q}`),ce.state==="loading"&&(Vn(Q),Te.delete(Q),B.push(Q))}return Ms(B),B.length>0}function Jt(V,B){let Q=k.blockers.get(V)||Bl;return he.get(V)!==B&&he.set(V,B),Q}function Hi(V){k.blockers.delete(V),he.delete(V)}function An(V,B){let Q=k.blockers.get(V)||Bl;Je(Q.state==="unblocked"&&B.state==="blocked"||Q.state==="blocked"&&B.state==="blocked"||Q.state==="blocked"&&B.state==="proceeding"||Q.state==="blocked"&&B.state==="unblocked"||Q.state==="proceeding"&&B.state==="unblocked",`Invalid blocker state transition: ${Q.state} -> ${B.state}`);let ee=new Map(k.blockers);ee.set(V,B),Qe({blockers:ee})}function en({currentLocation:V,nextLocation:B,historyAction:Q}){if(he.size===0)return;he.size>1&&pn(!1,"A router only supports one blocker at a time");let ee=Array.from(he.entries()),[ce,Ce]=ee[ee.length-1],Re=k.blockers.get(ce);if(!(Re&&Re.state==="proceeding")&&Ce({currentLocation:V,nextLocation:B,historyAction:Q}))return ce}function ai(V){let B=fr(404,{pathname:V}),Q=f||u,{matches:ee,route:ce}=A_(Q);return{notFoundMatches:ee,route:ce,error:B}}function Vs(V,B,Q){if(A=V,M=B,C=Q||null,!K&&k.navigation===em){K=!0;let ee=yr(k.location,k.matches);ee!=null&&Qe({restoreScrollPosition:ee})}return()=>{A=null,M=null,C=null}}function La(V,B){return C&&C(V,B.map(ee=>jb(ee,k.loaderData)))||V.key}function $n(V,B){if(A&&M){let Q=La(V,B);A[Q]=M()}}function yr(V,B){if(A){let Q=La(V,B),ee=A[Q];if(typeof ee=="number")return ee}return null}function vn(V,B,Q){if(i.patchRoutesOnNavigation)if(V){if(Object.keys(V[0].params).length>0)return{active:!0,matches:Qc(B,Q,m,!0)}}else return{active:!0,matches:Qc(B,Q,m,!0)||[]};return{active:!1,matches:null}}async function un(V,B,Q,ee){if(!i.patchRoutesOnNavigation)return{type:"success",matches:V};let ce=V;for(;;){let Ce=f==null,Re=f||u,we=o;try{await i.patchRoutesOnNavigation({signal:Q,path:B,matches:ce,fetcherKey:ee,patch:(ye,ve)=>{Q.aborted||v_(ye,ve,Re,we,a)}})}catch(ye){return{type:"error",error:ye,partialMatches:ce}}finally{Ce&&!Q.aborted&&(u=[...u])}if(Q.aborted)return{type:"aborted"};let be=pa(Re,B,m);if(be)return{type:"success",matches:be};let fe=Qc(Re,B,m,!0);if(!fe||ce.length===fe.length&&ce.every((ye,ve)=>ye.route.id===fe[ve].route.id))return{type:"success",matches:null};ce=fe}}function Vr(V){o={},f=ah(V,a,void 0,o)}function qi(V,B){let Q=f==null;v_(V,B,f||u,o,a),Q&&(u=[...u],Qe({}))}return ge={get basename(){return m},get future(){return p},get state(){return k},get routes(){return u},get window(){return e},initialize:ze,subscribe:et,enableScrollRestoration:Vs,navigate:Wt,fetch:zi,revalidate:gr,createHref:V=>i.history.createHref(V),encodeLocation:V=>i.history.encodeLocation(V),getFetcher:xt,deleteFetcher:Os,dispose:Dt,getBlocker:Jt,deleteBlocker:Hi,patchRoutes:qi,_internalFetchControllers:qe,_internalSetRoutes:Vr},ge}function dA(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function mm(i,e,n,a,o,u){let f,m;if(o){f=[];for(let p of e)if(f.push(p),p.route.id===o){m=p;break}}else f=e,m=e[e.length-1];let g=Fm(a||".",qm(f),mr(i.pathname,n)||i.pathname,u==="path");if(a==null&&(g.search=i.search,g.hash=i.hash),(a==null||a===""||a===".")&&m){let p=Qm(g.search);if(m.route.index&&!p)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&p){let E=new URLSearchParams(g.search),w=E.getAll("index");E.delete("index"),w.filter(C=>C).forEach(C=>E.append("index",C));let A=E.toString();g.search=A?`?${A}`:""}}return n!=="/"&&(g.pathname=g.pathname==="/"?n:Yr([n,g.pathname])),Ra(g)}function m_(i,e,n){if(!n||!dA(n))return{path:e};if(n.formMethod&&!RA(n.formMethod))return{path:e,error:fr(405,{method:n.formMethod})};let a=()=>({path:e,error:fr(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),f=gE(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Sr(u))return a();let w=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((A,[C,M])=>`${A}${C}=${M}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:void 0,text:w}}}else if(n.formEncType==="application/json"){if(!Sr(u))return a();try{let w=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:w,text:void 0}}}catch{return a()}}}Je(typeof FormData=="function","FormData is not available in this environment");let m,g;if(n.formData)m=pm(n.formData),g=n.formData;else if(n.body instanceof FormData)m=pm(n.body),g=n.body;else if(n.body instanceof URLSearchParams)m=n.body,g=T_(m);else if(n.body==null)m=new URLSearchParams,g=new FormData;else try{m=new URLSearchParams(n.body),g=T_(m)}catch{return a()}let p={formMethod:u,formAction:f,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(Sr(p.formMethod))return{path:e,submission:p};let E=Va(e);return i&&E.search&&Qm(E.search)&&m.append("index",""),E.search=`?${m}`,{path:Ra(E),submission:p}}function g_(i,e,n=!1){let a=i.findIndex(o=>o.route.id===e);return a>=0?i.slice(0,n?a+1:a):i}function p_(i,e,n,a,o,u,f,m,g,p,E,w,A,C){let M=C?Gn(C[1])?C[1].error:C[1].data:void 0,K=i.createURL(e.location),z=i.createURL(o),X=n;u&&e.errors?X=g_(n,Object.keys(e.errors)[0],!0):C&&Gn(C[1])&&(X=g_(n,C[0]));let J=C?C[1].statusCode:void 0,ae=J&&J>=400,ge=X.filter((oe,O)=>{let{route:R}=oe;if(R.lazy)return!0;if(R.loader==null)return!1;if(u)return gm(R,e.loaderData,e.errors);if(mA(e.loaderData,e.matches[O],oe))return!0;let b=e.matches[O],D=oe;return y_(oe,{currentUrl:K,currentParams:b.params,nextUrl:z,nextParams:D.params,...a,actionResult:M,actionStatus:J,defaultShouldRevalidate:ae?!1:f||K.pathname+K.search===z.pathname+z.search||K.search!==z.search||gA(b,D)})}),k=[];return p.forEach((oe,O)=>{if(u||!n.some(j=>j.route.id===oe.routeId)||g.has(O))return;let R=pa(w,oe.path,A);if(!R){k.push({key:O,routeId:oe.routeId,path:oe.path,matches:null,match:null,controller:null});return}let b=e.fetchers.get(O),D=Fl(R,oe.path),L=!1;E.has(O)?L=!1:m.has(O)?(m.delete(O),L=!0):b&&b.state!=="idle"&&b.data===void 0?L=f:L=y_(D,{currentUrl:K,currentParams:e.matches[e.matches.length-1].params,nextUrl:z,nextParams:n[n.length-1].params,...a,actionResult:M,actionStatus:J,defaultShouldRevalidate:ae?!1:f}),L&&k.push({key:O,routeId:oe.routeId,path:oe.path,matches:R,match:D,controller:new AbortController})}),[ge,k]}function gm(i,e,n){if(i.lazy)return!0;if(!i.loader)return!1;let a=e!=null&&e[i.id]!==void 0,o=n!=null&&n[i.id]!==void 0;return!a&&o?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!a&&!o}function mA(i,e,n){let a=!e||n.route.id!==e.route.id,o=!i.hasOwnProperty(n.route.id);return a||o}function gA(i,e){let n=i.route.path;return i.pathname!==e.pathname||n!=null&&n.endsWith("*")&&i.params["*"]!==e.params["*"]}function y_(i,e){if(i.route.shouldRevalidate){let n=i.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function v_(i,e,n,a,o){let u;if(i){let g=a[i];Je(g,`No route found to patch children into: routeId = ${i}`),g.children||(g.children=[]),u=g.children}else u=n;let f=e.filter(g=>!u.some(p=>dE(g,p))),m=ah(f,o,[i||"_","patch",String((u==null?void 0:u.length)||"0")],a);u.push(...m)}function dE(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((n,a)=>{var o;return(o=e.children)==null?void 0:o.some(u=>dE(n,u))}):!1}async function pA(i,e,n){if(!i.lazy)return;let a=await i.lazy();if(!i.lazy)return;let o=n[i.id];Je(o,"No route found in manifest");let u={};for(let f in a){let g=o[f]!==void 0&&f!=="hasErrorBoundary";pn(!g,`Route "${o.id}" has a static property "${f}" defined but its lazy function is also returning a value for this property. The lazy route property "${f}" will be ignored.`),!g&&!zb.has(f)&&(u[f]=a[f])}Object.assign(o,u),Object.assign(o,{...e(o),lazy:void 0})}async function __(i){let e=i.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{n[e[u].route.id]=o}),n}async function yA(i){return i.matches.some(e=>e.route.unstable_middleware)?vA(i,!1,()=>__(i),(e,n)=>({[n]:{type:"error",result:e}})):__(i)}async function vA(i,e,n,a){let{matches:o,request:u,params:f,context:m}=i,g={handlerResult:void 0};try{let p=o.flatMap(w=>w.route.unstable_middleware?w.route.unstable_middleware.map(A=>[w.route.id,A]):[]),E=await mE({request:u,params:f,context:m},p,e,g,n);return e?E:g.handlerResult}catch(p){if(!g.middlewareError)throw p;let E=await a(g.middlewareError.error,g.middlewareError.routeId);return g.handlerResult?Object.assign(g.handlerResult,E):E}}async function mE(i,e,n,a,o,u=0){let{request:f}=i;if(f.signal.aborted)throw f.signal.reason?f.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${f.method} ${f.url}`);let m=e[u];if(!m)return a.handlerResult=await o(),a.handlerResult;let[g,p]=m,E=!1,w,A=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");E=!0,await mE(i,e,n,a,o,u+1)};try{let C=await p({request:i.request,params:i.params,context:i.context},A);return E?C===void 0?w:C:A()}catch(C){throw a.middlewareError?a.middlewareError.error!==C&&(a.middlewareError={routeId:g,error:C}):a.middlewareError={routeId:g,error:C},C}}async function _A(i,e,n,a,o,u,f,m,g,p){let E=o.map(C=>C.route.lazy?pA(C.route,m,f):void 0);p&&await Promise.all(E);let w=o.map((C,M)=>{let K=E[M],z=a.some(J=>J.route.id===C.route.id);return{...C,shouldLoad:z,resolve:async J=>(J&&n.method==="GET"&&(C.route.lazy||C.route.loader)&&(z=!0),z?EA(e,n,C,K,J,g):Promise.resolve({type:"data",result:void 0}))}}),A=await i({matches:w,request:n,params:o[0].params,fetcherKey:u,context:g});try{await Promise.all(E)}catch{}return A}async function EA(i,e,n,a,o,u){let f,m,g=p=>{let E,w=new Promise((M,K)=>E=K);m=()=>E(),e.signal.addEventListener("abort",m);let A=M=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${i}" [routeId: ${n.route.id}]`)):p({request:e,params:n.params,context:u},...M!==void 0?[M]:[]),C=(async()=>{try{return{type:"data",result:await(o?o(K=>A(K)):A())}}catch(M){return{type:"error",result:M}}})();return Promise.race([C,w])};try{let p=n.route[i];if(a)if(p){let E,[w]=await Promise.all([g(p).catch(A=>{E=A}),a]);if(E!==void 0)throw E;f=w}else if(await a,p=n.route[i],p)f=await g(p);else if(i==="action"){let E=new URL(e.url),w=E.pathname+E.search;throw fr(405,{method:e.method,pathname:w,routeId:n.route.id})}else return{type:"data",result:void 0};else if(p)f=await g(p);else{let E=new URL(e.url),w=E.pathname+E.search;throw fr(404,{pathname:w})}}catch(p){return{type:"error",result:p}}finally{m&&e.signal.removeEventListener("abort",m)}return f}async function TA(i){var a,o,u,f,m,g;let{result:e,type:n}=i;if(pE(e)){let p;try{let E=e.headers.get("Content-Type");E&&/\bapplication\/json\b/.test(E)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(E){return{type:"error",error:E}}return n==="error"?{type:"error",error:new oh(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return n==="error"?R_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new oh(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:tu(e)?e.status:void 0,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:tu(e)?e.status:void 0}:R_(e)?{type:"data",data:e.data,statusCode:(m=e.init)==null?void 0:m.status,headers:(g=e.init)!=null&&g.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function wA(i,e,n,a,o){let u=i.headers.get("Location");if(Je(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Gm.test(u)){let f=a.slice(0,a.findIndex(m=>m.route.id===n)+1);u=mm(new URL(e.url),f,o,u),i.headers.set("Location",u)}return i}function E_(i,e,n){if(Gm.test(i)){let a=i,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=mr(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return i}function vo(i,e,n,a){let o=i.createURL(gE(e)).toString(),u={signal:n};if(a&&Sr(a.formMethod)){let{formMethod:f,formEncType:m}=a;u.method=f.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(a.json)):m==="text/plain"?u.body=a.text:m==="application/x-www-form-urlencoded"&&a.formData?u.body=pm(a.formData):u.body=a.formData}return new Request(o,u)}function pm(i){let e=new URLSearchParams;for(let[n,a]of i.entries())e.append(n,typeof a=="string"?a:a.name);return e}function T_(i){let e=new FormData;for(let[n,a]of i.entries())e.append(n,a);return e}function SA(i,e,n,a=!1,o=!1){let u={},f=null,m,g=!1,p={},E=n&&Gn(n[1])?n[1].error:void 0;return i.forEach(w=>{if(!(w.route.id in e))return;let A=w.route.id,C=e[A];if(Je(!ds(C),"Cannot handle redirect results in processLoaderData"),Gn(C)){let M=C.error;if(E!==void 0&&(M=E,E=void 0),f=f||{},o)f[A]=M;else{let K=fs(i,A);f[K.route.id]==null&&(f[K.route.id]=M)}a||(u[A]=fE),g||(g=!0,m=tu(C.error)?C.error.status:500),C.headers&&(p[A]=C.headers)}else u[A]=C.data,C.statusCode&&C.statusCode!==200&&!g&&(m=C.statusCode),C.headers&&(p[A]=C.headers)}),E!==void 0&&n&&(f={[n[0]]:E},u[n[0]]=void 0),{loaderData:u,errors:f,statusCode:m||200,loaderHeaders:p}}function w_(i,e,n,a,o,u){let{loaderData:f,errors:m}=SA(e,n,a);return o.forEach(g=>{let{key:p,match:E,controller:w}=g,A=u[p];if(Je(A,"Did not find corresponding fetcher result"),!(w&&w.signal.aborted))if(Gn(A)){let C=fs(i.matches,E==null?void 0:E.route.id);m&&m[C.route.id]||(m={...m,[C.route.id]:A.error}),i.fetchers.delete(p)}else if(ds(A))Je(!1,"Unhandled fetcher revalidation redirect");else{let C=ga(A.data);i.fetchers.set(p,C)}}),{loaderData:f,errors:m}}function S_(i,e,n,a){let o=Object.entries(e).filter(([,u])=>u!==fE).reduce((u,[f,m])=>(u[f]=m,u),{});for(let u of n){let f=u.route.id;if(!e.hasOwnProperty(f)&&i.hasOwnProperty(f)&&u.route.loader&&(o[f]=i[f]),a&&a.hasOwnProperty(f))break}return o}function b_(i){return i?Gn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function fs(i,e){return(e?i.slice(0,i.findIndex(a=>a.route.id===e)+1):[...i]).reverse().find(a=>a.route.hasErrorBoundary===!0)||i[0]}function A_(i){let e=i.length===1?i[0]:i.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function fr(i,{pathname:e,routeId:n,method:a,type:o,message:u}={}){let f="Unknown Server Error",m="Unknown @remix-run/router error";return i===400?(f="Bad Request",a&&e&&n?m=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):i===403?(f="Forbidden",m=`Route "${n}" does not match URL "${e}"`):i===404?(f="Not Found",m=`No route matches URL "${e}"`):i===405&&(f="Method Not Allowed",a&&e&&n?m=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(m=`Invalid request method "${a.toUpperCase()}"`)),new oh(i||500,f,new Error(m),!0)}function Uc(i){let e=Object.entries(i);for(let n=e.length-1;n>=0;n--){let[a,o]=e[n];if(ds(o))return{key:a,result:o}}}function gE(i){let e=typeof i=="string"?Va(i):i;return Ra({...e,hash:""})}function bA(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function AA(i){return pE(i.result)&&lA.has(i.result.status)}function Gn(i){return i.type==="error"}function ds(i){return(i&&i.type)==="redirect"}function R_(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function pE(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function RA(i){return oA.has(i.toUpperCase())}function Sr(i){return aA.has(i.toUpperCase())}function Qm(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function Fl(i,e){let n=typeof e=="string"?Va(e).search:e.search;if(i[i.length-1].route.index&&Qm(n||""))return i[i.length-1];let a=uE(i);return a[a.length-1]}function C_(i){let{formMethod:e,formAction:n,formEncType:a,text:o,formData:u,json:f}=i;if(!(!e||!n||!a)){if(o!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:a,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:f,text:void 0}}}function tm(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function CA(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function jl(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function IA(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function ga(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function DA(i,e){try{let n=i.sessionStorage.getItem(hE);if(n){let a=JSON.parse(n);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function NA(i,e){if(e.size>0){let n={};for(let[a,o]of e)n[a]=[...o];try{i.sessionStorage.setItem(hE,JSON.stringify(n))}catch(a){pn(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function OA(){let i,e,n=new Promise((a,o)=>{i=async u=>{a(u);try{await n}catch{}},e=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:i,reject:e}}var bs=$.createContext(null);bs.displayName="DataRouter";var cu=$.createContext(null);cu.displayName="DataRouterState";var Km=$.createContext({isTransitioning:!1});Km.displayName="ViewTransition";var yE=$.createContext(new Map);yE.displayName="Fetchers";var MA=$.createContext(null);MA.displayName="Await";var ni=$.createContext(null);ni.displayName="Navigation";var Dh=$.createContext(null);Dh.displayName="Location";var ki=$.createContext({outlet:null,matches:[],isDataRoute:!1});ki.displayName="Route";var $m=$.createContext(null);$m.displayName="RouteError";function VA(i,{relative:e}={}){Je(hu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=$.useContext(ni),{hash:o,pathname:u,search:f}=du(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Yr([n,u])),a.createHref({pathname:m,search:f,hash:o})}function hu(){return $.useContext(Dh)!=null}function As(){return Je(hu(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Dh).location}var vE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _E(i){$.useContext(ni).static||$.useLayoutEffect(i)}function fu(){let{isDataRoute:i}=$.useContext(ki);return i?QA():xA()}function xA(){Je(hu(),"useNavigate() may be used only in the context of a <Router> component.");let i=$.useContext(bs),{basename:e,navigator:n}=$.useContext(ni),{matches:a}=$.useContext(ki),{pathname:o}=As(),u=JSON.stringify(qm(a)),f=$.useRef(!1);return _E(()=>{f.current=!0}),$.useCallback((g,p={})=>{if(pn(f.current,vE),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=Fm(g,JSON.parse(u),o,p.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Yr([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,u,o,i])}$.createContext(null);function du(i,{relative:e}={}){let{matches:n}=$.useContext(ki),{pathname:a}=As(),o=JSON.stringify(qm(n));return $.useMemo(()=>Fm(i,JSON.parse(o),a,e==="path"),[i,o,a,e])}function LA(i,e,n,a){Je(hu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=$.useContext(ni),{matches:f}=$.useContext(ki),m=f[f.length-1],g=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",w=m&&m.route;{let J=w&&w.path||"";EE(p,!w||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let A=As(),C;C=A;let M=C.pathname||"/",K=M;if(E!=="/"){let J=E.replace(/^\//,"").split("/");K="/"+M.replace(/^\//,"").split("/").slice(J.length).join("/")}let z=!u&&n&&n.matches&&n.matches.length>0?n.matches:pa(i,{pathname:K});return pn(w||z!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),pn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),BA(z&&z.map(J=>Object.assign({},J,{params:Object.assign({},g,J.params),pathname:Yr([E,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?E:Yr([E,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),f,n,a)}function PA(){let i=GA(),e=tu(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:u},"ErrorBoundary")," or"," ",$.createElement("code",{style:u},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:o},n):null,f)}var kA=$.createElement(PA,null),UA=class extends $.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?$.createElement(ki.Provider,{value:this.props.routeContext},$.createElement($m.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zA({routeContext:i,match:e,children:n}){let a=$.useContext(bs);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(ki.Provider,{value:i},n)}function BA(i,e=[],n=null,a=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);Je(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let p=o[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:E,errors:w}=n,A=p.route.loader&&!E.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||A){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,p,E)=>{let w,A=!1,C=null,M=null;n&&(w=u&&p.route.id?u[p.route.id]:void 0,C=p.route.errorElement||kA,f&&(m<0&&E===0?(EE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,M=null):m===E&&(A=!0,M=p.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,E+1)),z=()=>{let X;return w?X=C:A?X=M:p.route.Component?X=$.createElement(p.route.Component,null):p.route.element?X=p.route.element:X=g,$.createElement(zA,{match:p,routeContext:{outlet:g,matches:K,isDataRoute:n!=null},children:X})};return n&&(p.route.ErrorBoundary||p.route.errorElement||E===0)?$.createElement(UA,{location:n.location,revalidation:n.revalidation,component:C,error:w,children:z(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):z()},null)}function Ym(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jA(i){let e=$.useContext(bs);return Je(e,Ym(i)),e}function HA(i){let e=$.useContext(cu);return Je(e,Ym(i)),e}function qA(i){let e=$.useContext(ki);return Je(e,Ym(i)),e}function Xm(i){let e=qA(i),n=e.matches[e.matches.length-1];return Je(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function FA(){return Xm("useRouteId")}function GA(){var a;let i=$.useContext($m),e=HA("useRouteError"),n=Xm("useRouteError");return i!==void 0?i:(a=e.errors)==null?void 0:a[n]}function QA(){let{router:i}=jA("useNavigate"),e=Xm("useNavigate"),n=$.useRef(!1);return _E(()=>{n.current=!0}),$.useCallback(async(o,u={})=>{pn(n.current,vE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var I_={};function EE(i,e,n){!e&&!I_[i]&&(I_[i]=!0,pn(!1,n))}var D_={};function N_(i,e){!i&&!D_[e]&&(D_[e]=!0,console.warn(e))}function KA(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&pn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:$.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&pn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:$.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&pn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:$.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var $A=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function YA({router:i,flushSync:e}){let[n,a]=$.useState(i.state),[o,u]=$.useState(),[f,m]=$.useState({isTransitioning:!1}),[g,p]=$.useState(),[E,w]=$.useState(),[A,C]=$.useState(),M=$.useRef(new Map),K=$.useCallback((ae,{deletedFetchers:ge,flushSync:k,viewTransitionOpts:oe})=>{ae.fetchers.forEach((R,b)=>{R.data!==void 0&&M.current.set(b,R.data)}),ge.forEach(R=>M.current.delete(R)),N_(k===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let O=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(N_(oe==null||O,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!oe||!O){e&&k?e(()=>a(ae)):$.startTransition(()=>a(ae));return}if(e&&k){e(()=>{E&&(g&&g.resolve(),E.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation})});let R=i.window.document.startViewTransition(()=>{e(()=>a(ae))});R.finished.finally(()=>{e(()=>{p(void 0),w(void 0),u(void 0),m({isTransitioning:!1})})}),e(()=>w(R));return}E?(g&&g.resolve(),E.skipTransition(),C({state:ae,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation})):(u(ae),m({isTransitioning:!0,flushSync:!1,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation}))},[i.window,e,E,g]);$.useLayoutEffect(()=>i.subscribe(K),[i,K]),$.useEffect(()=>{f.isTransitioning&&!f.flushSync&&p(new $A)},[f]),$.useEffect(()=>{if(g&&o&&i.window){let ae=o,ge=g.promise,k=i.window.document.startViewTransition(async()=>{$.startTransition(()=>a(ae)),await ge});k.finished.finally(()=>{p(void 0),w(void 0),u(void 0),m({isTransitioning:!1})}),w(k)}},[o,g,i.window]),$.useEffect(()=>{g&&o&&n.location.key===o.location.key&&g.resolve()},[g,E,n.location,o]),$.useEffect(()=>{!f.isTransitioning&&A&&(u(A.state),m({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}),C(void 0))},[f.isTransitioning,A]);let z=$.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:ae=>i.navigate(ae),push:(ae,ge,k)=>i.navigate(ae,{state:ge,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(ae,ge,k)=>i.navigate(ae,{replace:!0,state:ge,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[i]),X=i.basename||"/",J=$.useMemo(()=>({router:i,navigator:z,static:!1,basename:X}),[i,z,X]);return $.createElement($.Fragment,null,$.createElement(bs.Provider,{value:J},$.createElement(cu.Provider,{value:n},$.createElement(yE.Provider,{value:M.current},$.createElement(Km.Provider,{value:f},$.createElement(ZA,{basename:X,location:n.location,navigationType:n.historyAction,navigator:z},$.createElement(XA,{routes:i.routes,future:i.future,state:n})))))),null)}var XA=$.memo(WA);function WA({routes:i,future:e,state:n}){return LA(i,void 0,n,e)}function ZA({basename:i="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){Je(!hu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=$.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Va(n));let{pathname:g="/",search:p="",hash:E="",state:w=null,key:A="default"}=n,C=$.useMemo(()=>{let M=mr(g,f);return M==null?null:{location:{pathname:M,search:p,hash:E,state:w,key:A},navigationType:a}},[f,g,p,E,w,A,a]);return pn(C!=null,`<Router basename="${f}"> is not able to match the URL "${g}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:$.createElement(ni.Provider,{value:m},$.createElement(Dh.Provider,{children:e,value:C}))}var Kc="get",$c="application/x-www-form-urlencoded";function Nh(i){return i!=null&&typeof i.tagName=="string"}function JA(i){return Nh(i)&&i.tagName.toLowerCase()==="button"}function eR(i){return Nh(i)&&i.tagName.toLowerCase()==="form"}function tR(i){return Nh(i)&&i.tagName.toLowerCase()==="input"}function nR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function rR(i,e){return i.button===0&&(!e||e==="_self")&&!nR(i)}var zc=null;function iR(){if(zc===null)try{new FormData(document.createElement("form"),0),zc=!1}catch{zc=!0}return zc}var aR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nm(i){return i!=null&&!aR.has(i)?(pn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$c}"`),null):i}function sR(i,e){let n,a,o,u,f;if(eR(i)){let m=i.getAttribute("action");a=m?mr(m,e):null,n=i.getAttribute("method")||Kc,o=nm(i.getAttribute("enctype"))||$c,u=new FormData(i)}else if(JA(i)||tR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(a=g?mr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Kc,o=nm(i.getAttribute("formenctype"))||nm(m.getAttribute("enctype"))||$c,u=new FormData(m,i),!iR()){let{name:p,type:E,value:w}=i;if(E==="image"){let A=p?`${p}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else p&&u.append(p,w)}}else{if(Nh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kc,a=null,o=$c,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Wm(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function oR(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function uR(i,e,n){let a=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await oR(u,n);return f.links?f.links():[]}return[]}));return dR(a.flat(1).filter(lR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function O_(i,e,n,a,o,u){let f=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>{var E;return n[p].pathname!==g.pathname||((E=n[p].route.path)==null?void 0:E.endsWith("*"))&&n[p].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,p)=>f(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{var w;let E=a.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function cR(i,e,{includeHydrateFallback:n}={}){return hR(i.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function hR(i){return[...new Set(i)]}function fR(i){let e={},n=Object.keys(i).sort();for(let a of n)e[a]=i[a];return e}function dR(i,e){let n=new Set;return new Set(e),i.reduce((a,o)=>{let u=JSON.stringify(fR(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function mR(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&mr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function TE(){let i=$.useContext(bs);return Wm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function gR(){let i=$.useContext(cu);return Wm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Zm=$.createContext(void 0);Zm.displayName="FrameworkContext";function wE(){let i=$.useContext(Zm);return Wm(i,"You must render this element inside a <HydratedRouter> element"),i}function pR(i,e){let n=$.useContext(Zm),[a,o]=$.useState(!1),[u,f]=$.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:w}=e,A=$.useRef(null);$.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let K=X=>{X.forEach(J=>{f(J.isIntersecting)})},z=new IntersectionObserver(K,{threshold:.5});return A.current&&z.observe(A.current),()=>{z.disconnect()}}},[i]),$.useEffect(()=>{if(a){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[a]);let C=()=>{o(!0)},M=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Hl(m,C),onBlur:Hl(g,M),onMouseEnter:Hl(p,C),onMouseLeave:Hl(E,M),onTouchStart:Hl(w,C)}]:[!1,A,{}]}function Hl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function yR({page:i,...e}){let{router:n}=TE(),a=$.useMemo(()=>pa(n.routes,i,n.basename),[n.routes,i,n.basename]);return a?$.createElement(_R,{page:i,matches:a,...e}):null}function vR(i){let{manifest:e,routeModules:n}=wE(),[a,o]=$.useState([]);return $.useEffect(()=>{let u=!1;return uR(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),a}function _R({page:i,matches:e,...n}){let a=As(),{manifest:o,routeModules:u}=wE(),{basename:f}=TE(),{loaderData:m,matches:g}=gR(),p=$.useMemo(()=>O_(i,e,g,o,a,"data"),[i,e,g,o,a]),E=$.useMemo(()=>O_(i,e,g,o,a,"assets"),[i,e,g,o,a]),w=$.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let M=new Set,K=!1;if(e.forEach(X=>{var ae;let J=o.routes[X.route.id];!J||!J.hasLoader||(!p.some(ge=>ge.route.id===X.route.id)&&X.route.id in m&&((ae=u[X.route.id])!=null&&ae.shouldRevalidate)||J.hasClientLoader?K=!0:M.add(X.route.id))}),M.size===0)return[];let z=mR(i,f);return K&&M.size>0&&z.searchParams.set("_routes",e.filter(X=>M.has(X.route.id)).map(X=>X.route.id).join(",")),[z.pathname+z.search]},[f,m,a,o,p,e,i,u]),A=$.useMemo(()=>cR(E,o),[E,o]),C=vR(E);return $.createElement($.Fragment,null,w.map(M=>$.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),A.map(M=>$.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),C.map(({key:M,link:K})=>$.createElement("link",{key:M,...K})))}function ER(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var SE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{SE&&(window.__reactRouterVersion="7.4.0")}catch{}function TR(i,e){return fA({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:Pb({window:e==null?void 0:e.window}),hydrationData:wR(),routes:i,mapRouteProperties:KA,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function wR(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:SR(i.errors)}),i}function SR(i){if(!i)return null;let e=Object.entries(i),n={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")n[a]=new oh(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let f=new u(o.message);f.stack="",n[a]=f}catch{}}if(n[a]==null){let u=new Error(o.message);u.stack="",n[a]=u}}else n[a]=o;return n}var bE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AE=$.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:p,preventScrollReset:E,viewTransition:w,...A},C){let{basename:M}=$.useContext(ni),K=typeof p=="string"&&bE.test(p),z,X=!1;if(typeof p=="string"&&K&&(z=p,SE))try{let b=new URL(window.location.href),D=p.startsWith("//")?new URL(b.protocol+p):new URL(p),L=mr(D.pathname,M);D.origin===b.origin&&L!=null?p=L+D.search+D.hash:X=!0}catch{pn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=VA(p,{relative:o}),[ae,ge,k]=pR(a,A),oe=CR(p,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:w});function O(b){e&&e(b),b.defaultPrevented||oe(b)}let R=$.createElement("a",{...A,...k,href:z||J,onClick:X||u?e:O,ref:ER(C,ge),target:g,"data-discover":!K&&n==="render"?"true":void 0});return ae&&!K?$.createElement($.Fragment,null,R,$.createElement(yR,{page:J})):R});AE.displayName="Link";var bR=$.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...p},E){let w=du(f,{relative:p.relative}),A=As(),C=$.useContext(cu),{navigator:M,basename:K}=$.useContext(ni),z=C!=null&&MR(w)&&m===!0,X=M.encodeLocation?M.encodeLocation(w).pathname:w.pathname,J=A.pathname,ae=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(J=J.toLowerCase(),ae=ae?ae.toLowerCase():null,X=X.toLowerCase()),ae&&K&&(ae=mr(ae,K)||ae);const ge=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let k=J===X||!o&&J.startsWith(X)&&J.charAt(ge)==="/",oe=ae!=null&&(ae===X||!o&&ae.startsWith(X)&&ae.charAt(X.length)==="/"),O={isActive:k,isPending:oe,isTransitioning:z},R=k?e:void 0,b;typeof a=="function"?b=a(O):b=[a,k?"active":null,oe?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(O):u;return $.createElement(AE,{...p,"aria-current":R,className:b,ref:E,style:D,to:f,viewTransition:m},typeof g=="function"?g(O):g)});bR.displayName="NavLink";var AR=$.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:f=Kc,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:w,...A},C)=>{let M=NR(),K=OR(m,{relative:p}),z=f.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&bE.test(m),J=ae=>{if(g&&g(ae),ae.defaultPrevented)return;ae.preventDefault();let ge=ae.nativeEvent.submitter,k=(ge==null?void 0:ge.getAttribute("formmethod"))||f;M(ge||ae.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:w})};return $.createElement("form",{ref:C,method:z,action:K,onSubmit:a?g:J,...A,"data-discover":!X&&i==="render"?"true":void 0})});AR.displayName="Form";function RR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RE(i){let e=$.useContext(bs);return Je(e,RR(i)),e}function CR(i,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=fu(),g=As(),p=du(i,{relative:u});return $.useCallback(E=>{if(rR(E,e)){E.preventDefault();let w=n!==void 0?n:Ra(g)===Ra(p);m(i,{replace:w,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,p,n,a,e,i,o,u,f])}var IR=0,DR=()=>`__${String(++IR)}__`;function NR(){let{router:i}=RE("useSubmit"),{basename:e}=$.useContext(ni),n=FA();return $.useCallback(async(a,o={})=>{let{action:u,method:f,encType:m,formData:g,body:p}=sR(a,e);if(o.navigate===!1){let E=o.fetcherKey||DR();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function OR(i,{relative:e}={}){let{basename:n}=$.useContext(ni),a=$.useContext(ki);Je(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...du(i||".",{relative:e})},f=As();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Yr([n,u.pathname])),Ra(u)}function MR(i,e={}){let n=$.useContext(Km);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=RE("useViewTransitionState"),o=du(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=mr(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=mr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return sh(o.pathname,f)!=null||sh(o.pathname,u)!=null}new TextEncoder;var VR=aE();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xR(i){return $.createElement(YA,{flushSync:VR.flushSync,...i})}const LR=()=>{};var M_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=function(i){const e=[];let n=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},PR=function(i){const e=[];let n=0,a=0;for(;n<i.length;){const o=i[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],f=i[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},IE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,g=o+2<i.length,p=g?i[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|p>>6,C=p&63;g||(C=64,f||(A=64)),a.push(n[E],n[w],n[A],n[C])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(CE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):PR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const p=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||p==null||w==null)throw new kR;const A=u<<2|m>>4;if(a.push(A),p!==64){const C=m<<4&240|p>>2;if(a.push(C),w!==64){const M=p<<6&192|w;a.push(M)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class kR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UR=function(i){const e=CE(i);return IE.encodeByteArray(e,!0)},lh=function(i){return UR(i).replace(/\./g,"")},DE=function(i){try{return IE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=()=>zR().__FIREBASE_DEFAULTS__,jR=()=>{if(typeof process>"u"||typeof M_>"u")return;const i=M_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},HR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&DE(i[1]);return e&&JSON.parse(e)},Oh=()=>{try{return LR()||BR()||jR()||HR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},NE=i=>{var e,n;return(n=(e=Oh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},qR=i=>{const e=NE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},OE=()=>{var i;return(i=Oh())===null||i===void 0?void 0:i.config},ME=i=>{var e;return(e=Oh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[lh(JSON.stringify(n)),lh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function KR(){var i;const e=(i=Oh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $R(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function XR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WR(){const i=bn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function ZR(){return!KR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JR(){try{return typeof indexedDB=="object"}catch{return!1}}function e1(){return new Promise((i,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="FirebaseError";class Ui extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=t1,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?n1(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ui(o,m,a)}}function n1(i,e){return i.replace(r1,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const r1=/\{\$([^}]+)}/g;function i1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ys(i,e){if(i===e)return!0;const n=Object.keys(i),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=i[o],f=e[o];if(V_(u)&&V_(f)){if(!ys(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function V_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(i){const e=[];for(const[n,a]of Object.entries(i))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function a1(i,e){const n=new s1(i,e);return n.subscribe.bind(n)}class s1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");o1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=rm),o.error===void 0&&(o.error=rm),o.complete===void 0&&(o.complete=rm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function o1(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function rm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(i){return i&&i._delegate?i._delegate:i}class vs{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new FR;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(c1(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:u1(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function u1(i){return i===hs?void 0:i}function c1(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new l1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Xe||(Xe={}));const f1={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},d1=Xe.INFO,m1={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},g1=(i,e,...n)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=m1[e];if(o)console[o](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jm{constructor(e){this.name=e,this._logLevel=d1,this._logHandler=g1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?f1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const p1=(i,e)=>e.some(n=>i instanceof n);let x_,L_;function y1(){return x_||(x_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v1(){return L_||(L_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VE=new WeakMap,ym=new WeakMap,xE=new WeakMap,im=new WeakMap,eg=new WeakMap;function _1(i){const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Ta(i.result)),o()},f=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&VE.set(n,i)}).catch(()=>{}),eg.set(e,i),e}function E1(i){if(ym.has(i))return;const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});ym.set(i,e)}let vm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return ym.get(i);if(e==="objectStoreNames")return i.objectStoreNames||xE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ta(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function T1(i){vm=i(vm)}function w1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=i.call(am(this),e,...n);return xE.set(a,e.sort?e.sort():[e]),Ta(a)}:v1().includes(i)?function(...e){return i.apply(am(this),e),Ta(VE.get(this))}:function(...e){return Ta(i.apply(am(this),e))}}function S1(i){return typeof i=="function"?w1(i):(i instanceof IDBTransaction&&E1(i),p1(i,y1())?new Proxy(i,vm):i)}function Ta(i){if(i instanceof IDBRequest)return _1(i);if(im.has(i))return im.get(i);const e=S1(i);return e!==i&&(im.set(i,e),eg.set(e,i)),e}const am=i=>eg.get(i);function b1(i,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=Ta(f);return a&&f.addEventListener("upgradeneeded",g=>{a(Ta(f.result),g.oldVersion,g.newVersion,Ta(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const A1=["get","getKey","getAll","getAllKeys","count"],R1=["put","add","delete","clear"],sm=new Map;function P_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(sm.get(e))return sm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=R1.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||A1.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let p=g.store;return a&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return sm.set(e,u),u}T1(i=>({...i,get:(e,n,a)=>P_(e,n)||i.get(e,n,a),has:(e,n)=>!!P_(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(I1(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function I1(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _m="@firebase/app",k_="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new Jm("@firebase/app"),D1="@firebase/app-compat",N1="@firebase/analytics-compat",O1="@firebase/analytics",M1="@firebase/app-check-compat",V1="@firebase/app-check",x1="@firebase/auth",L1="@firebase/auth-compat",P1="@firebase/database",k1="@firebase/data-connect",U1="@firebase/database-compat",z1="@firebase/functions",B1="@firebase/functions-compat",j1="@firebase/installations",H1="@firebase/installations-compat",q1="@firebase/messaging",F1="@firebase/messaging-compat",G1="@firebase/performance",Q1="@firebase/performance-compat",K1="@firebase/remote-config",$1="@firebase/remote-config-compat",Y1="@firebase/storage",X1="@firebase/storage-compat",W1="@firebase/firestore",Z1="@firebase/vertexai",J1="@firebase/firestore-compat",eC="firebase",tC="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="[DEFAULT]",nC={[_m]:"fire-core",[D1]:"fire-core-compat",[O1]:"fire-analytics",[N1]:"fire-analytics-compat",[V1]:"fire-app-check",[M1]:"fire-app-check-compat",[x1]:"fire-auth",[L1]:"fire-auth-compat",[P1]:"fire-rtdb",[k1]:"fire-data-connect",[U1]:"fire-rtdb-compat",[z1]:"fire-fn",[B1]:"fire-fn-compat",[j1]:"fire-iid",[H1]:"fire-iid-compat",[q1]:"fire-fcm",[F1]:"fire-fcm-compat",[G1]:"fire-perf",[Q1]:"fire-perf-compat",[K1]:"fire-rc",[$1]:"fire-rc-compat",[Y1]:"fire-gcs",[X1]:"fire-gcs-compat",[W1]:"fire-fst",[J1]:"fire-fst-compat",[Z1]:"fire-vertex","fire-js":"fire-js",[eC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new Map,rC=new Map,Tm=new Map;function U_(i,e){try{i.container.addComponent(e)}catch(n){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Co(i){const e=i.name;if(Tm.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;Tm.set(e,i);for(const n of uh.values())U_(n,i);for(const n of rC.values())U_(n,i);return!0}function tg(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function br(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wa=new mu("app","Firebase",iC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=tC;function LE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Em,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw wa.create("bad-app-name",{appName:String(o)});if(n||(n=OE()),!n)throw wa.create("no-options");const u=uh.get(o);if(u){if(ys(n,u.options)&&ys(a,u.config))return u;throw wa.create("duplicate-app",{appName:o})}const f=new h1(o);for(const g of Tm.values())f.addComponent(g);const m=new aC(n,a,f);return uh.set(o,m),m}function PE(i=Em){const e=uh.get(i);if(!e&&i===Em&&OE())return LE();if(!e)throw wa.create("no-app",{appName:i});return e}function Sa(i,e,n){var a;let o=(a=nC[i])!==null&&a!==void 0?a:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(m.join(" "));return}Co(new vs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="firebase-heartbeat-database",oC=1,nu="firebase-heartbeat-store";let om=null;function kE(){return om||(om=b1(sC,oC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(nu)}catch(n){console.warn(n)}}}}).catch(i=>{throw wa.create("idb-open",{originalErrorMessage:i.message})})),om}async function lC(i){try{const n=(await kE()).transaction(nu),a=await n.objectStore(nu).get(UE(i));return await n.done,a}catch(e){if(e instanceof Ui)Vi.warn(e.message);else{const n=wa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(n.message)}}}async function z_(i,e){try{const a=(await kE()).transaction(nu,"readwrite");await a.objectStore(nu).put(e,UE(i)),await a.done}catch(n){if(n instanceof Ui)Vi.warn(n.message);else{const a=wa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vi.warn(a.message)}}}function UE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=1024,cC=30;class hC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dC(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=B_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>cC){const f=mC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Vi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=B_(),{heartbeatsToSend:a,unsentEntries:o}=fC(this._heartbeatsCache.heartbeats),u=lh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Vi.warn(n),""}}}function B_(){return new Date().toISOString().substring(0,10)}function fC(i,e=uC){const n=[];let a=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),j_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),j_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class dC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JR()?e1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return z_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return z_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function j_(i){return lh(JSON.stringify({version:2,heartbeats:i})).length}function mC(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(i){Co(new vs("platform-logger",e=>new C1(e),"PRIVATE")),Co(new vs("heartbeat",e=>new hC(e),"PRIVATE")),Sa(_m,k_,i),Sa(_m,k_,"esm2017"),Sa("fire-js","")}gC("");var pC="firebase",yC="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sa(pC,yC,"app");var H_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ba,zE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function b(){}b.prototype=R.prototype,O.D=R.prototype,O.prototype=new b,O.prototype.constructor=O,O.C=function(D,L,j){for(var N=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)N[bt-2]=arguments[bt];return R.prototype[L].apply(D,N)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,b){b||(b=0);var D=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)D[L]=R.charCodeAt(b++)|R.charCodeAt(b++)<<8|R.charCodeAt(b++)<<16|R.charCodeAt(b++)<<24;else for(L=0;16>L;++L)D[L]=R[b++]|R[b++]<<8|R[b++]<<16|R[b++]<<24;R=O.g[0],b=O.g[1],L=O.g[2];var j=O.g[3],N=R+(j^b&(L^j))+D[0]+3614090360&4294967295;R=b+(N<<7&4294967295|N>>>25),N=j+(L^R&(b^L))+D[1]+3905402710&4294967295,j=R+(N<<12&4294967295|N>>>20),N=L+(b^j&(R^b))+D[2]+606105819&4294967295,L=j+(N<<17&4294967295|N>>>15),N=b+(R^L&(j^R))+D[3]+3250441966&4294967295,b=L+(N<<22&4294967295|N>>>10),N=R+(j^b&(L^j))+D[4]+4118548399&4294967295,R=b+(N<<7&4294967295|N>>>25),N=j+(L^R&(b^L))+D[5]+1200080426&4294967295,j=R+(N<<12&4294967295|N>>>20),N=L+(b^j&(R^b))+D[6]+2821735955&4294967295,L=j+(N<<17&4294967295|N>>>15),N=b+(R^L&(j^R))+D[7]+4249261313&4294967295,b=L+(N<<22&4294967295|N>>>10),N=R+(j^b&(L^j))+D[8]+1770035416&4294967295,R=b+(N<<7&4294967295|N>>>25),N=j+(L^R&(b^L))+D[9]+2336552879&4294967295,j=R+(N<<12&4294967295|N>>>20),N=L+(b^j&(R^b))+D[10]+4294925233&4294967295,L=j+(N<<17&4294967295|N>>>15),N=b+(R^L&(j^R))+D[11]+2304563134&4294967295,b=L+(N<<22&4294967295|N>>>10),N=R+(j^b&(L^j))+D[12]+1804603682&4294967295,R=b+(N<<7&4294967295|N>>>25),N=j+(L^R&(b^L))+D[13]+4254626195&4294967295,j=R+(N<<12&4294967295|N>>>20),N=L+(b^j&(R^b))+D[14]+2792965006&4294967295,L=j+(N<<17&4294967295|N>>>15),N=b+(R^L&(j^R))+D[15]+1236535329&4294967295,b=L+(N<<22&4294967295|N>>>10),N=R+(L^j&(b^L))+D[1]+4129170786&4294967295,R=b+(N<<5&4294967295|N>>>27),N=j+(b^L&(R^b))+D[6]+3225465664&4294967295,j=R+(N<<9&4294967295|N>>>23),N=L+(R^b&(j^R))+D[11]+643717713&4294967295,L=j+(N<<14&4294967295|N>>>18),N=b+(j^R&(L^j))+D[0]+3921069994&4294967295,b=L+(N<<20&4294967295|N>>>12),N=R+(L^j&(b^L))+D[5]+3593408605&4294967295,R=b+(N<<5&4294967295|N>>>27),N=j+(b^L&(R^b))+D[10]+38016083&4294967295,j=R+(N<<9&4294967295|N>>>23),N=L+(R^b&(j^R))+D[15]+3634488961&4294967295,L=j+(N<<14&4294967295|N>>>18),N=b+(j^R&(L^j))+D[4]+3889429448&4294967295,b=L+(N<<20&4294967295|N>>>12),N=R+(L^j&(b^L))+D[9]+568446438&4294967295,R=b+(N<<5&4294967295|N>>>27),N=j+(b^L&(R^b))+D[14]+3275163606&4294967295,j=R+(N<<9&4294967295|N>>>23),N=L+(R^b&(j^R))+D[3]+4107603335&4294967295,L=j+(N<<14&4294967295|N>>>18),N=b+(j^R&(L^j))+D[8]+1163531501&4294967295,b=L+(N<<20&4294967295|N>>>12),N=R+(L^j&(b^L))+D[13]+2850285829&4294967295,R=b+(N<<5&4294967295|N>>>27),N=j+(b^L&(R^b))+D[2]+4243563512&4294967295,j=R+(N<<9&4294967295|N>>>23),N=L+(R^b&(j^R))+D[7]+1735328473&4294967295,L=j+(N<<14&4294967295|N>>>18),N=b+(j^R&(L^j))+D[12]+2368359562&4294967295,b=L+(N<<20&4294967295|N>>>12),N=R+(b^L^j)+D[5]+4294588738&4294967295,R=b+(N<<4&4294967295|N>>>28),N=j+(R^b^L)+D[8]+2272392833&4294967295,j=R+(N<<11&4294967295|N>>>21),N=L+(j^R^b)+D[11]+1839030562&4294967295,L=j+(N<<16&4294967295|N>>>16),N=b+(L^j^R)+D[14]+4259657740&4294967295,b=L+(N<<23&4294967295|N>>>9),N=R+(b^L^j)+D[1]+2763975236&4294967295,R=b+(N<<4&4294967295|N>>>28),N=j+(R^b^L)+D[4]+1272893353&4294967295,j=R+(N<<11&4294967295|N>>>21),N=L+(j^R^b)+D[7]+4139469664&4294967295,L=j+(N<<16&4294967295|N>>>16),N=b+(L^j^R)+D[10]+3200236656&4294967295,b=L+(N<<23&4294967295|N>>>9),N=R+(b^L^j)+D[13]+681279174&4294967295,R=b+(N<<4&4294967295|N>>>28),N=j+(R^b^L)+D[0]+3936430074&4294967295,j=R+(N<<11&4294967295|N>>>21),N=L+(j^R^b)+D[3]+3572445317&4294967295,L=j+(N<<16&4294967295|N>>>16),N=b+(L^j^R)+D[6]+76029189&4294967295,b=L+(N<<23&4294967295|N>>>9),N=R+(b^L^j)+D[9]+3654602809&4294967295,R=b+(N<<4&4294967295|N>>>28),N=j+(R^b^L)+D[12]+3873151461&4294967295,j=R+(N<<11&4294967295|N>>>21),N=L+(j^R^b)+D[15]+530742520&4294967295,L=j+(N<<16&4294967295|N>>>16),N=b+(L^j^R)+D[2]+3299628645&4294967295,b=L+(N<<23&4294967295|N>>>9),N=R+(L^(b|~j))+D[0]+4096336452&4294967295,R=b+(N<<6&4294967295|N>>>26),N=j+(b^(R|~L))+D[7]+1126891415&4294967295,j=R+(N<<10&4294967295|N>>>22),N=L+(R^(j|~b))+D[14]+2878612391&4294967295,L=j+(N<<15&4294967295|N>>>17),N=b+(j^(L|~R))+D[5]+4237533241&4294967295,b=L+(N<<21&4294967295|N>>>11),N=R+(L^(b|~j))+D[12]+1700485571&4294967295,R=b+(N<<6&4294967295|N>>>26),N=j+(b^(R|~L))+D[3]+2399980690&4294967295,j=R+(N<<10&4294967295|N>>>22),N=L+(R^(j|~b))+D[10]+4293915773&4294967295,L=j+(N<<15&4294967295|N>>>17),N=b+(j^(L|~R))+D[1]+2240044497&4294967295,b=L+(N<<21&4294967295|N>>>11),N=R+(L^(b|~j))+D[8]+1873313359&4294967295,R=b+(N<<6&4294967295|N>>>26),N=j+(b^(R|~L))+D[15]+4264355552&4294967295,j=R+(N<<10&4294967295|N>>>22),N=L+(R^(j|~b))+D[6]+2734768916&4294967295,L=j+(N<<15&4294967295|N>>>17),N=b+(j^(L|~R))+D[13]+1309151649&4294967295,b=L+(N<<21&4294967295|N>>>11),N=R+(L^(b|~j))+D[4]+4149444226&4294967295,R=b+(N<<6&4294967295|N>>>26),N=j+(b^(R|~L))+D[11]+3174756917&4294967295,j=R+(N<<10&4294967295|N>>>22),N=L+(R^(j|~b))+D[2]+718787259&4294967295,L=j+(N<<15&4294967295|N>>>17),N=b+(j^(L|~R))+D[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,O.g[2]=O.g[2]+L&4294967295,O.g[3]=O.g[3]+j&4294967295}a.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var b=R-this.blockSize,D=this.B,L=this.h,j=0;j<R;){if(L==0)for(;j<=b;)o(this,O,j),j+=this.blockSize;if(typeof O=="string"){for(;j<R;)if(D[L++]=O.charCodeAt(j++),L==this.blockSize){o(this,D),L=0;break}}else for(;j<R;)if(D[L++]=O[j++],L==this.blockSize){o(this,D),L=0;break}}this.h=L,this.o+=R},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var b=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=b&255,b/=256;for(this.u(O),O=Array(16),R=b=0;4>R;++R)for(var D=0;32>D;D+=8)O[b++]=this.g[R]>>>D&255;return O};function u(O,R){var b=m;return Object.prototype.hasOwnProperty.call(b,O)?b[O]:b[O]=R(O)}function f(O,R){this.h=R;for(var b=[],D=!0,L=O.length-1;0<=L;L--){var j=O[L]|0;D&&j==R||(b[L]=j,D=!1)}this.g=b}var m={};function g(O){return-128<=O&&128>O?u(O,function(R){return new f([R|0],0>R?-1:0)}):new f([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return w;if(0>O)return z(p(-O));for(var R=[],b=1,D=0;O>=b;D++)R[D]=O/b|0,b*=4294967296;return new f(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return z(E(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=p(Math.pow(R,8)),D=w,L=0;L<O.length;L+=8){var j=Math.min(8,O.length-L),N=parseInt(O.substring(L,L+j),R);8>j?(j=p(Math.pow(R,j)),D=D.j(j).add(p(N))):(D=D.j(b),D=D.add(p(N)))}return D}var w=g(0),A=g(1),C=g(16777216);i=f.prototype,i.m=function(){if(K(this))return-z(this).m();for(var O=0,R=1,b=0;b<this.g.length;b++){var D=this.i(b);O+=(0<=D?D:4294967296+D)*R,R*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(M(this))return"0";if(K(this))return"-"+z(this).toString(O);for(var R=p(Math.pow(O,6)),b=this,D="";;){var L=ge(b,R).g;b=X(b,L.j(R));var j=((0<b.g.length?b.g[0]:b.h)>>>0).toString(O);if(b=L,M(b))return j+D;for(;6>j.length;)j="0"+j;D=j+D}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function M(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function K(O){return O.h==-1}i.l=function(O){return O=X(this,O),K(O)?-1:M(O)?0:1};function z(O){for(var R=O.g.length,b=[],D=0;D<R;D++)b[D]=~O.g[D];return new f(b,~O.h).add(A)}i.abs=function(){return K(this)?z(this):this},i.add=function(O){for(var R=Math.max(this.g.length,O.g.length),b=[],D=0,L=0;L<=R;L++){var j=D+(this.i(L)&65535)+(O.i(L)&65535),N=(j>>>16)+(this.i(L)>>>16)+(O.i(L)>>>16);D=N>>>16,j&=65535,N&=65535,b[L]=N<<16|j}return new f(b,b[b.length-1]&-2147483648?-1:0)};function X(O,R){return O.add(z(R))}i.j=function(O){if(M(this)||M(O))return w;if(K(this))return K(O)?z(this).j(z(O)):z(z(this).j(O));if(K(O))return z(this.j(z(O)));if(0>this.l(C)&&0>O.l(C))return p(this.m()*O.m());for(var R=this.g.length+O.g.length,b=[],D=0;D<2*R;D++)b[D]=0;for(D=0;D<this.g.length;D++)for(var L=0;L<O.g.length;L++){var j=this.i(D)>>>16,N=this.i(D)&65535,bt=O.i(L)>>>16,qe=O.i(L)&65535;b[2*D+2*L]+=N*qe,J(b,2*D+2*L),b[2*D+2*L+1]+=j*qe,J(b,2*D+2*L+1),b[2*D+2*L+1]+=N*bt,J(b,2*D+2*L+1),b[2*D+2*L+2]+=j*bt,J(b,2*D+2*L+2)}for(D=0;D<R;D++)b[D]=b[2*D+1]<<16|b[2*D];for(D=R;D<2*R;D++)b[D]=0;return new f(b,0)};function J(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function ae(O,R){this.g=O,this.h=R}function ge(O,R){if(M(R))throw Error("division by zero");if(M(O))return new ae(w,w);if(K(O))return R=ge(z(O),R),new ae(z(R.g),z(R.h));if(K(R))return R=ge(O,z(R)),new ae(z(R.g),R.h);if(30<O.g.length){if(K(O)||K(R))throw Error("slowDivide_ only works with positive integers.");for(var b=A,D=R;0>=D.l(O);)b=k(b),D=k(D);var L=oe(b,1),j=oe(D,1);for(D=oe(D,2),b=oe(b,2);!M(D);){var N=j.add(D);0>=N.l(O)&&(L=L.add(b),j=N),D=oe(D,1),b=oe(b,1)}return R=X(O,L.j(R)),new ae(L,R)}for(L=w;0<=O.l(R);){for(b=Math.max(1,Math.floor(O.m()/R.m())),D=Math.ceil(Math.log(b)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),j=p(b),N=j.j(R);K(N)||0<N.l(O);)b-=D,j=p(b),N=j.j(R);M(j)&&(j=A),L=L.add(j),O=X(O,N)}return new ae(L,O)}i.A=function(O){return ge(this,O).h},i.and=function(O){for(var R=Math.max(this.g.length,O.g.length),b=[],D=0;D<R;D++)b[D]=this.i(D)&O.i(D);return new f(b,this.h&O.h)},i.or=function(O){for(var R=Math.max(this.g.length,O.g.length),b=[],D=0;D<R;D++)b[D]=this.i(D)|O.i(D);return new f(b,this.h|O.h)},i.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),b=[],D=0;D<R;D++)b[D]=this.i(D)^O.i(D);return new f(b,this.h^O.h)};function k(O){for(var R=O.g.length+1,b=[],D=0;D<R;D++)b[D]=O.i(D)<<1|O.i(D-1)>>>31;return new f(b,O.h)}function oe(O,R){var b=R>>5;R%=32;for(var D=O.g.length-b,L=[],j=0;j<D;j++)L[j]=0<R?O.i(j+b)>>>R|O.i(j+b+1)<<32-R:O.i(j+b);return new f(L,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,zE=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,ba=f}).apply(typeof H_<"u"?H_:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BE,Gl,jE,Yc,wm,HE,qE,FE;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var v=a;c=c.split(".");for(var S=0;S<c.length-1;S++){var q=c[S];if(!(q in v))break e;v=v[q]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,S=!1,q={next:function(){if(!S&&v<c.length){var Y=v++;return{value:y(Y,c[Y]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function w(c,y,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),c.apply(y,q)}}return function(){return c.apply(y,arguments)}}function A(c,y,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,A.apply(null,arguments)}function C(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function M(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,q,Y){for(var le=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)le[tt-2]=arguments[tt];return y.prototype[q].apply(S,le)}}function K(c){const y=c.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function z(c,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(g(S)){const q=c.length||0,Y=S.length||0;c.length=q+Y;for(let le=0;le<Y;le++)c[q+le]=S[le]}else c.push(S)}}class X{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function J(c){return/^[\s\xa0]*$/.test(c)}function ae(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ge(c){return ge[" "](c),c}ge[" "]=function(){};var k=ae().indexOf("Gecko")!=-1&&!(ae().toLowerCase().indexOf("webkit")!=-1&&ae().indexOf("Edge")==-1)&&!(ae().indexOf("Trident")!=-1||ae().indexOf("MSIE")!=-1)&&ae().indexOf("Edge")==-1;function oe(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function O(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let v,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(v in S)c[v]=S[v];for(let Y=0;Y<b.length;Y++)v=b[Y],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function L(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function j(c){m.setTimeout(()=>{throw c},0)}function N(){var c=je;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class bt{constructor(){this.h=this.g=null}add(y,v){const S=qe.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var qe=new X(()=>new ue,c=>c.reset());class ue{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let De,Te=!1,je=new bt,x=()=>{const c=m.Promise.resolve(void 0);De=()=>{c.then(se)}};var se=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){j(v)}var y=qe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}Te=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function Ve(c,y){if(he.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(k){e:{try{ge(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ze[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ve.aa.h.call(this)}}M(Ve,he);var ze={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),et=0;function Qe(c,y,v,S,q){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=q,this.key=++et,this.da=this.fa=!1}function Ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Wt(c){this.src=c,this.g={},this.h=0}Wt.prototype.add=function(c,y,v,S,q){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var le=Ut(c,y,S,q);return-1<le?(y=c[le],v||(y.fa=!1)):(y=new Qe(y,this.src,Y,!!S,q),y.fa=v,c.push(y)),y};function gr(c,y){var v=y.type;if(v in c.g){var S=c.g[v],q=Array.prototype.indexOf.call(S,y,void 0),Y;(Y=0<=q)&&Array.prototype.splice.call(S,q,1),Y&&(Ye(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ut(c,y,v,S){for(var q=0;q<c.length;++q){var Y=c[q];if(!Y.da&&Y.listener==y&&Y.capture==!!v&&Y.ha==S)return q}return-1}var Nr="closure_lm_"+(1e6*Math.random()|0),Or={};function Kn(c,y,v,S,q){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Kn(c,y[Y],v,S,q);return null}return v=kn(v),c&&c[Dt]?c.K(y,v,p(S)?!!S.capture:!1,q):xa(c,y,v,!1,S,q)}function xa(c,y,v,S,q,Y){if(!y)throw Error("Invalid event type");var le=p(q)?!!q.capture:!!q,tt=ji(c);if(tt||(c[Nr]=tt=new Wt(c)),v=tt.add(y,v,S,le,Y),v.proxy)return v;if(S=zi(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)de||(q=le),q===void 0&&(q=!1),c.addEventListener(y.toString(),S,q);else if(c.attachEvent)c.attachEvent(Mn(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function zi(){function c(v){return y.call(c.src,c.listener,v)}const y=ii;return c}function Bi(c,y,v,S,q){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Bi(c,y[Y],v,S,q);else S=p(S)?!!S.capture:!!S,v=kn(v),c&&c[Dt]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],v=Ut(Y,v,S,q),-1<v&&(Ye(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=ji(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ut(y,v,S,q)),(v=-1<c?y[c]:null)&&ri(v))}function ri(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Dt])gr(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(Mn(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=ji(y))?(gr(v,c),v.h==0&&(v.src=null,y[Nr]=null)):Ye(c)}}}function Mn(c){return c in Or?Or[c]:Or[c]="on"+c}function ii(c,y){if(c.da)c=!0;else{y=new Ve(y,this);var v=c.listener,S=c.ha||c.src;c.fa&&ri(c),c=v.call(S,y)}return c}function ji(c){return c=c[Nr],c instanceof Wt?c:null}var Zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function kn(c){return typeof c=="function"?c:(c[Zt]||(c[Zt]=function(y){return c.handleEvent(y)}),c[Zt])}function mt(){me.call(this),this.i=new Wt(this),this.M=this,this.F=null}M(mt,me),mt.prototype[Dt]=!0,mt.prototype.removeEventListener=function(c,y,v,S){Bi(this,c,y,v,S)};function xt(c,y){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new he(y,c);else if(y instanceof he)y.target=y.target||c;else{var q=y;y=new he(S,c),D(y,q)}if(q=!0,v)for(var Y=v.length-1;0<=Y;Y--){var le=y.g=v[Y];q=Un(le,S,!0,y)&&q}if(le=y.g=c,q=Un(le,S,!0,y)&&q,q=Un(le,S,!1,y)&&q,v)for(Y=0;Y<v.length;Y++)le=y.g=v[Y],q=Un(le,S,!1,y)&&q}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],S=0;S<v.length;S++)Ye(v[S]);delete c.g[y],c.h--}}this.F=null},mt.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},mt.prototype.L=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function Un(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,Y=0;Y<y.length;++Y){var le=y[Y];if(le&&!le.da&&le.capture==v){var tt=le.listener,Gt=le.ha||le.src;le.fa&&gr(c.i,le),q=tt.call(Gt,S)!==!1&&q}}return q&&!S.defaultPrevented}function Os(c,y,v){if(typeof c=="function")v&&(c=A(c,v));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Vn(c){c.g=Os(()=>{c.g=null,c.i&&(c.i=!1,Vn(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ms extends me{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Vn(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(c){me.call(this),this.h=c,this.g={}}M(Mr,me);var pr=[];function Jt(c){oe(c.g,function(y,v){this.g.hasOwnProperty(v)&&ri(y)},c),c.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),Jt(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hi=m.JSON.stringify,An=m.JSON.parse,en=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ai(){}ai.prototype.h=null;function Vs(c){return c.h||(c.h=c.i())}function La(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yr(){he.call(this,"d")}M(yr,he);function vn(){he.call(this,"c")}M(vn,he);var un={},Vr=null;function qi(){return Vr=Vr||new mt}un.La="serverreachability";function V(c){he.call(this,un.La,c)}M(V,he);function B(c){const y=qi();xt(y,new V(y))}un.STAT_EVENT="statevent";function Q(c,y){he.call(this,un.STAT_EVENT,c),this.stat=y}M(Q,he);function ee(c){const y=qi();xt(y,new Q(y,c))}un.Ma="timingevent";function ce(c,y){he.call(this,un.Ma,c),this.size=y}M(ce,he);function Ce(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Re(){this.g=!0}Re.prototype.xa=function(){this.g=!1};function we(c,y,v,S,q,Y){c.info(function(){if(c.g)if(Y)for(var le="",tt=Y.split("&"),Gt=0;Gt<tt.length;Gt++){var nt=tt[Gt].split("=");if(1<nt.length){var rn=nt[0];nt=nt[1];var Qt=rn.split("_");le=2<=Qt.length&&Qt[1]=="type"?le+(rn+"="+nt+"&"):le+(rn+"=redacted&")}}else le=null;else le=Y;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+y+`
`+v+`
`+le})}function be(c,y,v,S,q,Y,le){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+y+`
`+v+`
`+Y+" "+le})}function fe(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ve(c,v)+(S?" "+S:"")})}function ye(c,y){c.info(function(){return"TIMEOUT: "+y})}Re.prototype.info=function(){};function ve(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var Y=q[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var le=1;le<q.length;le++)q[le]=""}}}}return Hi(v)}catch{return y}}var Oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},st={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},At;function yt(){}M(yt,ai),yt.prototype.g=function(){return new XMLHttpRequest},yt.prototype.i=function(){return{}},At=new yt;function at(c,y,v,S){this.j=c,this.i=y,this.l=v,this.R=S||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wt}function wt(){this.i=null,this.g="",this.h=!1}var Rn={},zn={};function Lt(c,y,v){c.L=1,c.v=za(Nt(y)),c.m=v,c.P=!0,zt(c,null)}function zt(c,y){c.F=Date.now(),ct(c),c.A=Nt(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),ui(v.i,"t",S),c.C=0,v=c.j.J,c.h=new wt,c.g=ku(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Ms(A(c.Y,c,c.g),c.O)),y=c.U,v=c.g,S=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(pr[0]=q.toString()),q=pr);for(var Y=0;Y<q.length;Y++){var le=Kn(v,q[Y],S||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),B(),we(c.i,c.u,c.A,c.l,c.R,c.m)}at.prototype.ca=function(c){c=c.target;const y=this.M;y&&tr(c)==3?y.j():this.Y(c)},at.prototype.Y=function(c){try{if(c==this.g)e:{const Qt=tr(this.g);var y=this.g.Ba();const di=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||Du(this.g)))){this.J||Qt!=4||y==7||(y==8||0>=di?B(3):B(2)),vr(this);var v=this.g.Z();this.X=v;t:if(Yn(this)){var S=Du(this.g);c="";var q=S.length,Y=tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ht(this),He(this);var le="";break t}this.h.i=new m.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(Y&&y==q-1)});S.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=v==200,be(this.i,this.u,this.A,this.l,this.R,Qt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Gt=this.g;if((tt=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(tt)){var nt=tt;break t}}nt=null}if(v=nt)fe(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tn(this,v);else{this.o=!1,this.s=3,ee(12),ht(this),He(this);break e}}if(this.P){v=!0;let cn;for(;!this.J&&this.C<le.length;)if(cn=xn(this,le),cn==zn){Qt==4&&(this.s=4,ee(14),v=!1),fe(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==Rn){this.s=4,ee(15),fe(this.i,this.l,le,"[Invalid Chunk]"),v=!1;break}else fe(this.i,this.l,cn,null),tn(this,cn);if(Yn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||le.length!=0||this.h.h||(this.s=1,ee(16),v=!1),this.o=this.o&&v,!v)fe(this.i,this.l,le,"[Invalid Chunked Response]"),ht(this),He(this);else if(0<le.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Qa(rn),rn.M=!0,ee(11))}}else fe(this.i,this.l,le,null),tn(this,le);Qt==4&&ht(this),this.o&&!this.J&&(Qt==4?xu(this.j,this):(this.o=!1,ct(this)))}else ef(this.g),v==400&&0<le.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),ht(this),He(this)}}}catch{}finally{}};function Yn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function xn(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?zn:(v=Number(y.substring(v,S)),isNaN(v)?Rn:(S+=1,S+v>y.length?zn:(y=y.slice(S,S+v),c.C=S+v,y)))}at.prototype.cancel=function(){this.J=!0,ht(this)};function ct(c){c.S=Date.now()+c.I,xr(c,c.I)}function xr(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ce(A(c.ba,c),y)}function vr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}at.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ye(this.i,this.A),this.L!=2&&(B(),ee(17)),ht(this),this.s=2,He(this)):xr(this,this.S-c)};function He(c){c.j.G==0||c.J||xu(c.j,c)}function ht(c){vr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Jt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function tn(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Lr(v.h,c))){if(!c.K&&Lr(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)qs(v),js(v);else break e;Xo(v),ee(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ce(A(v.Za,v),6e3));if(1>=Pa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else fi(v,11)}else if((c.K||v.g==c)&&qs(v),!J(y))for(q=v.Da.g.parse(y),y=0;y<q.length;y++){let nt=q[y];if(v.T=nt[0],nt=nt[1],v.G==2)if(nt[0]=="c"){v.K=nt[1],v.ia=nt[2];const rn=nt[3];rn!=null&&(v.la=rn,v.j.info("VER="+v.la));const Qt=nt[4];Qt!=null&&(v.Aa=Qt,v.j.info("SVER="+v.Aa));const di=nt[5];di!=null&&typeof di=="number"&&0<di&&(S=1.5*di,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const cn=c.g;if(cn){const Hr=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hr){var Y=S.h;Y.g||Hr.indexOf("spdy")==-1&&Hr.indexOf("quic")==-1&&Hr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Fi(Y,Y.h),Y.h=null))}if(S.D){const Zo=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Zo&&(S.ya=Zo,ot(S.I,S.D,Zo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var le=c;if(S.qa=Pu(S,S.J?S.ia:null,S.W),le.K){Wn(S.h,le);var tt=le,Gt=S.L;Gt&&(tt.I=Gt),tt.B&&(vr(tt),ct(tt)),S.g=le}else Mu(S);0<v.i.length&&Hs(v)}else nt[0]!="stop"&&nt[0]!="close"||fi(v,7);else v.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?fi(v,7):$o(v):nt[0]!="noop"&&v.l&&v.l.ta(nt),v.v=0)}}B(4)}catch{}}var si=class{constructor(c,y){this.g=c,this.map=y}};function _t(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Pa(c){return c.h?1:c.g?c.g.size:0}function Lr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Fi(c,y){c.g?c.g.add(y):c.h=y}function Wn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}_t.prototype.cancel=function(){if(this.i=Cn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Cn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return K(c.i)}function Au(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],v=c.length,S=0;S<v;S++)y.push(c[S]);return y}y=[],v=0;for(S in c)y[v++]=c[S];return y}function Xh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const S in c)y[v++]=S;return y}}}function ka(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Xh(c),S=Au(c),q=S.length,Y=0;Y<q;Y++)y.call(void 0,S[Y],v&&v[Y],c)}var Ho=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xs(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),q=null;if(0<=S){var Y=c[v].substring(0,S);q=c[v].substring(S+1)}else Y=c[v];y(Y,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function oi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof oi){this.h=c.h,Gi(this,c.j),this.o=c.o,this.g=c.g,Ua(this,c.s),this.l=c.l;var y=c.i,v=new Pr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Ls(this,v),this.m=c.m}else c&&(y=String(c).match(Ho))?(this.h=!1,Gi(this,y[1]||"",!0),this.o=Qi(y[2]||""),this.g=Qi(y[3]||"",!0),Ua(this,y[4]),this.l=Qi(y[5]||"",!0),Ls(this,y[6]||"",!0),this.m=Qi(y[7]||"")):(this.h=!1,this.i=new Pr(null,this.h))}oi.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Zn(y,qo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Zn(y,qo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Zn(v,v.charAt(0)=="/"?Fo:Ru,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Zn(v,Jh)),c.join("")};function Nt(c){return new oi(c)}function Gi(c,y,v){c.j=v?Qi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ua(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ls(c,y,v){y instanceof Pr?(c.i=y,Go(c.i,c.h)):(v||(y=Zn(y,Zh)),c.i=new Pr(y,c.h))}function ot(c,y,v){c.i.set(y,v)}function za(c){return ot(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Qi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Zn(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Wh),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Wh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var qo=/[#\/\?@]/g,Ru=/[#\?:]/g,Fo=/[#\?]/g,Zh=/[#\?@]/g,Jh=/#/g;function Pr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Jn(c){c.g||(c.g=new Map,c.h=0,c.i&&xs(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Pr.prototype,i.add=function(c,y){Jn(this),this.i=null,c=ci(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Ps(c,y){Jn(c),y=ci(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function li(c,y){return Jn(c),y=ci(c,y),c.g.has(y)}i.forEach=function(c,y){Jn(this),this.g.forEach(function(v,S){v.forEach(function(q){c.call(y,q,S,this)},this)},this)},i.na=function(){Jn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const q=c[S];for(let Y=0;Y<q.length;Y++)v.push(y[S])}return v},i.V=function(c){Jn(this);let y=[];if(typeof c=="string")li(this,c)&&(y=y.concat(this.g.get(ci(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return Jn(this),this.i=null,c=ci(this,c),li(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ui(c,y,v){Ps(c,y),0<v.length&&(c.i=null,c.g.set(ci(c,y),K(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const Y=encodeURIComponent(String(S)),le=this.V(S);for(S=0;S<le.length;S++){var q=Y;le[S]!==""&&(q+="="+encodeURIComponent(String(le[S]))),c.push(q)}}return this.i=c.join("&")};function ci(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Go(c,y){y&&!c.j&&(Jn(c),c.i=null,c.g.forEach(function(v,S){var q=S.toLowerCase();S!=q&&(Ps(this,S),ui(this,q,v))},c)),c.j=y}function Cu(c,y){const v=new Re;if(m.Image){const S=new Image;S.onload=C(er,v,"TestLoadImage: loaded",!0,y,S),S.onerror=C(er,v,"TestLoadImage: error",!1,y,S),S.onabort=C(er,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=C(er,v,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Ba(c,y){const v=new Re,S=new AbortController,q=setTimeout(()=>{S.abort(),er(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Y=>{clearTimeout(q),Y.ok?er(v,"TestPingServer: ok",!0,y):er(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),er(v,"TestPingServer: error",!1,y)})}function er(c,y,v,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(v)}catch{}}function ja(){this.g=new en}function kr(c,y,v){const S=v||"";try{ka(c,function(q,Y){let le=q;p(q)&&(le=Hi(q)),y.push(S+Y+"="+encodeURIComponent(le))})}catch(q){throw y.push(S+"type="+encodeURIComponent("_badmap")),q}}function Ki(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Ki,ai),Ki.prototype.g=function(){return new hi(this.l,this.j)},Ki.prototype.i=function(c){return function(){return c}}({});function hi(c,y){mt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(hi,mt),i=hi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,zr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,zr(this)),this.g&&(this.readyState=3,zr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ur(this):zr(this),this.readyState==3&&Qo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Ur(this))},i.Qa=function(c){this.g&&(this.response=c,Ur(this))},i.ga=function(){this.g&&Ur(this)};function Ur(c){c.readyState=4,c.l=null,c.j=null,c.v=null,zr(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function zr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ko(c){let y="";return oe(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function nn(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Ko(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):ot(c,y,v))}function ft(c){mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(ft,mt);var ks=/^https?$/i,Ha=["POST","PUT"];i=ft.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():At.g(),this.v=this.o?Vs(this.o):Vs(At),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Iu(this,Y);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)v.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())v.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ha,y,void 0))||S||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,le]of v)this.g.setRequestHeader(Y,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qa(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Iu(this,Y)}};function Iu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Us(c),Br(c)}function Us(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,xt(this,"complete"),xt(this,"abort"),Br(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Br(this,!0)),ft.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?zs(this):this.bb())},i.bb=function(){zs(this)};function zs(c){if(c.h&&typeof f<"u"&&(!c.v[1]||tr(c)!=4||c.Z()!=2)){if(c.u&&tr(c)==4)Os(c.Ea,0,c);else if(xt(c,"readystatechange"),tr(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=le===0){var q=String(c.D).match(Ho)[1]||null;!q&&m.self&&m.self.location&&(q=m.self.location.protocol.slice(0,-1)),S=!ks.test(q?q.toLowerCase():"")}v=S}if(v)xt(c,"complete"),xt(c,"success");else{c.m=6;try{var Y=2<tr(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Us(c)}}finally{Br(c)}}}}function Br(c,y){if(c.g){qa(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||xt(c,"ready");try{v.onreadystatechange=S}catch{}}}function qa(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function tr(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),An(y)}};function Du(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ef(c){const y={};c=(c.g&&2<=tr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(J(c[S]))continue;var v=L(c[S]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=y[q]||[];y[q]=Y,Y.push(v)}O(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fa(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Bs(c){this.Aa=0,this.i=[],this.j=new Re,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fa("baseRetryDelayMs",5e3,c),this.cb=Fa("retryDelaySeedMs",1e4,c),this.Wa=Fa("forwardChannelMaxRetries",2,c),this.wa=Fa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new _t(c&&c.concurrentRequestLimit),this.Da=new ja,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Bs.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,S){ee(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Pu(this,null,this.W),Hs(this)};function $o(c){if(Nu(c),c.G==3){var y=c.U++,v=Nt(c.I);if(ot(v,"SID",c.K),ot(v,"RID",y),ot(v,"TYPE","terminate"),Ga(c,v),y=new at(c,c.j,y),y.L=2,y.v=za(Nt(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=ku(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ct(y)}Lu(c)}function js(c){c.g&&(Qa(c),c.g.cancel(),c.g=null)}function Nu(c){js(c),c.u&&(m.clearTimeout(c.u),c.u=null),qs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Hs(c){if(!Xn(c.h)&&!c.s){c.s=!0;var y=c.Ga;De||x(),Te||(De(),Te=!0),je.add(y,c),c.B=0}}function tf(c,y){return Pa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ce(A(c.Ga,c,y),Wo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new at(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=R(Y),D(Y,this.S)):Y=this.S),this.m!==null||this.O||(q.H=Y,Y=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Ou(this,q,y),v=Nt(this.I),ot(v,"RID",c),ot(v,"CVER",22),this.D&&ot(v,"X-HTTP-Session-Id",this.D),Ga(this,v),Y&&(this.O?y="headers="+encodeURIComponent(String(Ko(Y)))+"&"+y:this.m&&nn(v,this.m,Y)),Fi(this.h,q),this.Ua&&ot(v,"TYPE","init"),this.P?(ot(v,"$req",y),ot(v,"SID","null"),q.T=!0,Lt(q,v,null)):Lt(q,v,y),this.G=2}}else this.G==3&&(c?Yo(this,c):this.i.length==0||Xn(this.h)||Yo(this))};function Yo(c,y){var v;y?v=y.l:v=c.U++;const S=Nt(c.I);ot(S,"SID",c.K),ot(S,"RID",v),ot(S,"AID",c.T),Ga(c,S),c.m&&c.o&&nn(S,c.m,c.o),v=new at(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Ou(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Fi(c.h,v),Lt(v,S,y)}function Ga(c,y){c.H&&oe(c.H,function(v,S){ot(y,S,v)}),c.l&&ka({},function(v,S){ot(y,S,v)})}function Ou(c,y,v){v=Math.min(c.i.length,v);var S=c.l?A(c.l.Na,c.l,c):null;e:{var q=c.i;let Y=-1;for(;;){const le=["count="+v];Y==-1?0<v?(Y=q[0].g,le.push("ofs="+Y)):Y=0:le.push("ofs="+Y);let tt=!0;for(let Gt=0;Gt<v;Gt++){let nt=q[Gt].g;const rn=q[Gt].map;if(nt-=Y,0>nt)Y=Math.max(0,q[Gt].g-100),tt=!1;else try{kr(rn,le,"req"+nt+"_")}catch{S&&S(rn)}}if(tt){S=le.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,S}function Mu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;De||x(),Te||(De(),Te=!0),je.add(y,c),c.v=0}}function Xo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ce(A(c.Fa,c),Wo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ce(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),js(this),Vu(this))};function Qa(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Vu(c){c.g=new at(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Nt(c.qa);ot(y,"RID","rpc"),ot(y,"SID",c.K),ot(y,"AID",c.T),ot(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&ot(y,"TO",c.ja),ot(y,"TYPE","xmlhttp"),Ga(c,y),c.m&&c.o&&nn(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=za(Nt(y)),v.m=null,v.P=!0,zt(v,c)}i.Za=function(){this.C!=null&&(this.C=null,js(this),Xo(this),ee(19))};function qs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function xu(c,y){var v=null;if(c.g==y){qs(c),Qa(c),c.g=null;var S=2}else if(Lr(c.h,y))v=y.D,Wn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var q=c.B;S=qi(),xt(S,new ce(S,v)),Hs(c)}else Mu(c);else if(q=y.s,q==3||q==0&&0<y.X||!(S==1&&tf(c,y)||S==2&&Xo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),q){case 1:fi(c,5);break;case 4:fi(c,10);break;case 3:fi(c,6);break;default:fi(c,2)}}}function Wo(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function fi(c,y){if(c.j.info("Error code "+y),y==2){var v=A(c.fb,c),S=c.Xa;const q=!S;S=new oi(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Gi(S,"https"),za(S),q?Cu(S.toString(),v):Ba(S.toString(),v)}else ee(2);c.G=0,c.l&&c.l.sa(y),Lu(c),Nu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function Lu(c){if(c.G=0,c.ka=[],c.l){const y=Cn(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ka,y),z(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function Pu(c,y,v){var S=v instanceof oi?Nt(v):new oi(v);if(S.g!="")y&&(S.g=y+"."+S.g),Ua(S,S.s);else{var q=m.location;S=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var Y=new oi(null);S&&Gi(Y,S),y&&(Y.g=y),q&&Ua(Y,q),v&&(Y.l=v),S=Y}return v=c.D,y=c.ya,v&&y&&ot(S,v,y),ot(S,"VER",c.la),Ga(c,S),S}function ku(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new ft(new Ki({eb:v})):new ft(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uu(){}i=Uu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Fs(){}Fs.prototype.g=function(c,y){return new In(c,y)};function In(c,y){mt.call(this),this.g=new Bs(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!J(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!J(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new jr(this)}M(In,mt),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){$o(this.g)},In.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Hi(c),c=v);y.i.push(new si(y.Ya++,c)),y.G==3&&Hs(y)},In.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,In.aa.N.call(this)};function zu(c){yr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}M(zu,yr);function Bu(){vn.call(this),this.status=1}M(Bu,vn);function jr(c){this.g=c}M(jr,Uu),jr.prototype.ua=function(){xt(this.g,"a")},jr.prototype.ta=function(c){xt(this.g,new zu(c))},jr.prototype.sa=function(c){xt(this.g,new Bu)},jr.prototype.ra=function(){xt(this.g,"b")},Fs.prototype.createWebChannel=Fs.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,FE=function(){return new Fs},qE=function(){return qi()},HE=un,wm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,Yc=Oe,st.COMPLETE="complete",jE=st,La.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Gl=La,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,BE=ft}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const q_="@firebase/firestore",F_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ko="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new Jm("@firebase/firestore");function _o(){return _s.logLevel}function pe(i,...e){if(_s.logLevel<=Xe.DEBUG){const n=e.map(ng);_s.debug(`Firestore (${ko}): ${i}`,...n)}}function xi(i,...e){if(_s.logLevel<=Xe.ERROR){const n=e.map(ng);_s.error(`Firestore (${ko}): ${i}`,...n)}}function Io(i,...e){if(_s.logLevel<=Xe.WARN){const n=e.map(ng);_s.warn(`Firestore (${ko}): ${i}`,...n)}}function ng(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(i="Unexpected state"){const e=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: `+i;throw xi(e),new Error(e)}function dt(i,e){i||xe()}function Ue(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wn.UNAUTHENTICATED))}shutdown(){}}class _C{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class EC{constructor(e){this.t=e,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0);let a=this.i;const o=g=>this.i!==a?(a=this.i,n(g)):Promise.resolve();let u=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Mi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Mi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(dt(typeof a.accessToken=="string"),new GE(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string"),new wn(e)}}class TC{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class wC{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new TC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(wn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SC{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,br(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0);const a=u=>{u.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,pe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new G_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string"),this.R=n.token,new G_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=bC(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Ge(i,e){return i<e?-1:i>e?1:0}function Sm(i,e){let n=0;for(;n<i.length&&n<e.length;){const a=i.codePointAt(n),o=e.codePointAt(n);if(a!==o){if(a<128&&o<128)return Ge(a,o);{const u=QE(),f=AC(u.encode(Q_(i,n)),u.encode(Q_(e,n)));return f!==0?f:Ge(a,o)}}n+=a>65535?2:1}return Ge(i.length,e.length)}function Q_(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function AC(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ge(i[n],e[n]);return Ge(i.length,e.length)}function Do(i,e,n){return i.length===e.length&&i.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=-62135596800,$_=1e6;class Yt{static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*$_);return new Yt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<K_)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$_}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-K_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Yt(0,0))}static max(){return new Pe(new Yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="__name__";class $r{constructor(e,n,a){n===void 0?n=0:n>e.length&&xe(),a===void 0?a=e.length-n:a>e.length-n&&xe(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return $r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $r?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=$r.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ge(e.length,n.length)}static compareSegments(e,n){const a=$r.isNumericId(e),o=$r.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?$r.extractNumericId(e).compare($r.extractNumericId(n)):Sm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ba.fromString(e.substring(4,e.length-2))}}class St extends $r{construct(e,n,a){return new St(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new _e(re.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new St(n)}static emptyPath(){return new St([])}}const RC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends $r{construct(e,n,a){return new gn(e,n,a)}static isValidIdentifier(e){return RC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y_}static keyField(){return new gn([Y_])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new _e(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new _e(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new _e(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new _e(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(n)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(St.fromString(e))}static fromName(e){return new Ne(St.fromString(e).popFirst(5))}static empty(){return new Ne(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new St(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=-1;function CC(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=Pe.fromTimestamp(a===1e9?new Yt(n+1,0):new Yt(n,a));return new Ca(o,Ne.empty(),e)}function IC(i){return new Ca(i.readTime,i.key,ru)}class Ca{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Ca(Pe.min(),Ne.empty(),ru)}static max(){return new Ca(Pe.max(),Ne.empty(),ru)}}function DC(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(i.documentKey,e.documentKey),n!==0?n:Ge(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(i){if(i.code!==re.FAILED_PRECONDITION||i.message!==NC)throw i;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,a)=>{n(e)})}static reject(e){return new ne((n,a)=>{a(e)})}static waitFor(e){return new ne((n,a)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},g=>a(g))}),f=!0,u===o&&n()})}static or(e){let n=ne.resolve(!1);for(const a of e)n=n.next(o=>o?ne.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new ne((a,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next(E=>{f[p]=E,++m,m===u&&a(f)},E=>o(E))}})}static doWhile(e,n){return new ne((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function MC(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.oe(a),this._e=a=>n.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Mh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=-1;function Vh(i){return i==null}function ch(i){return i===0&&1/i==-1/0}function VC(i){return typeof i=="number"&&Number.isInteger(i)&&!ch(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="";function xC(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=X_(e)),e=LC(i.get(n),e);return X_(e)}function LC(i,e){let n=e;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case $E:n+="";break;default:n+=u}}return n}function X_(i){return i+$E+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Rs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function YE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){this.comparator=e,this.root=n||mn.EMPTY}insert(e,n){return new It(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??mn.RED,this.left=o??mn.EMPTY,this.right=u??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new mn(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return mn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,n,a,o,u){return this}insert(e,n,a){return new mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Z_(this.data.getIterator())}getIteratorFrom(e){return new Z_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class Z_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new Rr([])}unionWith(e){let n=new Xt(gn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new XE("Invalid base64 string: "+u):u}}(e);return new yn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const PC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ia(i){if(dt(!!i),typeof i=="string"){let e=0;const n=PC.exec(i);if(dt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:kt(i.seconds),nanos:kt(i.nanos)}}function kt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Da(i){return typeof i=="string"?yn.fromBase64String(i):yn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="server_timestamp",ZE="__type__",JE="__previous_value__",eT="__local_write_time__";function ig(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[ZE])===null||n===void 0?void 0:n.stringValue)===WE}function xh(i){const e=i.mapValue.fields[JE];return ig(e)?xh(e):e}function iu(i){const e=Ia(i.mapValue.fields[eT].timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n,a,o,u,f,m,g,p){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p}}const hh="(default)";class au{constructor(e,n){this.projectId=e,this.database=n||hh}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===hh}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="__type__",UC="__max__",Hc={mapValue:{}},nT="__vector__",fh="value";function Na(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ig(i)?4:BC(i)?9007199254740991:zC(i)?10:11:xe()}function ei(i,e){if(i===e)return!0;const n=Na(i);if(n!==Na(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return iu(i).isEqual(iu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ia(o.timestampValue),m=Ia(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Da(o.bytesValue).isEqual(Da(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return kt(o.geoPointValue.latitude)===kt(u.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return kt(o.integerValue)===kt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=kt(o.doubleValue),m=kt(u.doubleValue);return f===m?ch(f)===ch(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return Do(i.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(W_(f)!==W_(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!ei(f[g],m[g])))return!1;return!0}(i,e);default:return xe()}}function su(i,e){return(i.values||[]).find(n=>ei(n,e))!==void 0}function No(i,e){if(i===e)return 0;const n=Na(i),a=Na(e);if(n!==a)return Ge(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=kt(u.integerValue||u.doubleValue),g=kt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return J_(i.timestampValue,e.timestampValue);case 4:return J_(iu(i),iu(e));case 5:return Sm(i.stringValue,e.stringValue);case 6:return function(u,f){const m=Da(u),g=Da(f);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Ge(m[p],g[p]);if(E!==0)return E}return Ge(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ge(kt(u.latitude),kt(f.latitude));return m!==0?m:Ge(kt(u.longitude),kt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return e0(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,g,p,E;const w=u.fields||{},A=f.fields||{},C=(m=w[fh])===null||m===void 0?void 0:m.arrayValue,M=(g=A[fh])===null||g===void 0?void 0:g.arrayValue,K=Ge(((p=C==null?void 0:C.values)===null||p===void 0?void 0:p.length)||0,((E=M==null?void 0:M.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:e0(C,M)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Hc.mapValue&&f===Hc.mapValue)return 0;if(u===Hc.mapValue)return 1;if(f===Hc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let w=0;w<g.length&&w<E.length;++w){const A=Sm(g[w],E[w]);if(A!==0)return A;const C=No(m[g[w]],p[E[w]]);if(C!==0)return C}return Ge(g.length,E.length)}(i.mapValue,e.mapValue);default:throw xe()}}function J_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ge(i,e);const n=Ia(i),a=Ia(e),o=Ge(n.seconds,a.seconds);return o!==0?o:Ge(n.nanos,a.nanos)}function e0(i,e){const n=i.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=No(n[o],a[o]);if(u)return u}return Ge(n.length,a.length)}function Oo(i){return bm(i)}function bm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const a=Ia(n);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Da(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Ne.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=bm(u);return a+"]"}(i.arrayValue):"mapValue"in i?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${bm(n.fields[f])}`;return o+"}"}(i.mapValue):xe()}function Xc(i){switch(Na(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xh(i);return e?16+Xc(e):16;case 5:return 2*i.stringValue.length;case 6:return Da(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Xc(u),0)}(i.arrayValue);case 10:case 11:return function(a){let o=0;return Rs(a.fields,(u,f)=>{o+=u.length+Xc(f)}),o}(i.mapValue);default:throw xe()}}function t0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Am(i){return!!i&&"integerValue"in i}function ag(i){return!!i&&"arrayValue"in i}function n0(i){return!!i&&"nullValue"in i}function r0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Wc(i){return!!i&&"mapValue"in i}function zC(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[tT])===null||n===void 0?void 0:n.stringValue)===nT}function Yl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Rs(i.mapValue.fields,(n,a)=>e.mapValue.fields[n]=Yl(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function BC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===UC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.value=e}static empty(){return new dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Wc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=gn.emptyPath(),a={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=Yl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());Wc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Wc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){Rs(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new dr(Yl(this.value))}}function rT(i){const e=[];return Rs(i.fields,(n,a)=>{const o=new gn([n]);if(Wc(a)){const u=rT(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n,a,o,u,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Sn(e,0,Pe.min(),Pe.min(),Pe.min(),dr.empty(),0)}static newFoundDocument(e,n,a,o){return new Sn(e,1,n,Pe.min(),a,o,0)}static newNoDocument(e,n){return new Sn(e,2,n,Pe.min(),Pe.min(),dr.empty(),0)}static newUnknownDocument(e,n){return new Sn(e,3,n,Pe.min(),Pe.min(),dr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n){this.position=e,this.inclusive=n}}function i0(i,e,n){let a=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?a=Ne.comparator(Ne.fromName(f.referenceValue),n.key):a=No(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function a0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ei(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n="asc"){this.field=e,this.dir=n}}function jC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{}class Ft extends iT{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new qC(e,n,a):n==="array-contains"?new QC(e,a):n==="in"?new KC(e,a):n==="not-in"?new $C(e,a):n==="array-contains-any"?new YC(e,a):new Ft(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new FC(e,a):new GC(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(No(n,this.value)):n!==null&&Na(this.value)===Na(n)&&this.matchesComparison(No(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends iT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Dr(e,n)}matches(e){return aT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function aT(i){return i.op==="and"}function sT(i){return HC(i)&&aT(i)}function HC(i){for(const e of i.filters)if(e instanceof Dr)return!1;return!0}function Rm(i){if(i instanceof Ft)return i.field.canonicalString()+i.op.toString()+Oo(i.value);if(sT(i))return i.filters.map(e=>Rm(e)).join(",");{const e=i.filters.map(n=>Rm(n)).join(",");return`${i.op}(${e})`}}function oT(i,e){return i instanceof Ft?function(a,o){return o instanceof Ft&&a.op===o.op&&a.field.isEqual(o.field)&&ei(a.value,o.value)}(i,e):i instanceof Dr?function(a,o){return o instanceof Dr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,m)=>u&&oT(f,o.filters[m]),!0):!1}(i,e):void xe()}function lT(i){return i instanceof Ft?function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`}(i):i instanceof Dr?function(n){return n.op.toString()+" {"+n.getFilters().map(lT).join(" ,")+"}"}(i):"Filter"}class qC extends Ft{constructor(e,n,a){super(e,n,a),this.key=Ne.fromName(a.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class FC extends Ft{constructor(e,n){super(e,"in",n),this.keys=uT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class GC extends Ft{constructor(e,n){super(e,"not-in",n),this.keys=uT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uT(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>Ne.fromName(a.referenceValue))}class QC extends Ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ag(n)&&su(n.arrayValue,this.value)}}class KC extends Ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&su(this.value.arrayValue,n)}}class $C extends Ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!su(this.value.arrayValue,n)}}class YC extends Ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ag(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>su(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n=null,a=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function s0(i,e=null,n=[],a=[],o=null,u=null,f=null){return new XC(i,e,n,a,o,u,f)}function sg(i){const e=Ue(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>Rm(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),Vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>Oo(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>Oo(a)).join(",")),e.le=n}return e.le}function og(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!jC(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!oT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!a0(i.startAt,e.startAt)&&a0(i.endAt,e.endAt)}function Cm(i){return Ne.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n=null,a=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function WC(i,e,n,a,o,u,f,m){return new pu(i,e,n,a,o,u,f,m)}function Lh(i){return new pu(i)}function o0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function cT(i){return i.collectionGroup!==null}function Xl(i){const e=Ue(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Xt(gn.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new mh(u,a))}),n.has(gn.keyField().canonicalString())||e.he.push(new mh(gn.keyField(),a))}return e.he}function Xr(i){const e=Ue(i);return e.Pe||(e.Pe=ZC(e,Xl(i))),e.Pe}function ZC(i,e){if(i.limitType==="F")return s0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new mh(o.field,u)});const n=i.endAt?new dh(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new dh(i.startAt.position,i.startAt.inclusive):null;return s0(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}function Im(i,e){const n=i.filters.concat([e]);return new pu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Dm(i,e,n){return new pu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Ph(i,e){return og(Xr(i),Xr(e))&&i.limitType===e.limitType}function hT(i){return`${sg(Xr(i))}|lt:${i.limitType}`}function Eo(i){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>lT(o)).join(", ")}]`),Vh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>Oo(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>Oo(o)).join(",")),`Target(${a})`}(Xr(i))}; limitType=${i.limitType})`}function kh(i,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Ne.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(i,e)&&function(a,o){for(const u of Xl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(a,o){return!(a.startAt&&!function(f,m,g){const p=i0(f,m,g);return f.inclusive?p<=0:p<0}(a.startAt,Xl(a),o)||a.endAt&&!function(f,m,g){const p=i0(f,m,g);return f.inclusive?p>=0:p>0}(a.endAt,Xl(a),o))}(i,e)}function JC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function fT(i){return(e,n)=>{let a=!1;for(const o of Xl(i)){const u=e2(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function e2(i,e,n){const a=i.field.isKeyField()?Ne.comparator(e.key,n.key):function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?No(g,p):xe()}(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return YE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=new It(Ne.comparator);function Li(){return t2}const dT=new It(Ne.comparator);function Ql(...i){let e=dT;for(const n of i)e=e.insert(n.key,n);return e}function mT(i){let e=dT;return i.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function ms(){return Wl()}function gT(){return Wl()}function Wl(){return new Cs(i=>i.toString(),(i,e)=>i.isEqual(e))}const n2=new It(Ne.comparator),r2=new Xt(Ne.comparator);function We(...i){let e=r2;for(const n of i)e=e.add(n);return e}const i2=new Xt(Ge);function a2(){return i2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function pT(i){return{integerValue:""+i}}function s2(i,e){return VC(e)?pT(e):lg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this._=void 0}}function o2(i,e,n){return i instanceof gh?function(o,u){const f={fields:{[ZE]:{stringValue:WE},[eT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ig(u)&&(u=xh(u)),u&&(f.fields[JE]=u),{mapValue:f}}(n,e):i instanceof ou?vT(i,e):i instanceof lu?_T(i,e):function(o,u){const f=yT(o,u),m=l0(f)+l0(o.Ie);return Am(f)&&Am(o.Ie)?pT(m):lg(o.serializer,m)}(i,e)}function l2(i,e,n){return i instanceof ou?vT(i,e):i instanceof lu?_T(i,e):n}function yT(i,e){return i instanceof ph?function(a){return Am(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class gh extends Uh{}class ou extends Uh{constructor(e){super(),this.elements=e}}function vT(i,e){const n=ET(e);for(const a of i.elements)n.some(o=>ei(o,a))||n.push(a);return{arrayValue:{values:n}}}class lu extends Uh{constructor(e){super(),this.elements=e}}function _T(i,e){let n=ET(e);for(const a of i.elements)n=n.filter(o=>!ei(o,a));return{arrayValue:{values:n}}}class ph extends Uh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function l0(i){return kt(i.integerValue||i.doubleValue)}function ET(i){return ag(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function u2(i,e){return i.field.isEqual(e.field)&&function(a,o){return a instanceof ou&&o instanceof ou||a instanceof lu&&o instanceof lu?Do(a.elements,o.elements,ei):a instanceof ph&&o instanceof ph?ei(a.Ie,o.Ie):a instanceof gh&&o instanceof gh}(i.transform,e.transform)}class c2{constructor(e,n){this.version=e,this.transformResults=n}}class Wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class zh{}function TT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new ug(i.key,Wr.none()):new yu(i.key,i.data,Wr.none());{const n=i.data,a=dr.empty();let o=new Xt(gn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new Is(i.key,a,new Rr(o.toArray()),Wr.none())}}function h2(i,e,n){i instanceof yu?function(o,u,f){const m=o.value.clone(),g=c0(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Is?function(o,u,f){if(!Zc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=c0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(wT(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Zl(i,e,n,a){return i instanceof yu?function(u,f,m,g){if(!Zc(u.precondition,f))return m;const p=u.value.clone(),E=h0(u.fieldTransforms,g,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null}(i,e,n,a):i instanceof Is?function(u,f,m,g){if(!Zc(u.precondition,f))return m;const p=h0(u.fieldTransforms,g,f),E=f.data;return E.setAll(wT(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(i,e,n,a):function(u,f,m){return Zc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function f2(i,e){let n=null;for(const a of i.fieldTransforms){const o=e.data.field(a.field),u=yT(a.transform,o||null);u!=null&&(n===null&&(n=dr.empty()),n.set(a.field,u))}return n||null}function u0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Do(a,o,(u,f)=>u2(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class yu extends zh{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Is extends zh{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function wT(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}}),e}function c0(i,e,n){const a=new Map;dt(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);a.set(u.field,l2(f,m,n[o]))}return a}function h0(i,e,n){const a=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);a.set(o.field,o2(u,f,e))}return a}class ug extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d2 extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&h2(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Zl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Zl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=gT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=TT(f,m);g!==null&&a.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Pe.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),We())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,(n,a)=>u0(n,a))&&Do(this.baseMutations,e.baseMutations,(n,a)=>u0(n,a))}}class cg{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){dt(e.mutations.length===a.length);let o=function(){return n2}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new cg(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,it;function y2(i){switch(i){case re.OK:return xe();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return xe()}}function ST(i){if(i===void 0)return xi("GRPC error has no .code"),re.UNKNOWN;switch(i){case qt.OK:return re.OK;case qt.CANCELLED:return re.CANCELLED;case qt.UNKNOWN:return re.UNKNOWN;case qt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case qt.INTERNAL:return re.INTERNAL;case qt.UNAVAILABLE:return re.UNAVAILABLE;case qt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case qt.NOT_FOUND:return re.NOT_FOUND;case qt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case qt.ABORTED:return re.ABORTED;case qt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case qt.DATA_LOSS:return re.DATA_LOSS;default:return xe()}}(it=qt||(qt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new ba([4294967295,4294967295],0);function f0(i){const e=QE().encode(i),n=new zE;return n.update(e),new Uint8Array(n.digest())}function d0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ba([n,a],0),new ba([o,u],0)]}class hg{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(a<0)throw new Kl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ba.fromNumber(this.Ee)}Ae(e,n,a){let o=e.add(n.multiply(ba.fromNumber(a)));return o.compare(v2)===1&&(o=new ba([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=f0(e),[a,o]=d0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new hg(u,o,n);return a.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=f0(e),[a,o]=d0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Bh(Pe.min(),o,new It(Ge),Li(),We())}}class vu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new vu(a,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n,a,o){this.me=e,this.removedTargetIds=n,this.key=a,this.fe=o}}class bT{constructor(e,n){this.targetId=e,this.ge=n}}class AT{constructor(e,n,a=yn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class m0{constructor(){this.pe=0,this.ye=g0(),this.we=yn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=We(),n=We(),a=We();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:xe()}}),new vu(this.we,this.Se,e,n,a)}Me(){this.be=!1,this.ye=g0()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,dt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class _2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Li(),this.$e=qc(),this.Ue=qc(),this.Ke=new It(Ge)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const a=this.He(n);switch(e.state){case 0:this.Je(n)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(n);break;case 3:this.Je(n)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),a.Ce(e.resumeToken));break;default:xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((a,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,a=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Cm(u))if(a===0){const f=new Ne(u.path);this.ze(n,f,Sn.newNoDocument(f,Pe.min()))}else dt(a===1);else{const f=this.et(n);if(f!==a){const m=this.tt(e),g=m?this.nt(m,e,f):1;if(g!==0){this.Ye(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Da(a).toUint8Array()}catch(g){if(g instanceof XE)return Io("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new hg(f,o,u)}catch(g){return Io(g instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(e,n,a){return n.ge.count===a-this.st(e,n.targetId)?0:2}st(e,n){const a=this.ke.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Cm(m.target)){const g=new Ne(m.target.path);this._t(g).has(f)||this.ut(f,g)||this.ze(f,g,Sn.newNoDocument(g,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let a=We();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const p=this.Xe(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Bh(e,n,this.Ke,this.Qe,a);return this.Qe=Li(),this.$e=qc(),this.Ue=qc(),this.Ke=new It(Ge),o}Ge(e,n){if(!this.Je(e))return;const a=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,a),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,a){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),a&&(this.Qe=this.Qe.insert(n,a))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new m0,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Xt(Ge),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Xt(Ge),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new m0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function qc(){return new It(Ne.comparator)}function g0(){return new It(Ne.comparator)}const E2={asc:"ASCENDING",desc:"DESCENDING"},T2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w2={and:"AND",or:"OR"};class S2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Nm(i,e){return i.useProto3Json||Vh(e)?e:{value:e}}function yh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function b2(i,e){return yh(i,e.toTimestamp())}function Zr(i){return dt(!!i),Pe.fromTimestamp(function(n){const a=Ia(n);return new Yt(a.seconds,a.nanos)}(i))}function fg(i,e){return Om(i,e).canonicalString()}function Om(i,e){const n=function(o){return new St(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function CT(i){const e=St.fromString(i);return dt(MT(e)),e}function Mm(i,e){return fg(i.databaseId,e.path)}function lm(i,e){const n=CT(e);if(n.get(1)!==i.databaseId.projectId)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ne(DT(n))}function IT(i,e){return fg(i.databaseId,e)}function A2(i){const e=CT(i);return e.length===4?St.emptyPath():DT(e)}function Vm(i){return new St(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function DT(i){return dt(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function p0(i,e,n){return{name:Mm(i,e),fields:n.value.mapValue.fields}}function R2(i,e){let n;if("targetChange"in e){e.targetChange;const a=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(p,E){return p.useProto3Json?(dt(E===void 0||typeof E=="string"),yn.fromBase64String(E||"")):(dt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),yn.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(p){const E=p.code===void 0?re.UNKNOWN:ST(p.code);return new _e(E,p.message||"")}(f);n=new AT(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=lm(i,a.document.name),u=Zr(a.document.updateTime),f=a.document.createTime?Zr(a.document.createTime):Pe.min(),m=new dr({mapValue:{fields:a.document.fields}}),g=Sn.newFoundDocument(o,u,f,m),p=a.targetIds||[],E=a.removedTargetIds||[];n=new Jc(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=lm(i,a.document),u=a.readTime?Zr(a.readTime):Pe.min(),f=Sn.newNoDocument(o,u),m=a.removedTargetIds||[];n=new Jc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=lm(i,a.document),u=a.removedTargetIds||[];n=new Jc([],u,o,null)}else{if(!("filter"in e))return xe();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new p2(o,u),m=a.targetId;n=new bT(m,f)}}return n}function C2(i,e){let n;if(e instanceof yu)n={update:p0(i,e.key,e.value)};else if(e instanceof ug)n={delete:Mm(i,e.key)};else if(e instanceof Is)n={update:p0(i,e.key,e.data),updateMask:P2(e.fieldMask)};else{if(!(e instanceof d2))return xe();n={verify:Mm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,f){const m=f.transform;if(m instanceof gh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ou)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof lu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ph)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw xe()}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:b2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xe()}(i,e.precondition)),n}function I2(i,e){return i&&i.length>0?(dt(e!==void 0),i.map(n=>function(o,u){let f=o.updateTime?Zr(o.updateTime):Zr(u);return f.isEqual(Pe.min())&&(f=Zr(u)),new c2(f,o.transformResults||[])}(n,e))):[]}function D2(i,e){return{documents:[IT(i,e.path)]}}function N2(i,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=IT(i,o);const u=function(p){if(p.length!==0)return OT(Dr.create(p,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(p){if(p.length!==0)return p.map(E=>function(A){return{field:To(A.field),direction:V2(A.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Nm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:o}}function O2(i){let e=A2(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){dt(a===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const A=NT(w);return A instanceof Dr&&sT(A)?A.getFilters():[A]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(A=>function(M){return new mh(wo(M.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(w){let A;return A=typeof w=="object"?w.value:w,Vh(A)?null:A}(n.limit));let g=null;n.startAt&&(g=function(w){const A=!!w.before,C=w.values||[];return new dh(C,A)}(n.startAt));let p=null;return n.endAt&&(p=function(w){const A=!w.before,C=w.values||[];return new dh(C,A)}(n.endAt)),WC(e,o,f,u,m,"F",g,p)}function M2(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NT(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=wo(n.unaryFilter.field);return Ft.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=wo(n.unaryFilter.field);return Ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=wo(n.unaryFilter.field);return Ft.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=wo(n.unaryFilter.field);return Ft.create(f,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(i):i.fieldFilter!==void 0?function(n){return Ft.create(wo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Dr.create(n.compositeFilter.filters.map(a=>NT(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe()}}(n.compositeFilter.op))}(i):xe()}function V2(i){return E2[i]}function x2(i){return T2[i]}function L2(i){return w2[i]}function To(i){return{fieldPath:i.canonicalString()}}function wo(i){return gn.fromServerFormat(i.fieldPath)}function OT(i){return i instanceof Ft?function(n){if(n.op==="=="){if(r0(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NAN"}};if(n0(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(r0(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NAN"}};if(n0(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(n.field),op:x2(n.op),value:n.value}}}(i):i instanceof Dr?function(n){const a=n.getFilters().map(o=>OT(o));return a.length===1?a[0]:{compositeFilter:{op:L2(n.op),filters:a}}}(i):xe()}function P2(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function MT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n,a,o,u=Pe.min(),f=Pe.min(),m=yn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Ea(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.Tt=e}}function U2(i){const e=O2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Dm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.Tn=new B2}addToCollectionParentIndex(e,n){return this.Tn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Ca.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Ca.min())}updateCollectionGroup(e,n,a){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class B2{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Xt(St.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Xt(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VT=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(VT,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Mo(0)}static Kn(){return new Mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="LruGarbageCollector",j2=1048576;function _0([i,e],[n,a]){const o=Ge(i,n);return o===0?Ge(e,a):o}class H2{constructor(e){this.Hn=e,this.buffer=new Xt(_0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();_0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class q2{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pe(v0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zo(n)?pe(v0,"Ignoring IndexedDB error during garbage collection: ",n):await Uo(n)}await this.er(3e5)})}}class F2{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Mh.ae);const a=new H2(n);return this.tr.forEachTarget(e,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.tr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(y0)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let a,o,u,f,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(a=w,m=Date.now(),this.removeTargets(e,a,n))).next(w=>(u=w,g=Date.now(),this.removeOrphanedDocuments(e,a))).next(w=>(p=Date.now(),_o()<=Xe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${w} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function G2(i,e){return new F2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.changes=new Cs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ne.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&Zl(a.mutation,o,Rr.empty(),Yt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,We()).next(()=>a))}getLocalViewOfDocuments(e,n,a=We()){const o=ms();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let f=Ql();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const a=ms();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,We()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,a,o){let u=Li();const f=Wl(),m=function(){return Wl()}();return n.forEach((g,p)=>{const E=a.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof Is)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),Zl(E.mutation,p,E.mutation.getFieldMask(),Yt.now())):f.set(p.key,Rr.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((p,E)=>f.set(p,E)),n.forEach((p,E)=>{var w;return m.set(p,new K2(E,(w=f.get(p))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const a=Wl();let o=new It((f,m)=>f-m),u=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const p=n.get(g);if(p===null)return;let E=a.get(g)||Rr.empty();E=m.applyToLocalView(p,E),a.set(g,E);const w=(o.get(m.batchId)||We()).add(g);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,w=gT();E.forEach(A=>{if(!u.has(A)){const C=TT(n.get(A),a.get(A));C!==null&&w.set(A,C),u=u.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(e,p,w))}return ne.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(f){return Ne.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ne.resolve(ms());let m=ru,g=u;return f.next(p=>ne.forEach(p,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{g=g.insert(E,A)}))).next(()=>this.populateOverlays(e,p,u)).next(()=>this.computeViews(e,g,p,We())).next(E=>({batchId:m,changes:mT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next(a=>{let o=Ql();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=Ql();return this.indexManager.getCollectionParents(e,u).next(m=>ne.forEach(m,g=>{const p=function(w,A){return new pu(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,a,o).next(E=>{E.forEach((w,A)=>{f=f.insert(w,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(f=>{u.forEach((g,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,Sn.newInvalidDocument(E)))});let m=Ql();return f.forEach((g,p)=>{const E=u.get(g);E!==void 0&&Zl(E.mutation,p,Rr.empty(),Yt.now()),kh(n,p)&&(m=m.insert(g,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ne.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Zr(o.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:U2(o.bundledQuery),readTime:Zr(o.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.overlays=new It(Ne.comparator),this.Rr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const a=ms();return ne.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.Et(e,n,u)}),ne.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(a)),ne.resolve()}getOverlaysForCollection(e,n,a){const o=ms(),u=n.length+1,f=new Ne(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>a&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new It((p,E)=>p-E);const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>a){let E=u.get(p.largestBatchId);E===null&&(E=ms(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=ms(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,E)=>m.set(p,E)),!(m.size()>=o)););return ne.resolve(m)}Et(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new g2(n,a));let u=this.Rr.get(n);u===void 0&&(u=We(),this.Rr.set(n,u)),this.Rr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this.Vr=new Xt(ln.mr),this.gr=new Xt(ln.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const a=new ln(e,n);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.wr(new ln(e,n))}Sr(e,n){e.forEach(a=>this.removeReference(a,n))}br(e){const n=new Ne(new St([])),a=new ln(n,e),o=new ln(n,e+1),u=[];return this.gr.forEachInRange([a,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ne(new St([])),a=new ln(n,e),o=new ln(n,e+1);let u=We();return this.gr.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new ln(e,0),a=this.Vr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class ln{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ne.comparator(e.key,n.key)||Ge(e.Cr,n.Cr)}static pr(e,n){return Ge(e.Cr,n.Cr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Xt(ln.mr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new m2(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new ln(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Nr(a),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?rg:this.Fr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new ln(n,0),o=new ln(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([a,o],f=>{const m=this.Or(f.Cr);u.push(m)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Xt(Ge);return n.forEach(o=>{const u=new ln(o,0),f=new ln(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{a=a.add(m.Cr)})}),ne.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;Ne.isDocumentKey(u)||(u=u.child(""));const f=new ln(new Ne(u),0);let m=new Xt(Ge);return this.Mr.forEachWhile(g=>{const p=g.key.path;return!!a.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Cr)),!0)},f),ne.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(a=>{const o=this.Or(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){dt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return ne.forEach(n.mutations,o=>{const u=new ln(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,n){const a=new ln(n,0),o=this.Mr.firstAfterOrEqual(a);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.kr=e,this.docs=function(){return new It(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ne.resolve(a?a.document.mutableCopy():Sn.newInvalidDocument(n))}getEntries(e,n){let a=Li();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Sn.newInvalidDocument(o))}),ne.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=Li();const f=n.path,m=new Ne(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||DC(IC(E),a)<=0||(o.has(E.key)||kh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,a,o){xe()}qr(e,n){return ne.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new eI(this)}getSize(e){return ne.resolve(this.size)}}class eI extends Q2{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(a)}),ne.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.persistence=e,this.Qr=new Cs(n=>sg(n),og),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.$r=0,this.Ur=new dg,this.targetCount=0,this.Kr=Mo.Un()}forEachTarget(e,n){return this.Qr.forEach((a,o)=>n(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.$r&&(this.$r=n),ne.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Mo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.zn(n),ne.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const a=this.Qr.get(n)||null;return ne.resolve(a)}addMatchingKeys(e,n,a){return this.Ur.yr(n,a),ne.resolve()}removeMatchingKeys(e,n,a){this.Ur.Sr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Ur.vr(n);return ne.resolve(a)}containsKey(e,n){return ne.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Mh(0),this.zr=!1,this.zr=!0,this.jr=new W2,this.referenceDelegate=e(this),this.Hr=new tI(this),this.indexManager=new z2,this.remoteDocumentCache=function(o){return new J2(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new k2(n),this.Yr=new Y2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new X2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.Wr[e.toKey()];return a||(a=new Z2(n,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,a){pe("MemoryPersistence","Starting transaction:",e);const o=new nI(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return ne.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,n)))}}class nI extends OC{constructor(e){super(),this.currentSequenceNumber=e}}class mg{constructor(e){this.persistence=e,this.ti=new dg,this.ni=null}static ri(e){return new mg(e)}get ii(){if(this.ni)return this.ni;throw xe()}addReference(e,n,a){return this.ti.addReference(a,n),this.ii.delete(a.toString()),ne.resolve()}removeReference(e,n,a){return this.ti.removeReference(a,n),this.ii.add(a.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ne.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ii,a=>{const o=Ne.fromPath(a);return this.si(e,o).next(u=>{u||n.removeEntry(o,Pe.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(a=>{a?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ne.or([()=>ne.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class vh{constructor(e,n){this.persistence=e,this.oi=new Cs(a=>xC(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=G2(this,n)}static ri(e,n){return new vh(e,n)}Zr(){}Xr(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}sr(e){let n=0;return this.rr(e,a=>{n++}).next(()=>n)}rr(e,n){return ne.forEach(this.oi,(a,o)=>this.ar(e,a,o).next(u=>u?ne.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(a++,u.removeEntry(f,Pe.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ne.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xc(e.data.value)),n}ar(e,n,a){return ne.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return ne.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Hi=a,this.Ji=o}static Yi(e,n){let a=We(),o=We();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new gg(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return ZR()?8:MC(bn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new rI;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,a,o){return a.documentReadCount<this.es?(_o()<=Xe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ne.resolve()):(_o()<=Xe.DEBUG&&pe("QueryEngine","Query:",Eo(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(_o()<=Xe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xr(n))):ne.resolve())}rs(e,n){if(o0(n))return ne.resolve(null);let a=Xr(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Dm(n,null,"F"),a=Xr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const f=We(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,a).next(g=>{const p=this.cs(n,m);return this.ls(n,p,f,g.readTime)?this.rs(e,Dm(n,null,"F")):this.hs(e,p,n,g)}))})))}ss(e,n,a,o){return o0(n)||o.isEqual(Pe.min())?ne.resolve(null):this.ns.getDocuments(e,a).next(u=>{const f=this.cs(n,u);return this.ls(n,f,a,o)?ne.resolve(null):(_o()<=Xe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Eo(n)),this.hs(e,f,n,CC(o,ru)).next(m=>m))})}cs(e,n){let a=new Xt(fT(e));return n.forEach((o,u)=>{kh(e,u)&&(a=a.add(u))}),a}ls(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,a){return _o()<=Xe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Eo(n)),this.ns.getDocumentsMatchingQuery(e,n,Ca.min(),a)}hs(e,n,a,o){return this.ns.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="LocalStore",aI=3e8;class sI{constructor(e,n,a,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new It(Ge),this.Is=new Cs(u=>sg(u),og),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function oI(i,e,n,a){return new sI(i,e,n,a)}async function LT(i,e){const n=Ue(i);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],m=[];let g=We();for(const p of o){f.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(a,g).next(p=>({Rs:p,removedBatchIds:f,addedBatchIds:m}))})})}function lI(i,e){const n=Ue(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,g,p,E){const w=p.batch,A=w.keys();let C=ne.resolve();return A.forEach(M=>{C=C.next(()=>E.getEntry(g,M)).next(K=>{const z=p.docVersions.get(M);dt(z!==null),K.version.compareTo(z)<0&&(w.applyToRemoteDocument(K,p),K.isValidDocument()&&(K.setReadTime(p.commitVersion),E.addEntry(K)))})}),C.next(()=>m.mutationQueue.removeMutationBatch(g,w))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let g=We();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function PT(i){const e=Ue(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function uI(i,e){const n=Ue(i),a=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,w)=>{const A=o.get(w);if(!A)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,w)));let C=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken(yn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):E.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(E.resumeToken,a)),o=o.insert(w,C),function(K,z,X){return K.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=aI?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(A,C,E)&&m.push(n.Hr.updateTargetData(u,C))});let g=Li(),p=We();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(cI(u,f,e.documentUpdates).next(E=>{g=E.Vs,p=E.fs})),!a.isEqual(Pe.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(w=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(E)}return ne.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,p)).next(()=>g)}).then(u=>(n.Ts=o,u))}function cI(i,e,n){let a=We(),o=We();return n.forEach(u=>a=a.add(u)),e.getEntries(i,a).next(u=>{let f=Li();return n.forEach((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Pe.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):pe(pg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)}),{Vs:f,fs:o}})}function hI(i,e){const n=Ue(i);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=rg),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function fI(i,e){const n=Ue(i);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Hr.getTargetData(a,e).next(u=>u?(o=u,ne.resolve(o)):n.Hr.allocateTargetId(a).next(f=>(o=new Ea(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(a.targetId,a),n.Is.set(e,a.targetId)),a})}async function xm(i,e,n){const a=Ue(i),o=a.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!zo(f))throw f;pe(pg,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ts=a.Ts.remove(e),a.Is.delete(o.target)}function E0(i,e,n){const a=Ue(i);let o=Pe.min(),u=We();return a.persistence.runTransaction("Execute query","readwrite",f=>function(g,p,E){const w=Ue(g),A=w.Is.get(E);return A!==void 0?ne.resolve(w.Ts.get(A)):w.Hr.getTargetData(p,E)}(a,f,Xr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>a.Ps.getDocumentsMatchingQuery(f,e,n?o:Pe.min(),n?u:We())).next(m=>(dI(a,JC(e),m),{documents:m,gs:u})))}function dI(i,e,n){let a=i.Es.get(e)||Pe.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),i.Es.set(e,a)}class T0{constructor(){this.activeTargetIds=a2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mI{constructor(){this.ho=new T0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,a){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new T0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="ConnectivityMonitor";class S0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pe(w0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pe(w0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc=null;function Lm(){return Fc===null?Fc=function(){return 268435456+Math.round(2147483648*Math.random())}():Fc++,"0x"+Fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="RestConnection",pI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yI{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===hh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(e,n,a,o,u){const f=Lm(),m=this.bo(e,n.toUriEncodedString());pe(um,`Sending RPC '${e}' ${f}:`,m,a);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,u),this.vo(e,m,g,a).then(p=>(pe(um,`Received RPC '${e}' ${f}: `,p),p),p=>{throw Io(um,`RPC '${e}' ${f} failed with error: `,p,"url: ",m,"request:",a),p})}Co(e,n,a,o,u,f){return this.So(e,n,a,o,u)}Do(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ko}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const a=pI[e];return`${this.po}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="WebChannelConnection";class _I extends yI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,a,o){const u=Lm();return new Promise((f,m)=>{const g=new BE;g.setWithCredentials(!0),g.listenOnce(jE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Yc.NO_ERROR:const E=g.getResponseJson();pe(Tn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Yc.TIMEOUT:pe(Tn,`RPC '${e}' ${u} timed out`),m(new _e(re.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const w=g.getStatus();if(pe(Tn,`RPC '${e}' ${u} failed with status:`,w,"response text:",g.getResponseText()),w>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const C=A==null?void 0:A.error;if(C&&C.status&&C.message){const M=function(z){const X=z.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(X)>=0?X:re.UNKNOWN}(C.status);m(new _e(M,C.message))}else m(new _e(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new _e(re.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{pe(Tn,`RPC '${e}' ${u} completed.`)}});const p=JSON.stringify(o);pe(Tn,`RPC '${e}' ${u} sending request:`,o),g.send(n,"POST",p,a,15)})}Wo(e,n,a){const o=Lm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=FE(),m=qE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,n,a),g.encodeInitMessageHeaders=!0;const E=u.join("");pe(Tn,`Creating RPC '${e}' stream ${o}: ${E}`,g);const w=f.createWebChannel(E,g);let A=!1,C=!1;const M=new vI({Fo:z=>{C?pe(Tn,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(A||(pe(Tn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),pe(Tn,`RPC '${e}' stream ${o} sending:`,z),w.send(z))},Mo:()=>w.close()}),K=(z,X,J)=>{z.listen(X,ae=>{try{J(ae)}catch(ge){setTimeout(()=>{throw ge},0)}})};return K(w,Gl.EventType.OPEN,()=>{C||(pe(Tn,`RPC '${e}' stream ${o} transport opened.`),M.Qo())}),K(w,Gl.EventType.CLOSE,()=>{C||(C=!0,pe(Tn,`RPC '${e}' stream ${o} transport closed`),M.Uo())}),K(w,Gl.EventType.ERROR,z=>{C||(C=!0,Io(Tn,`RPC '${e}' stream ${o} transport errored:`,z),M.Uo(new _e(re.UNAVAILABLE,"The operation could not be completed")))}),K(w,Gl.EventType.MESSAGE,z=>{var X;if(!C){const J=z.data[0];dt(!!J);const ae=J,ge=(ae==null?void 0:ae.error)||((X=ae[0])===null||X===void 0?void 0:X.error);if(ge){pe(Tn,`RPC '${e}' stream ${o} received error:`,ge);const k=ge.status;let oe=function(b){const D=qt[b];if(D!==void 0)return ST(D)}(k),O=ge.message;oe===void 0&&(oe=re.INTERNAL,O="Unknown error status: "+k+" with message "+ge.message),C=!0,M.Uo(new _e(oe,O)),w.close()}else pe(Tn,`RPC '${e}' stream ${o} received:`,J),M.Ko(J)}}),K(m,HE.STAT_EVENT,z=>{z.stat===wm.PROXY?pe(Tn,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===wm.NOPROXY&&pe(Tn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(i){return new S2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=a,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-a);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="PersistentStream";class UT{constructor(e,n,a,o,u,f,m,g){this.Ti=e,this.n_=a,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new kT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(xi(n.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===n&&this.V_(a,o)},a=>{e(()=>{const o=new _e(re.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(e,n){const a=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return pe(b0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(pe(b0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EI extends UT{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=R2(this.serializer,e),a=function(u){if(!("targetChange"in u))return Pe.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Pe.min():f.readTime?Zr(f.readTime):Pe.min()}(e);return this.listener.p_(n,a)}y_(e){const n={};n.database=Vm(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=Cm(g)?{documents:D2(u,g)}:{query:N2(u,g).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=RT(u,f.resumeToken);const p=Nm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(Pe.min())>0){m.readTime=yh(u,f.snapshotVersion.toTimestamp());const p=Nm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const a=M2(this.serializer,e);a&&(n.labels=a),this.I_(n)}w_(e){const n={};n.database=Vm(this.serializer),n.removeTarget=e,this.I_(n)}}class TI extends UT{constructor(e,n,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return dt(!!e.streamToken),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=I2(e.writeResults,e.commitTime),a=Zr(e.commitTime);return this.listener.v_(a,n)}C_(){const e={};e.database=Vm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>C2(this.serializer,a))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{}class SI extends wI{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,Om(n,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(re.UNKNOWN,u.toString())})}Co(e,n,a,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Om(n,a),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new _e(re.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class bI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(xi(n),this.N_=!1):pe("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="RemoteStore";class AI{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{a.enqueueAndForget(async()=>{Ds(this)&&(pe(Es,"Restarting streams for network reachability change."),await async function(g){const p=Ue(g);p.W_.add(4),await _u(p),p.j_.set("Unknown"),p.W_.delete(4),await Hh(p)}(this))})}),this.j_=new bI(a,o)}}async function Hh(i){if(Ds(i))for(const e of i.G_)await e(!0)}async function _u(i){for(const e of i.G_)await e(!1)}function zT(i,e){const n=Ue(i);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Eg(n)?_g(n):Bo(n).c_()&&vg(n,e))}function yg(i,e){const n=Ue(i),a=Bo(n);n.K_.delete(e),a.c_()&&BT(n,e),n.K_.size===0&&(a.c_()?a.P_():Ds(n)&&n.j_.set("Unknown"))}function vg(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bo(i).y_(e)}function BT(i,e){i.H_.Ne(e),Bo(i).w_(e)}function _g(i){i.H_=new _2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Bo(i).start(),i.j_.B_()}function Eg(i){return Ds(i)&&!Bo(i).u_()&&i.K_.size>0}function Ds(i){return Ue(i).W_.size===0}function jT(i){i.H_=void 0}async function RI(i){i.j_.set("Online")}async function CI(i){i.K_.forEach((e,n)=>{vg(i,e)})}async function II(i,e){jT(i),Eg(i)?(i.j_.q_(e),_g(i)):i.j_.set("Unknown")}async function DI(i,e,n){if(i.j_.set("Online"),e instanceof AT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(a){pe(Es,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await _h(i,a)}else if(e instanceof Jc?i.H_.We(e):e instanceof bT?i.H_.Ze(e):i.H_.je(e),!n.isEqual(Pe.min()))try{const a=await PT(i.localStore);n.compareTo(a)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.K_.get(p);E&&u.K_.set(p,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,p)=>{const E=u.K_.get(g);if(!E)return;u.K_.set(g,E.withResumeToken(yn.EMPTY_BYTE_STRING,E.snapshotVersion)),BT(u,g);const w=new Ea(E.target,g,p,E.sequenceNumber);vg(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(a){pe(Es,"Failed to raise snapshot:",a),await _h(i,a)}}async function _h(i,e,n){if(!zo(e))throw e;i.W_.add(1),await _u(i),i.j_.set("Offline"),n||(n=()=>PT(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{pe(Es,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await Hh(i)})}function HT(i,e){return e().catch(n=>_h(i,n,e))}async function qh(i){const e=Ue(i),n=Oa(e);let a=e.U_.length>0?e.U_[e.U_.length-1].batchId:rg;for(;NI(e);)try{const o=await hI(e.localStore,a);if(o===null){e.U_.length===0&&n.P_();break}a=o.batchId,OI(e,o)}catch(o){await _h(e,o)}qT(e)&&FT(e)}function NI(i){return Ds(i)&&i.U_.length<10}function OI(i,e){i.U_.push(e);const n=Oa(i);n.c_()&&n.S_&&n.b_(e.mutations)}function qT(i){return Ds(i)&&!Oa(i).u_()&&i.U_.length>0}function FT(i){Oa(i).start()}async function MI(i){Oa(i).C_()}async function VI(i){const e=Oa(i);for(const n of i.U_)e.b_(n.mutations)}async function xI(i,e,n){const a=i.U_.shift(),o=cg.from(a,e,n);await HT(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await qh(i)}async function LI(i,e){e&&Oa(i).S_&&await async function(a,o){if(function(f){return y2(f)&&f!==re.ABORTED}(o.code)){const u=a.U_.shift();Oa(a).h_(),await HT(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await qh(a)}}(i,e),qT(i)&&FT(i)}async function A0(i,e){const n=Ue(i);n.asyncQueue.verifyOperationInProgress(),pe(Es,"RemoteStore received new credentials");const a=Ds(n);n.W_.add(3),await _u(n),a&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Hh(n)}async function PI(i,e){const n=Ue(i);e?(n.W_.delete(2),await Hh(n)):e||(n.W_.add(2),await _u(n),n.j_.set("Unknown"))}function Bo(i){return i.J_||(i.J_=function(n,a,o){const u=Ue(n);return u.M_(),new EI(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:RI.bind(null,i),No:CI.bind(null,i),Lo:II.bind(null,i),p_:DI.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Eg(i)?_g(i):i.j_.set("Unknown")):(await i.J_.stop(),jT(i))})),i.J_}function Oa(i){return i.Y_||(i.Y_=function(n,a,o){const u=Ue(n);return u.M_(),new TI(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:MI.bind(null,i),Lo:LI.bind(null,i),D_:VI.bind(null,i),v_:xI.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await qh(i)):(await i.Y_.stop(),i.U_.length>0&&(pe(Es,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,m=new Tg(e,n,f,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wg(i,e){if(xi("AsyncQueue",`${e}: ${i}`),zo(i))return new _e(re.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{static emptySet(e){return new So(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Ne.comparator(n.key,a.key):(n,a)=>Ne.comparator(n.key,a.key),this.keyedMap=Ql(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof So)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new So;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(){this.Z_=new It(Ne.comparator)}track(e){const n=e.doc.key,a=this.Z_.get(n);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(n):e.type===1&&a.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):xe():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,a)=>{e.push(a)}),e}}class Vo{constructor(e,n,a,o,u,f,m,g,p){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Vo(e,n,So.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class UI{constructor(){this.queries=C0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,a){const o=Ue(n),u=o.queries;o.queries=C0(),u.forEach((f,m)=>{for(const g of m.ta)g.onError(a)})})(this,new _e(re.ABORTED,"Firestore shutting down"))}}function C0(){return new Cs(i=>hT(i),Ph)}async function Sg(i,e){const n=Ue(i);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(a=2):(u=new kI,a=e.ra()?0:1);try{switch(a){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=wg(f,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Ag(n)}async function bg(i,e){const n=Ue(i),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function zI(i,e){const n=Ue(i);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(a=!0);f.ea=o}}a&&Ag(n)}function BI(i,e,n){const a=Ue(i),o=a.queries.get(e);if(o)for(const u of o.ta)u.onError(n);a.queries.delete(e)}function Ag(i){i.ia.forEach(e=>{e.next()})}var Pm,I0;(I0=Pm||(Pm={}))._a="default",I0.Cache="cache";class Rg{constructor(e,n,a){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Vo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const a=n!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e){this.key=e}}class QT{constructor(e){this.key=e}}class jI{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=We(),this.mutatedKeys=We(),this.ya=fT(e),this.wa=new So(this.ya)}get Sa(){return this.fa}ba(e,n){const a=n?n.Da:new R0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const A=o.get(E),C=kh(this.query,w)?w:null,M=!!A&&this.mutatedKeys.has(A.key),K=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let z=!1;A&&C?A.data.isEqual(C.data)?M!==K&&(a.track({type:3,doc:C}),z=!0):this.va(A,C)||(a.track({type:2,doc:C}),z=!0,(g&&this.ya(C,g)>0||p&&this.ya(C,p)<0)&&(m=!0)):!A&&C?(a.track({type:0,doc:C}),z=!0):A&&!C&&(a.track({type:1,doc:A}),z=!0,(g||p)&&(m=!0)),z&&(C?(f=f.add(C),u=K?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{wa:f,Da:a,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,w)=>function(C,M){const K=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return K(C)-K(M)}(E.type,w.type)||this.ya(E.doc,w.doc)),this.Ca(a),o=o!=null&&o;const m=n&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,p=g!==this.ga;return this.ga=g,f.length!==0||p?{snapshot:new Vo(this.query,e.wa,u,f,e.mutatedKeys,g===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new R0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=We(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const n=[];return e.forEach(a=>{this.pa.has(a)||n.push(new QT(a))}),this.pa.forEach(a=>{e.has(a)||n.push(new GT(a))}),n}Oa(e){this.fa=e.gs,this.pa=We();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Vo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Cg="SyncEngine";class HI{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class qI{constructor(e){this.key=e,this.Ba=!1}}class FI{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Cs(m=>hT(m),Ph),this.qa=new Map,this.Qa=new Set,this.$a=new It(Ne.comparator),this.Ua=new Map,this.Ka=new dg,this.Wa={},this.Ga=new Map,this.za=Mo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function GI(i,e,n=!0){const a=ZT(i);let o;const u=a.ka.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await KT(a,e,n,!0),o}async function QI(i,e){const n=ZT(i);await KT(n,e,!0,!1)}async function KT(i,e,n,a){const o=await fI(i.localStore,Xr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await KI(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&zT(i.remoteStore,o),m}async function KI(i,e,n,a,o){i.Ha=(w,A,C)=>async function(K,z,X,J){let ae=z.view.ba(X);ae.ls&&(ae=await E0(K.localStore,z.query,!1).then(({documents:O})=>z.view.ba(O,ae)));const ge=J&&J.targetChanges.get(z.targetId),k=J&&J.targetMismatches.get(z.targetId)!=null,oe=z.view.applyChanges(ae,K.isPrimaryClient,ge,k);return N0(K,z.targetId,oe.Ma),oe.snapshot}(i,w,A,C);const u=await E0(i.localStore,e,!0),f=new jI(e,u.gs),m=f.ba(u.documents),g=vu.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",o),p=f.applyChanges(m,i.isPrimaryClient,g);N0(i,n,p.Ma);const E=new HI(e,n,f);return i.ka.set(e,E),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),p.snapshot}async function $I(i,e,n){const a=Ue(i),o=a.ka.get(e),u=a.qa.get(o.targetId);if(u.length>1)return a.qa.set(o.targetId,u.filter(f=>!Ph(f,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await xm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&yg(a.remoteStore,o.targetId),km(a,o.targetId)}).catch(Uo)):(km(a,o.targetId),await xm(a.localStore,o.targetId,!0))}async function YI(i,e){const n=Ue(i),a=n.ka.get(e),o=n.qa.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),yg(n.remoteStore,a.targetId))}async function XI(i,e,n){const a=rD(i);try{const o=await function(f,m){const g=Ue(f),p=Yt.now(),E=m.reduce((C,M)=>C.add(M.key),We());let w,A;return g.persistence.runTransaction("Locally write mutations","readwrite",C=>{let M=Li(),K=We();return g.ds.getEntries(C,E).next(z=>{M=z,M.forEach((X,J)=>{J.isValidDocument()||(K=K.add(X))})}).next(()=>g.localDocuments.getOverlayedDocuments(C,M)).next(z=>{w=z;const X=[];for(const J of m){const ae=f2(J,w.get(J.key).overlayedDocument);ae!=null&&X.push(new Is(J.key,ae,rT(ae.value.mapValue),Wr.exists(!0)))}return g.mutationQueue.addMutationBatch(C,p,X,m)}).next(z=>{A=z;const X=z.applyToLocalDocumentSet(w,K);return g.documentOverlayCache.saveOverlays(C,z.batchId,X)})}).then(()=>({batchId:A.batchId,changes:mT(w)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(f,m,g){let p=f.Wa[f.currentUser.toKey()];p||(p=new It(Ge)),p=p.insert(m,g),f.Wa[f.currentUser.toKey()]=p}(a,o.batchId,n),await Eu(a,o.changes),await qh(a.remoteStore)}catch(o){const u=wg(o,"Failed to persist write");n.reject(u)}}async function $T(i,e){const n=Ue(i);try{const a=await uI(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(dt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?dt(f.Ba):o.removedDocuments.size>0&&(dt(f.Ba),f.Ba=!1))}),await Eu(n,a,e)}catch(a){await Uo(a)}}function D0(i,e,n){const a=Ue(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=Ue(f);g.onlineState=m;let p=!1;g.queries.forEach((E,w)=>{for(const A of w.ta)A.sa(m)&&(p=!0)}),p&&Ag(g)}(a.eventManager,e),o.length&&a.La.p_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function WI(i,e,n){const a=Ue(i);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Ua.get(e),u=o&&o.key;if(u){let f=new It(Ne.comparator);f=f.insert(u,Sn.newNoDocument(u,Pe.min()));const m=We().add(u),g=new Bh(Pe.min(),new Map,new It(Ge),f,m);await $T(a,g),a.$a=a.$a.remove(u),a.Ua.delete(e),Ig(a)}else await xm(a.localStore,e,!1).then(()=>km(a,e,n)).catch(Uo)}async function ZI(i,e){const n=Ue(i),a=e.batch.batchId;try{const o=await lI(n.localStore,e);XT(n,a,null),YT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Eu(n,o)}catch(o){await Uo(o)}}async function JI(i,e,n){const a=Ue(i);try{const o=await function(f,m){const g=Ue(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next(w=>(dt(w!==null),E=w.keys(),g.mutationQueue.removeMutationBatch(p,w))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E)).next(()=>g.localDocuments.getDocuments(p,E))})}(a.localStore,e);XT(a,e,n),YT(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Eu(a,o)}catch(o){await Uo(o)}}function YT(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function XT(i,e,n){const a=Ue(i);let o=a.Wa[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Wa[a.currentUser.toKey()]=o}}function km(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.qa.get(e))i.ka.delete(a),n&&i.La.Ja(a,n);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(a=>{i.Ka.containsKey(a)||WT(i,a)})}function WT(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(yg(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ua.delete(n),Ig(i))}function N0(i,e,n){for(const a of n)a instanceof GT?(i.Ka.addReference(a.key,e),eD(i,a)):a instanceof QT?(pe(Cg,"Document no longer in limbo: "+a.key),i.Ka.removeReference(a.key,e),i.Ka.containsKey(a.key)||WT(i,a.key)):xe()}function eD(i,e){const n=e.key,a=n.path.canonicalString();i.$a.get(n)||i.Qa.has(a)||(pe(Cg,"New document in limbo: "+n),i.Qa.add(a),Ig(i))}function Ig(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new Ne(St.fromString(e)),a=i.za.next();i.Ua.set(a,new qI(n)),i.$a=i.$a.insert(n,a),zT(i.remoteStore,new Ea(Xr(Lh(n.path)),a,"TargetPurposeLimboResolution",Mh.ae))}}async function Eu(i,e,n){const a=Ue(i),o=[],u=[],f=[];a.ka.isEmpty()||(a.ka.forEach((m,g)=>{f.push(a.Ha(g,e,n).then(p=>{var E;if((p||n)&&a.isPrimaryClient){const w=p?!p.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(p){o.push(p);const w=gg.Yi(g.targetId,p);u.push(w)}}))}),await Promise.all(f),a.La.p_(o),await async function(g,p){const E=Ue(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ne.forEach(p,A=>ne.forEach(A.Hi,C=>E.persistence.referenceDelegate.addReference(w,A.targetId,C)).next(()=>ne.forEach(A.Ji,C=>E.persistence.referenceDelegate.removeReference(w,A.targetId,C)))))}catch(w){if(!zo(w))throw w;pe(pg,"Failed to update sequence numbers: "+w)}for(const w of p){const A=w.targetId;if(!w.fromCache){const C=E.Ts.get(A),M=C.snapshotVersion,K=C.withLastLimboFreeSnapshotVersion(M);E.Ts=E.Ts.insert(A,K)}}}(a.localStore,u))}async function tD(i,e){const n=Ue(i);if(!n.currentUser.isEqual(e)){pe(Cg,"User change. New user:",e.toKey());const a=await LT(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(g=>{g.reject(new _e(re.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Eu(n,a.Rs)}}function nD(i,e){const n=Ue(i),a=n.Ua.get(e);if(a&&a.Ba)return We().add(a.key);{let o=We();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function ZT(i){const e=Ue(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=$T.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WI.bind(null,e),e.La.p_=zI.bind(null,e.eventManager),e.La.Ja=BI.bind(null,e.eventManager),e}function rD(i){const e=Ue(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JI.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return oI(this.persistence,new iI,e.initialUser,this.serializer)}Xa(e){return new xT(mg.ri,this.serializer)}Za(e){return new mI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class iD extends Eh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){dt(this.persistence.referenceDelegate instanceof vh);const a=this.persistence.referenceDelegate.garbageCollector;return new q2(a,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new xT(a=>vh.ri(a,n),this.serializer)}}class Um{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>D0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=tD.bind(null,this.syncEngine),await PI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UI}()}createDatastore(e){const n=jh(e.databaseInfo.databaseId),a=function(u){return new _I(u)}(e.databaseInfo);return function(u,f,m,g){return new SI(u,f,m,g)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,f,m){return new AI(a,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>D0(this.syncEngine,n,0),function(){return S0.D()?new S0:new gI}())}createSyncEngine(e,n){return function(o,u,f,m,g,p,E){const w=new FI(o,u,f,m,g,p);return E&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ue(o);pe(Es,"RemoteStore shutting down."),u.W_.add(5),await _u(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Um.provider={build:()=>new Um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="FirestoreClient";class aD{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=wn.UNAUTHENTICATED,this.clientId=KE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{pe(Ma,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(pe(Ma,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=wg(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function hm(i,e){i.asyncQueue.verifyOperationInProgress(),pe(Ma,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener(async o=>{a.isEqual(o)||(await LT(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function O0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await sD(i);pe(Ma,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(a=>A0(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,o)=>A0(e.remoteStore,o)),i._onlineComponents=e}async function sD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){pe(Ma,"Using user provided OfflineComponentProvider");try{await hm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Io("Error using user provided cache. Falling back to memory cache: "+n),await hm(i,new Eh)}}else pe(Ma,"Using default OfflineComponentProvider"),await hm(i,new iD(void 0));return i._offlineComponents}async function JT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(pe(Ma,"Using user provided OnlineComponentProvider"),await O0(i,i._uninitializedComponentsProvider._online)):(pe(Ma,"Using default OnlineComponentProvider"),await O0(i,new Um))),i._onlineComponents}function oD(i){return JT(i).then(e=>e.syncEngine)}async function Th(i){const e=await JT(i),n=e.eventManager;return n.onListen=GI.bind(null,e.syncEngine),n.onUnlisten=$I.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=QI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YI.bind(null,e.syncEngine),n}function lD(i,e,n={}){const a=new Mi;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,p){const E=new Dg({next:A=>{E.su(),f.enqueueAndForget(()=>bg(u,w));const C=A.docs.has(m);!C&&A.fromCache?p.reject(new _e(re.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&A.fromCache&&g&&g.source==="server"?p.reject(new _e(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),w=new Rg(Lh(m.path),E,{includeMetadataChanges:!0,Ta:!0});return Sg(u,w)}(await Th(i),i.asyncQueue,e,n,a)),a.promise}function uD(i,e,n={}){const a=new Mi;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,p){const E=new Dg({next:A=>{E.su(),f.enqueueAndForget(()=>bg(u,w)),A.fromCache&&g.source==="server"?p.reject(new _e(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),w=new Rg(m,E,{includeMetadataChanges:!0,Ta:!0});return Sg(u,w)}(await Th(i),i.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(i,e,n){if(!n)throw new _e(re.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function cD(i,e,n,a){if(e===!0&&a===!0)throw new _e(re.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function V0(i){if(!Ne.isDocumentKey(i))throw new _e(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function x0(i){if(Ne.isDocumentKey(i))throw new _e(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Fh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":xe()}function Cr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new _e(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fh(i);throw new _e(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="firestore.googleapis.com",L0=!0;class P0{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nw,this.ssl=L0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:L0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<j2)throw new _e(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ew((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gh{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new vC;switch(a.type){case"firstParty":return new wC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new _e(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=M0.get(n);a&&(pe("ComponentProvider","Removing Datastore"),M0.delete(n),a.terminate())}(this),Promise.resolve()}}function hD(i,e,n,a={}){var o;const u=(i=Cr(i,Gh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==nw&&u.host!==m&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:a});if(!ys(g,f)&&(i._setSettings(g),a.mockUserToken)){let p,E;if(typeof a.mockUserToken=="string")p=a.mockUserToken,E=wn.MOCK_USER;else{p=GR(a.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new _e(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new wn(w)}i._authCredentials=new _C(new GE(p,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ns(this.firestore,e,this._query)}}class On{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class Aa extends Ns{constructor(e,n,a){super(e,n,Lh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new Ne(e))}withConverter(e){return new Aa(this.firestore,e,this._path)}}function Ng(i,e,...n){if(i=Qn(i),tw("collection","path",e),i instanceof Gh){const a=St.fromString(e,...n);return x0(a),new Aa(i,null,a)}{if(!(i instanceof On||i instanceof Aa))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(St.fromString(e,...n));return x0(a),new Aa(i.firestore,null,a)}}function wh(i,e,...n){if(i=Qn(i),arguments.length===1&&(e=KE.newId()),tw("doc","path",e),i instanceof Gh){const a=St.fromString(e,...n);return V0(a),new On(i,null,new Ne(a))}{if(!(i instanceof On||i instanceof Aa))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(St.fromString(e,...n));return V0(a),new On(i.firestore,i instanceof Aa?i.converter:null,new Ne(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="AsyncQueue";class U0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new kT(this,"async_queue_retry"),this.Su=()=>{const a=cm();a&&pe(k0,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const n=cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Mi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!zo(e))throw e;pe(k0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(a);throw xi("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=n,n}enqueueAfterDelay(e,n,a){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Tg.createAndSchedule(this,e,n,a,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&xe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function z0(i){return function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class Ts extends Gh{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new U0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new U0(e),this._firestoreClient=void 0,await e}}}function fD(i,e){const n=typeof i=="object"?i:PE(),a=typeof i=="string"?i:hh,o=tg(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=qR("firestore");u&&hD(o,...u)}return o}function Qh(i){if(i._terminated)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||dD(i),i._firestoreClient}function dD(i){var e,n,a;const o=i._freezeSettings(),u=function(m,g,p,E){return new kC(m,g,p,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,ew(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new aD(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xo(yn.fromBase64String(e))}catch(n){throw new _e(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xo(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=/^__.*__$/;class gD{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Is(e,this.data,this.fieldMask,n,this.fieldTransforms):new yu(e,this.data,n,this.fieldTransforms)}}function iw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class xg{constructor(e,n,a,o,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new xg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:a,Qu:!1});return o.$u(e),o}Uu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Sh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(iw(this.Lu)&&mD.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class pD{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||jh(e)}ju(e,n,a,o=!1){return new xg({Lu:e,methodName:n,zu:a,path:gn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aw(i){const e=i._freezeSettings(),n=jh(i._databaseId);return new pD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function yD(i,e,n,a,o,u={}){const f=i.ju(u.merge||u.mergeFields?2:0,e,n,o);lw("Data must be an object, but it was:",f,a);const m=sw(a,f);let g,p;if(u.merge)g=new Rr(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const A=_D(e,w,n);if(!f.contains(A))throw new _e(re.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);TD(E,A)||E.push(A)}g=new Rr(E),p=f.fieldTransforms.filter(w=>g.covers(w.field))}else g=null,p=f.fieldTransforms;return new gD(new dr(m),g,p)}function vD(i,e,n,a=!1){return Lg(n,i.ju(a?4:3,e))}function Lg(i,e){if(ow(i=Qn(i)))return lw("Unsupported field value:",e,i),sw(i,e);if(i instanceof rw)return function(a,o){if(!iw(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,o){const u=[];let f=0;for(const m of a){let g=Lg(m,o.Ku(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(i,e)}return function(a,o){if((a=Qn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return s2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Yt.fromDate(a);return{timestampValue:yh(o.serializer,u)}}if(a instanceof Yt){const u=new Yt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:yh(o.serializer,u)}}if(a instanceof Mg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof xo)return{bytesValue:RT(o.serializer,a._byteString)};if(a instanceof On){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:fg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Vg)return function(f,m){return{mapValue:{fields:{[tT]:{stringValue:nT},[fh]:{arrayValue:{values:f.toArray().map(p=>{if(typeof p!="number")throw m.Wu("VectorValues must only contain numeric values.");return lg(m.serializer,p)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${Fh(a)}`)}(i,e)}function sw(i,e){const n={};return YE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(i,(a,o)=>{const u=Lg(o,e.qu(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function ow(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Yt||i instanceof Mg||i instanceof xo||i instanceof On||i instanceof rw||i instanceof Vg)}function lw(i,e,n){if(!ow(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=Fh(n);throw a==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+a)}}function _D(i,e,n){if((e=Qn(e))instanceof Og)return e._internalPath;if(typeof e=="string")return uw(i,e);throw Sh("Field path arguments must be of type string or ",i,!1,void 0,n)}const ED=new RegExp("[~\\*/\\[\\]]");function uw(i,e,n){if(e.search(ED)>=0)throw Sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Og(...e.split("."))._internalPath}catch{throw Sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Sh(i,e,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${a}`),f&&(g+=` in document ${o}`),g+=")"),new _e(re.INVALID_ARGUMENT,m+i+g)}function TD(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wD extends cw{data(){return super.data()}}function hw(i,e){return typeof e=="string"?uw(i,e):e instanceof Og?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new _e(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pg{}class SD extends Pg{}function bD(i,e,...n){let a=[];e instanceof Pg&&a.push(e),a=a.concat(n),function(u){const f=u.filter(g=>g instanceof Ug).length,m=u.filter(g=>g instanceof kg).length;if(f>1||f>0&&m>0)throw new _e(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)i=o._apply(i);return i}class kg extends SD{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new kg(e,n,a)}_apply(e){const n=this._parse(e);return dw(e._query,n),new Ns(e.firestore,e.converter,Im(e._query,n))}_parse(e){const n=aw(e.firestore);return function(u,f,m,g,p,E,w){let A;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new _e(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){j0(w,E);const M=[];for(const K of w)M.push(B0(g,u,K));A={arrayValue:{values:M}}}else A=B0(g,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||j0(w,E),A=vD(m,f,w,E==="in"||E==="not-in");return Ft.create(p,E,A)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ug extends Pg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ug(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:Dr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)dw(f,g),f=Im(f,g)}(e._query,n),new Ns(e.firestore,e.converter,Im(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function B0(i,e,n){if(typeof(n=Qn(n))=="string"){if(n==="")throw new _e(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cT(e)&&n.indexOf("/")!==-1)throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(St.fromString(n));if(!Ne.isDocumentKey(a))throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return t0(i,new Ne(a))}if(n instanceof On)return t0(i,n._key);throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fh(n)}.`)}function j0(i,e){if(!Array.isArray(i)||i.length===0)throw new _e(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dw(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new _e(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AD{convertValue(e,n="none"){switch(Na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Rs(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n[fh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(f=>kt(f.doubleValue));return new Vg(u)}convertGeoPoint(e){return new Mg(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=xh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const n=Ia(e);return new Yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=St.fromString(e);dt(MT(a));const o=new au(a.get(1),a.get(3)),u=new Ne(a.popFirst(5));return o.isEqual(n)||xi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(i,e,n){let a;return a=i?i.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mw extends cw{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(hw("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class eh extends mw{data(e={}){return super.data(e)}}class gw{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new $l(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new eh(this._firestore,this._userDataWriter,a.key,a,new $l(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const g=new eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $l(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $l(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:CD(m.type),doc:g,oldIndex:p,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function CD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(i){i=Cr(i,On);const e=Cr(i.firestore,Ts);return lD(Qh(e),i._key).then(n=>vw(e,i,n))}class zg extends AD{constructor(e){super(),this.firestore=e}convertBytes(e){return new xo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,n)}}function pw(i){i=Cr(i,Ns);const e=Cr(i.firestore,Ts),n=Qh(e),a=new zg(e);return fw(i._query),uD(n,i._query).then(o=>new gw(e,a,i,o))}function Bg(i,e,n){i=Cr(i,On);const a=Cr(i.firestore,Ts),o=RD(i.converter,e);return yw(a,[yD(aw(a),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Wr.none())])}function DD(i){return yw(Cr(i.firestore,Ts),[new ug(i._key,Wr.none())])}function ND(i,...e){var n,a,o;i=Qn(i);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||z0(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(z0(e[f])){const w=e[f];e[f]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[f+1]=(a=w.error)===null||a===void 0?void 0:a.bind(w),e[f+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let g,p,E;if(i instanceof On)p=Cr(i.firestore,Ts),E=Lh(i._key.path),g={next:w=>{e[f]&&e[f](vw(p,i,w))},error:e[f+1],complete:e[f+2]};else{const w=Cr(i,Ns);p=Cr(w.firestore,Ts),E=w._query;const A=new zg(p);g={next:C=>{e[f]&&e[f](new gw(p,A,w,C))},error:e[f+1],complete:e[f+2]},fw(i._query)}return function(A,C,M,K){const z=new Dg(K),X=new Rg(C,z,M);return A.asyncQueue.enqueueAndForget(async()=>Sg(await Th(A),X)),()=>{z.su(),A.asyncQueue.enqueueAndForget(async()=>bg(await Th(A),X))}}(Qh(p),E,m,g)}function yw(i,e){return function(a,o){const u=new Mi;return a.asyncQueue.enqueueAndForget(async()=>XI(await oD(a),o,u)),u.promise}(Qh(i),e)}function vw(i,e,n){const a=n.docs.get(e._key),o=new zg(i);return new mw(i,o,e._key,a,new $l(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){ko=o})(Po),Co(new vs("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new Ts(new EC(a.getProvider("auth-internal")),new SC(f,a.getProvider("app-check-internal")),function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new _e(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(p.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Sa(q_,F_,e),Sa(q_,F_,"esm2017")})();const OD={apiKey:"AIzaSyBk9haiRs4KbK5dCZPYB51xvJAtgdQ1N5s",authDomain:"notes-app-vn01.firebaseapp.com",projectId:"notes-app-vn01",storageBucket:"notes-app-vn01.firebasestorage.app",messagingSenderId:"570934402735",appId:"1:570934402735:web:1b5f00dab0e9c8eb493e5a"},_w=LE(OD),ws=fD(_w);function jg(i,e){var n={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&e.indexOf(a)<0&&(n[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(i);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(i,a[o])&&(n[a[o]]=i[a[o]]);return n}function Ew(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MD=Ew,Tw=new mu("auth","Firebase",Ew());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Jm("@firebase/auth");function VD(i,...e){bh.logLevel<=Xe.WARN&&bh.warn(`Auth (${Po}): ${i}`,...e)}function th(i,...e){bh.logLevel<=Xe.ERROR&&bh.error(`Auth (${Po}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(i,...e){throw qg(i,...e)}function Ir(i,...e){return qg(i,...e)}function Hg(i,e,n){const a=Object.assign(Object.assign({},MD()),{[e]:n});return new mu("auth","Firebase",a).create(e,{appName:i.name})}function ps(i){return Hg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xD(i,e,n){const a=n;if(!(e instanceof a))throw a.name!==e.constructor.name&&ti(i,"argument-error"),Hg(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qg(i,...e){if(typeof i!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(n,...a)}return Tw.create(i,...e)}function Le(i,e,...n){if(!i)throw qg(e,...n)}function Di(i){const e="INTERNAL ASSERTION FAILED: "+i;throw th(e),new Error(e)}function Pi(i,e){i||Di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function LD(){return H0()==="http:"||H0()==="https:"}function H0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LD()||YR()||"connection"in navigator)?navigator.onLine:!0}function kD(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pi(n>e,"Short delay should be less than long delay!"),this.isMobile=QR()||XR()}get(){return PD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(i,e){Pi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=new Tu(3e4,6e4);function Gg(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function jo(i,e,n,a,o={}){return Sw(i,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const m=gu(Object.assign({key:i.config.apiKey},f)).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const p=Object.assign({method:e,headers:g},u);return $R()||(p.referrerPolicy="no-referrer"),ww.fetch()(bw(i,i.config.apiHost,n,m),p)})}async function Sw(i,e,n){i._canInitEmulator=!1;const a=Object.assign(Object.assign({},UD),e);try{const o=new jD(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Gc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gc(i,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Gc(i,"email-already-in-use",f);if(g==="USER_DISABLED")throw Gc(i,"user-disabled",f);const E=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Hg(i,E,p);ti(i,E)}}catch(o){if(o instanceof Ui)throw o;ti(i,"network-request-failed",{message:String(o)})}}async function BD(i,e,n,a,o={}){const u=await jo(i,e,n,a,o);return"mfaPendingCredential"in u&&ti(i,"multi-factor-auth-required",{_serverResponse:u}),u}function bw(i,e,n,a){const o=`${e}${n}?${a}`;return i.config.emulator?Fg(i.config,o):`${i.config.apiScheme}://${o}`}class jD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Ir(this.auth,"network-request-failed")),zD.get())})}}function Gc(i,e,n){const a={appName:i.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Ir(i,e,a);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(i,e){return jo(i,"POST","/v1/accounts:delete",e)}async function Aw(i,e){return jo(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qD(i,e=!1){const n=Qn(i),a=await n.getIdToken(e),o=Qg(a);Le(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:Jl(fm(o.auth_time)),issuedAtTime:Jl(fm(o.iat)),expirationTime:Jl(fm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function fm(i){return Number(i)*1e3}function Qg(i){const[e,n,a]=i.split(".");if(e===void 0||n===void 0||a===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{const o=DE(n);return o?JSON.parse(o):(th("Failed to decode base64 JWT payload"),null)}catch(o){return th("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function q0(i){const e=Qg(i);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(i,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Ui&&FD(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function FD({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(i){var e;const n=i.auth,a=await i.getIdToken(),o=await uu(i,Aw(n,{idToken:a}));Le(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?Rw(u.providerUserInfo):[],m=KD(i.providerData,f),g=i.isAnonymous,p=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=g?p:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Bm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,w)}async function QD(i){const e=Qn(i);await Ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KD(i,e){return[...i.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Rw(i){return i.map(e=>{var{providerId:n}=e,a=jg(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(i,e){const n=await Sw(i,{},async()=>{const a=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=bw(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",ww.fetch()(f,{method:"POST",headers:m,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function YD(i,e){return jo(i,"POST","/v2/accounts:revokeToken",Gg(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):q0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=q0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await $D(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new bo;return a&&(Le(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(Le(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Le(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(i,e){Le(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ni{constructor(e){var{uid:n,auth:a,stsTokenManager:o}=e,u=jg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Bm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await uu(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qD(this,e)}reload(){return QD(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Ah(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(br(this.auth.app))return Promise.reject(ps(this.auth));const e=await this.getIdToken();return await uu(this,HD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,o,u,f,m,g,p,E;const w=(a=n.displayName)!==null&&a!==void 0?a:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,C=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,M=(f=n.photoURL)!==null&&f!==void 0?f:void 0,K=(m=n.tenantId)!==null&&m!==void 0?m:void 0,z=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,X=(p=n.createdAt)!==null&&p!==void 0?p:void 0,J=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ae,emailVerified:ge,isAnonymous:k,providerData:oe,stsTokenManager:O}=n;Le(ae&&O,e,"internal-error");const R=bo.fromJSON(this.name,O);Le(typeof ae=="string",e,"internal-error"),ma(w,e.name),ma(A,e.name),Le(typeof ge=="boolean",e,"internal-error"),Le(typeof k=="boolean",e,"internal-error"),ma(C,e.name),ma(M,e.name),ma(K,e.name),ma(z,e.name),ma(X,e.name),ma(J,e.name);const b=new Ni({uid:ae,auth:e,email:A,emailVerified:ge,displayName:w,isAnonymous:k,photoURL:M,phoneNumber:C,tenantId:K,stsTokenManager:R,createdAt:X,lastLoginAt:J});return oe&&Array.isArray(oe)&&(b.providerData=oe.map(D=>Object.assign({},D))),z&&(b._redirectEventId=z),b}static async _fromIdTokenResponse(e,n,a=!1){const o=new bo;o.updateFromServerResponse(n);const u=new Ni({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Ah(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Le(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Rw(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new bo;m.updateFromIdToken(a);const g=new Ni({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Bm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=new Map;function Oi(i){Pi(i instanceof Function,"Expected a class definition");let e=F0.get(i);return e?(Pi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,F0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Cw.type="NONE";const G0=Cw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(i,e,n){return`firebase:${i}:${e}:${n}`}class Ao{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=nh(this.userKey,o.apiKey,u),this.fullPersistenceKey=nh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ni._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Ao(Oi(G0),e,a);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Oi(G0);const f=nh(a,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(f);if(E){const w=Ni._fromJSON(e,E);p!==u&&(m=w),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Ao(u,e,a):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new Ao(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ow(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Iw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Vw(e))return"Blackberry";if(xw(e))return"Webos";if(Dw(e))return"Safari";if((e.includes("chrome/")||Nw(e))&&!e.includes("edge/"))return"Chrome";if(Mw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function Iw(i=bn()){return/firefox\//i.test(i)}function Dw(i=bn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Nw(i=bn()){return/crios\//i.test(i)}function Ow(i=bn()){return/iemobile/i.test(i)}function Mw(i=bn()){return/android/i.test(i)}function Vw(i=bn()){return/blackberry/i.test(i)}function xw(i=bn()){return/webos/i.test(i)}function Kg(i=bn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function XD(i=bn()){var e;return Kg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function WD(){return WR()&&document.documentMode===10}function Lw(i=bn()){return Kg(i)||Mw(i)||xw(i)||Vw(i)||/windows phone/i.test(i)||Ow(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(i,e=[]){let n;switch(i){case"Browser":n=Q0(bn());break;case"Worker":n=`${Q0(bn())}-${i}`;break;default:n=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Po}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(i,e={}){return jo(i,"GET","/v2/passwordPolicy",Gg(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=6;class tN{constructor(e){var n,a,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:eN,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,o,u,f,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(a=g.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K0(this),this.idTokenSubscription=new K0(this),this.beforeStateQueue=new ZD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Oi(n)),this._initializationPromise=this.queue(async()=>{var a,o;if(!this._deleted&&(this.persistenceManager=await Ao.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Aw(this,{idToken:e}),a=await Ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(br(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ah(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(br(this.app))return Promise.reject(ps(this));const n=e?Qn(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return br(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return br(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JD(this),n=new tN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await YD(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Oi(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[Oi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,a,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(br(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&VD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Kh(i){return Qn(i)}class K0{constructor(e){this.auth=e,this.observer=null,this.addObserver=a1(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $g={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rN(i){$g=i}function iN(i){return $g.loadJS(i)}function aN(){return $g.gapiScript}function sN(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(i,e){const n=tg(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ys(u,e??{}))return o;ti(o,"already-initialized")}return n.initialize({options:e})}function lN(i,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Oi);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function uN(i,e,n){const a=Kh(i);Le(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=kw(e),{host:f,port:m}=cN(e),g=m===null?"":`:${m}`,p={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Le(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Le(ys(p,a.config.emulator)&&ys(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,hN()}function kw(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function cN(i){const e=kw(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:$0(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:$0(f)}}}function $0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function hN(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,n){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(i,e){return BD(i,"POST","/v1/accounts:signInWithIdp",Gg(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="http://localhost";class Ss extends Uw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=n,u=jg(n,["providerId","signInMethod"]);if(!a||!o)return null;const f=new Ss(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ro(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Ro(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ro(e,n)}buildRequest(){const e={requestUri:fN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends Yg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends wu{constructor(){super("facebook.com")}static credential(e){return Ss._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ya.credential(e.oauthAccessToken)}catch{return null}}}ya.FACEBOOK_SIGN_IN_METHOD="facebook.com";ya.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ss._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Ar.credential(n,a)}catch{return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com";Ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends wu{constructor(){super("github.com")}static credential(e){return Ss._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return va.credential(e.oauthAccessToken)}catch{return null}}}va.GITHUB_SIGN_IN_METHOD="github.com";va.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends wu{constructor(){super("twitter.com")}static credential(e,n){return Ss._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return _a.credential(n,a)}catch{return null}}}_a.TWITTER_SIGN_IN_METHOD="twitter.com";_a.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await Ni._fromIdTokenResponse(e,a,o),f=Y0(a);return new Lo({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=Y0(a);return new Lo({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function Y0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends Ui{constructor(e,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Rh(e,n,a,o)}}function zw(i,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(i,u,e,a):u})}async function dN(i,e,n=!1){const a=await uu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Lo._forOperation(i,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(i,e,n=!1){const{auth:a}=i;if(br(a.app))return Promise.reject(ps(a));const o="reauthenticate";try{const u=await uu(i,zw(a,o,e,i),n);Le(u.idToken,a,"internal-error");const f=Qg(u.idToken);Le(f,a,"internal-error");const{sub:m}=f;return Le(i.uid===m,a,"user-mismatch"),Lo._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ti(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(i,e,n=!1){if(br(i.app))return Promise.reject(ps(i));const a="signIn",o=await zw(i,a,e),u=await Lo._fromIdTokenResponse(i,a,o);return n||await i._updateCurrentUser(u.user),u}function pN(i,e,n,a){return Qn(i).onIdTokenChanged(e,n,a)}function yN(i,e,n){return Qn(i).beforeAuthStateChanged(e,n)}const Ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=1e3,_N=10;class jw extends Bw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Lw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);WD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_N):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},vN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jw.type="LOCAL";const EN=jw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw extends Bw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Hw.type="SESSION";const qw=Hw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new $h(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,u)),g=await TN(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(i="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const p=Xg("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function SN(i){Jr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function bN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AN(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function RN(){return Fw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="firebaseLocalStorageDb",CN=1,Ih="firebaseLocalStorage",Qw="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yh(i,e){return i.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function IN(){const i=indexedDB.deleteDatabase(Gw);return new Su(i).toPromise()}function jm(){const i=indexedDB.open(Gw,CN);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(Ih,{keyPath:Qw})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(Ih)?e(a):(a.close(),await IN(),e(await jm()))})})}async function X0(i,e,n){const a=Yh(i,!0).put({[Qw]:e,value:n});return new Su(a).toPromise()}async function DN(i,e){const n=Yh(i,!1).get(e),a=await new Su(n).toPromise();return a===void 0?null:a.value}function W0(i,e){const n=Yh(i,!0).delete(e);return new Su(n).toPromise()}const NN=800,ON=3;class Kw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>ON)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(RN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await bN(),!this.activeServiceWorker)return;this.sender=new wN(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jm();return await X0(e,Ch,"1"),await W0(e,Ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>X0(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>DN(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>W0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Yh(o,!1).getAll();return new Su(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Kw.type="LOCAL";const MN=Kw;new Tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(i,e){return e?Oi(e):(Le(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg extends Uw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function VN(i){return gN(i.auth,new Wg(i),i.bypassAuthState)}function xN(i){const{auth:e,user:n}=i;return Le(n,e,"internal-error"),mN(n,new Wg(i),i.bypassAuthState)}async function LN(i){const{auth:e,user:n}=i;return Le(n,e,"internal-error"),dN(n,new Wg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VN;case"linkViaPopup":case"linkViaRedirect":return LN;case"reauthViaPopup":case"reauthViaRedirect":return xN;default:ti(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=new Tu(2e3,1e4);async function kN(i,e,n){if(br(i.app))return Promise.reject(Ir(i,"operation-not-supported-in-this-environment"));const a=Kh(i);xD(i,e,Yg);const o=$w(a,n);return new gs(a,"signInViaPopup",e,o).executeNotNull()}class gs extends Yw{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,gs.currentPopupAction&&gs.currentPopupAction.cancel(),gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const e=Xg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PN.get())};e()}}gs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="pendingRedirect",rh=new Map;class zN extends Yw{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=rh.get(this.auth._key());if(!e){try{const a=await BN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}rh.set(this.auth._key(),e)}return this.bypassAuthState||rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BN(i,e){const n=qN(e),a=HN(i);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function jN(i,e){rh.set(i._key(),e)}function HN(i){return Oi(i._redirectPersistence)}function qN(i){return nh(UN,i.config.apiKey,i.name)}async function FN(i,e,n=!1){if(br(i.app))return Promise.reject(ps(i));const a=Kh(i),o=$w(a,e),f=await new zN(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=10*60*1e3;class QN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!Xw(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(Ir(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z0(e))}saveEventToCache(e){this.cachedEventUids.add(Z0(e)),this.lastProcessedEventTime=Date.now()}}function Z0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Xw({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xw(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(i,e={}){return jo(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XN=/^https?/;async function WN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await $N(i);for(const n of e)try{if(ZN(n))return}catch{}ti(i,"unauthorized-domain")}function ZN(i){const e=zm(),{protocol:n,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&a===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!XN.test(n))return!1;if(YN.test(i))return a===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=new Tu(3e4,6e4);function J0(){const i=Jr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function eO(i){return new Promise((e,n)=>{var a,o,u;function f(){J0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{J0(),n(Ir(i,"network-request-failed"))},timeout:JN.get()})}if(!((o=(a=Jr().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Jr().gapi)===null||u===void 0)&&u.load)f();else{const m=sN("iframefcb");return Jr()[m]=()=>{gapi.load?f():n(Ir(i,"network-request-failed"))},iN(`${aN()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw ih=null,e})}let ih=null;function tO(i){return ih=ih||eO(i),ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=new Tu(5e3,15e3),rO="__/auth/iframe",iO="emulator/auth/iframe",aO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oO(i){const e=i.config;Le(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Fg(e,iO):`https://${i.config.authDomain}/${rO}`,a={apiKey:e.apiKey,appName:i.name,v:Po},o=sO.get(i.config.apiHost);o&&(a.eid=o);const u=i._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${gu(a).slice(1)}`}async function lO(i){const e=await tO(i),n=Jr().gapi;return Le(n,i,"internal-error"),e.open({where:document.body,url:oO(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aO,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=Ir(i,"network-request-failed"),m=Jr().setTimeout(()=>{u(f)},nO.get());function g(){Jr().clearTimeout(m),o(a)}a.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cO=500,hO=600,fO="_blank",dO="http://localhost";class eE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mO(i,e,n,a=cO,o=hO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const g=Object.assign(Object.assign({},uO),{width:a.toString(),height:o.toString(),top:u,left:f}),p=bn().toLowerCase();n&&(m=Nw(p)?fO:n),Iw(p)&&(e=e||dO,g.scrollbars="yes");const E=Object.entries(g).reduce((A,[C,M])=>`${A}${C}=${M},`,"");if(XD(p)&&m!=="_self")return gO(e||"",m),new eE(null);const w=window.open(e||"",m,E);Le(w,i,"popup-blocked");try{w.focus()}catch{}return new eE(w)}function gO(i,e){const n=document.createElement("a");n.href=i,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="__/auth/handler",yO="emulator/auth/handler",vO=encodeURIComponent("fac");async function tE(i,e,n,a,o,u){Le(i.config.authDomain,i,"auth-domain-config-required"),Le(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:a,v:Po,eventId:o};if(e instanceof Yg){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",i1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof wu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await i._getAppCheckToken(),p=g?`#${vO}=${encodeURIComponent(g)}`:"";return`${_O(i)}?${gu(m).slice(1)}${p}`}function _O({config:i}){return i.emulator?Fg(i,yO):`https://${i.authDomain}/${pO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="webStorageSupport";class EO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qw,this._completeRedirectFn=FN,this._overrideRedirectResult=jN}async _openPopup(e,n,a,o){var u;Pi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await tE(e,n,a,zm(),o);return mO(e,f,Xg())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await tE(e,n,a,zm(),o);return SN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Pi(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await lO(e),a=new QN(e);return n.register("authEvent",o=>(Le(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dm,{type:dm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[dm];f!==void 0&&n(!!f),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Lw()||Dw()||Kg()}}const TO=EO;var nE="@firebase/auth",rE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bO(i){Co(new vs("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;Le(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pw(i)},p=new nN(a,o,u,g);return lN(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Co(new vs("auth-internal",e=>{const n=Kh(e.getProvider("auth").getImmediate());return(a=>new wO(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sa(nE,rE,SO(i)),Sa(nE,rE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=5*60,RO=ME("authIdTokenMaxAge")||AO;let iE=null;const CO=i=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>RO)return;const o=n==null?void 0:n.token;iE!==o&&(iE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function IO(i=PE()){const e=tg(i,"auth");if(e.isInitialized())return e.getImmediate();const n=oN(i,{popupRedirectResolver:TO,persistence:[MN,EN,qw]}),a=ME("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=CO(u.toString());yN(n,f,()=>f(n.currentUser)),pN(n,m=>f(m))}}const o=NE("auth");return o&&uN(n,`http://${o}`),n}function DO(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}rN({loadJS(i){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=o=>{const u=Ir("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",DO().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bO("Browser");const NO="/assets/google-DBC4PPjQ.png",Ww=$.createContext(),OO=({children:i})=>{const[e,n]=$.useState([]),[a,o]=$.useState(localStorage.getItem("currentUser")?JSON.parse(localStorage.getItem("currentUser")):""),[u,f]=$.useState(localStorage.getItem("theme")?JSON.parse(localStorage.getItem("theme")):"light"),[m,g]=$.useState("");function p(){if(a!==""){const E=[],w=bD(Ng(ws,a.uid)),A=ND(w,C=>{C.forEach(M=>{E.push(M.data())}),n(E),A()})}}return Se.jsx(Ww.Provider,{value:{notesInfo:e,setNotesInfo:n,currentUser:a,setCurrentUser:o,theme:u,setTheme:f,currentNote:m,setCurrentNote:g,receiveUpdates:p},children:i})},bu=()=>$.useContext(Ww);function Zw(){const{theme:i,setTheme:e}=bu();function n(){e(u=>u==="light"?"dark":"light")}$.useEffect(()=>{localStorage.setItem("theme",JSON.stringify(i))},[i]);const a={marginLeft:i==="light"?"0px":window.innerWidth>600?"29px":"12px",backgroundColor:i==="light"?"white":"blue"},o={border:i==="light"?"3px solid white":"3px solid rgb(0, 0, 100)"};return Se.jsxs("div",{className:"theme",children:[Se.jsx("p",{className:"light",children:"Light"}),Se.jsx("button",{className:"toggle-bar",style:o,onClick:n,children:Se.jsx("div",{className:"toggle-thumb",id:"toggle-thumb",style:a})}),Se.jsx("p",{className:"dark",children:"Dark"})]})}const MO=`Welcome to Vector Prime Notes!

This is a simple notes app with a toggle for Dark Modedefinitely worth trying.

How to Use the App:
1. Log In: Ensure you have an internet connection to save notes to the database; otherwise, they are stored temporarily on your device.
2. Add Notes: Click the 'Add Note' button to create a new note.
3. Edit Notes: Click 'Edit Notes' to modify. Dont forget to click 'Save Note' after editing.
4. Search Notes: Use the search bar to find notes quickly by title or category.
         For title searches, type any part of the title.
         For category searches, prefix with : (e.g., :physics).
5. Delete Notes: Click 'Delete Note' to remove a note.
7. Log Out: Click the menu button and select 'Log out'.

I Value Your Feedback!
If you have suggestions for improvements or features you'd like to see, please let me know. Your feedback helps me make the app better for everyone! You can send your suggestions to vectorprime2024@gmail.com and I'll get to it as soon as possible.

Thank you for using Vector Prime Notes!`,VO=()=>{const{currentUser:i,setCurrentUser:e,theme:n}=bu(),a=new Ar,o=IO(_w),u=fu();async function f(){try{const g=await kN(o,a),E=Ar.credentialFromResult(g).accessToken,w=g.user;console.log(w),e(w),localStorage.setItem("currentUser",JSON.stringify(w))}catch(g){const p=g.code,E=g.message;alert(`${p} : ${E}`),g.customData.email,Ar.credentialFromError(g)}}async function m(){const g=await pw(Ng(ws,i.uid)),p=wh(ws,i.uid,"Welcome To Notes App"),E={id:"Welcome To Notes App",heading:"A guide on how to use the notes app",body:MO,date:Date.now(),category:"Welcome"};g.length||await Bg(p,E),u("/")}return $.useEffect(()=>{i!=""&&m()},[i]),Se.jsxs("div",{className:`login-page ${n==="dark"&&"dark"}`,children:[Se.jsx("title",{children:"Login"}),Se.jsx(Zw,{}),Se.jsxs("div",{className:"login-page-banner",children:[Se.jsx("h1",{children:"NOTES APP"}),Se.jsx("p",{children:"Sign in to access your notes anytime, anywhere on any device"})]}),Se.jsxs("div",{className:`login-container ${n==="dark"&&"dark"}`,children:[Se.jsx("h3",{children:"Login to Notes App"}),Se.jsxs("button",{className:"login-button",onClick:f,children:[Se.jsx("img",{src:NO}),Se.jsx("p",{children:"Continue with Google"})]})]})]})};function xO({note:i,notesInfo:e,setNotesInfo:n,noteTabSection:a}){const o=fu(),{setCurrentNote:u}=bu(),f=i.date,m=new Date(Number(f)).toDateString(),g=e.indexOf(i);function p(){u(e[g]),o("/notes")}return Se.jsxs("button",{className:`note-tab ${a&&"note-tab-section-heading"}`,onClick:p,children:[Se.jsx("input",{type:"text",value:i.category!==""?i.category:"Add Category",className:"tab-category",maxLength:20,disabled:!0}),Se.jsx("div",{className:"note-last-edited-time",children:m}),Se.jsx("h3",{children:i.heading?i.heading:"No Heading"})]})}const LO="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='40px'%20viewBox='0%20-960%20960%20960'%20width='40px'%20fill='%23FFFFFF'%3e%3cpath%20d='M427.67-427.67H224.33q-21.83%200-37.08-15.28T172-480.12q0-21.88%2015.25-37.05%2015.25-15.16%2037.08-15.16h203.34v-203.34q0-21.75%2015.28-37.37%2015.28-15.63%2037.17-15.63%2021.88%200%2037.05%2015.63%2015.16%2015.62%2015.16%2037.37v203.34h203.34q21.75%200%2037.37%2015.28%2015.63%2015.28%2015.63%2037.17%200%2021.88-15.63%2037.05-15.62%2015.16-37.37%2015.16H532.33v203.34q0%2021.83-15.28%2037.08T479.88-172q-21.88%200-37.05-15.25-15.16-15.25-15.16-37.08v-203.34Z'/%3e%3c/svg%3e",PO="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='40px'%20viewBox='0%20-960%20960%20960'%20width='40px'%20fill='%23FFFFFF'%3e%3cpath%20d='M144.33-199q-21.83%200-37.08-15.28Q92-229.57%2092-252.12q0-21.88%2015.25-37.05%2015.25-15.16%2037.08-15.16h671.34q21.83%200%2037.41%2015.28%2015.59%2015.28%2015.59%2037.17%200%2022.55-15.59%2037.71Q837.5-199%20815.67-199H144.33Zm0-228.67q-21.83%200-37.08-15.28T92-480.12q0-21.88%2015.25-37.05%2015.25-15.16%2037.08-15.16h671.34q21.83%200%2037.41%2015.28%2015.59%2015.28%2015.59%2037.17%200%2021.88-15.59%2037.05-15.58%2015.16-37.41%2015.16H144.33Zm0-228q-21.83%200-37.08-15.28T92-708.78q0-21.89%2015.25-37.05Q122.5-761%20144.33-761h671.34q21.83%200%2037.41%2015.28%2015.59%2015.29%2015.59%2037.17%200%2022.55-15.59%2037.72-15.58%2015.16-37.41%2015.16H144.33Z'/%3e%3c/svg%3e",kO="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='40px'%20viewBox='0%20-960%20960%20960'%20width='40px'%20fill='%23FFFFFF'%3e%3cpath%20d='M481-421.33%20278.67-218.67q-12.67%2012.67-30%2012.5-17.34-.16-30-13.5-12.34-12.66-11.84-29%20.5-16.33%2012.84-29.66L421-480%20218.67-683.67q-12.34-12.66-12.34-29%200-16.33%2012.34-29.66%2012.66-12.67%2030-12.84%2017.33-.16%2030%2012.5L481-540l200.33-202.67q12.67-12.66%2030-12.5%2017.34.17%2030%2012.84%2012.34%2013.33%2011.84%2029.66-.5%2016.34-12.17%2029L539.67-480%20741-278.33q11.67%2012.33%2012.17%2029.16.5%2016.84-11.84%2029.5-12.66%2013.34-30%2013.5-17.33.17-30-12.5L481-421.33Z'/%3e%3c/svg%3e",UO="/assets/logo-DuLGIUP5.png";function Jw({noteTabSection:i}){const{currentUser:e,setCurrentUser:n,notesInfo:a,setNotesInfo:o,receiveUpdates:u,setCurrentNote:f,theme:m}=bu(),g=e.photoURL;async function p(){const oe=await pw(Ng(ws,e.uid));a.length===0&&oe.forEach(O=>{o(R=>[...R,O.data()])})}$.useEffect(()=>{if(e.uid)p();else{E("/login");return}},[e.uid]);const E=fu(),[w,A]=$.useState(a),[C,M]=$.useState("");$.useEffect(()=>{C.substring(0,1)===":"?A(a.filter(oe=>(oe.category?oe.category.toLowerCase():"none").includes(C.substring(1))).sort((oe,O)=>Number(O.date)-Number(oe.date))):A(a.filter(oe=>oe.heading.toLowerCase().includes(C)).sort((oe,O)=>Number(O.date)-Number(oe.date))),console.log(a)},[a]);const[K,z]=$.useState(!1);function X(){z(oe=>!oe)}function J(oe){const{value:O}=oe.target,R=O.toLowerCase();R.substring(0,1)===":"?A(a.filter(b=>{const D=b.category?b.category.toLowerCase():"none";return M(R),D.includes(R.substring(1))}).sort((b,D)=>Number(D.date)-Number(b.date))):A(a.filter(b=>{const D=b.heading.toLowerCase();return M(R),D.includes(R)}).sort((b,D)=>Number(D.date)-Number(b.date)))}async function ae(){const oe=e.uid+"-"+Date.now(),O=wh(ws,e.uid,oe),R=await ID(O),b={id:oe,heading:"",body:"",date:Date.now(),category:""};R.exists()||(await Bg(O,b),E("/notes"),u(),f(b))}function ge(){n(""),localStorage.removeItem("currentUser")}const k=w.map((oe,O)=>Se.jsx(xO,{note:oe,setNotesInfo:o,notesInfo:a,noteTabSection:i},O));return Se.jsxs("main",{className:`tab-page ${i&&"note-tab-section"} ${m==="dark"&&"dark"}`,children:[Se.jsx("button",{className:"menu-bar-button",children:Se.jsx("img",{src:K?kO:PO,onClick:X})}),Se.jsx(Zw,{}),Se.jsxs("aside",{className:`menu-bar ${m==="dark"&&"dark"}`,style:{display:K?"block":"none"},children:[Se.jsx("div",{className:"user-photo",children:Se.jsx("img",{src:g})}),Se.jsx("h3",{className:"username",children:e.displayName}),Se.jsxs("button",{className:"accounts-button log-out",onClick:ge,children:[Se.jsx("img",{src:ge}),"Log Out"]})]}),Se.jsx("div",{className:`logo-container ${i&&"note-tab-section"}`,children:Se.jsx("img",{src:UO,alt:"Notes App"})}),Se.jsx("input",{className:`search-notes-field ${i&&"note-tab-section"}`,type:"search",placeholder:"Search for Notes...",onChange:J}),Se.jsxs("button",{className:"add-note-button",onClick:ae,children:[Se.jsx("img",{src:LO})," Add Note"]}),Se.jsx("section",{className:`tabs-section ${i&&"note-tab-section"}`,children:k})]})}const zO="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23FFFFFF'%3e%3cpath%20d='m376-412%20152%20153q20%2020%2020.5%2048.5T528-162q-20%2020-48.5%2020T431-163L162-431q-9-10-14.5-22.5T142-480q0-13%205.5-25.5T162-528l271-270q20-21%2048-21t48%2021q21%2020%2021%2048.5T529-701L376-548h402q29%200%2048.5%2020t19.5%2048q0%2029-19.5%2048.5T778-412H376Z'/%3e%3c/svg%3e";function BO(){const{currentUser:i,currentNote:e,receiveUpdates:n,theme:a}=bu(),[o,u]=$.useState(!1),[f,m]=$.useState({heading:e.heading,body:e.body,category:e.category,date:e.date,id:e.id}),g=fu();$.useEffect(()=>{m({heading:e.heading,body:e.body,category:e.category,date:e.date,id:e.id}),console.log(e)},[e]);function p(M){const{name:K,value:z}=M.target;m(X=>({...X,[K]:z,date:Date.now()}))}function E(){o&&(w(),n()),u(M=>!M)}async function w(){try{const M=wh(ws,i.uid,f.id);await Bg(M,f)}catch(M){alert(M)}}function A(){g("/")}async function C(){await DD(wh(ws,i.uid,e.id)),n(),A()}return Se.jsxs("div",{className:"note-page",children:[Se.jsx("header",{className:`header-component ${a==="dark"&&"dark"}`,children:Se.jsx("button",{className:"arrow-back-button",children:Se.jsx("img",{src:zO,onClick:A})})}),Se.jsxs("main",{className:"note-main",children:[Se.jsx("section",{className:"tab-section",children:Se.jsx(Jw,{noteTabSection:!0,allowEditing:!0})}),Se.jsxs("section",{className:`note-section ${a==="dark"&&"dark"}`,children:[Se.jsx("label",{htmlFor:"note-title",className:"note-title-label hidden",children:"Note Title"}),Se.jsx("textarea",{name:"heading",id:"note-title",className:`note-title ${o&&"editable"} ${a==="dark"&&"dark"}`,placeholder:"Enter Note Title",value:f.heading,disabled:!o,onChange:p}),Se.jsx("label",{htmlFor:"note-category",className:"note-category-label hidden",children:"Note Category"}),Se.jsx("input",{type:"text",name:"category",id:"note-category",className:`note-category ${o&&"editable"} ${a==="dark"&&"dark"}`,maxLength:20,value:f.category,disabled:!o,onChange:p,placeholder:"ADD CATEGORY"}),Se.jsx("button",{className:`edit-save-button ${a==="dark"&&"dark"}`,onClick:E,children:o?"Save Note":"Edit Note"}),Se.jsx("button",{className:`delete-note-button ${a==="dark"&&"dark"}`,onClick:C,children:"Delete Note"}),Se.jsx("textarea",{name:"body",id:"note-body",className:`note-body ${o&&"editable"} ${a==="dark"&&"dark"}`,value:f.body,disabled:!o,onChange:p,placeholder:"Your new note is ready"})]})]})]})}const jO=({children:i})=>($.useEffect(()=>{const e=n=>{(n.touches.length>1||n.touches[0].clientY>0)&&n.preventDefault()};return document.addEventListener("touchmove",e,{passive:!1}),()=>{document.removeEventListener("touchmove",e)}},[]),Se.jsx("div",{style:{touchAction:"pan-x"},children:i}));function HO(){const i=TR([{path:"/",element:Se.jsx(Jw,{})},{path:"/notes",element:Se.jsx(BO,{})},{path:"/login",element:Se.jsx(VO,{})}]);return Se.jsx(OO,{children:Se.jsx(jO,{children:Se.jsx(xR,{router:i})})})}Mb.createRoot(document.getElementById("root")).render(Se.jsx(HO,{}));
